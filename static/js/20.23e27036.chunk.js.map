{"version":3,"sources":["../node_modules/date-fns/esm/addMonths/index.js","assets/commonAssets.js","components/CustomCircularProgress.js","../node_modules/@material-ui/icons/Save.js","../node_modules/@material-ui/icons/Cancel.js","../node_modules/@material-ui/icons/Add.js","../node_modules/date-fns/esm/startOfMonth/index.js","../node_modules/date-fns/esm/subMonths/index.js","../node_modules/date-fns/esm/endOfMonth/index.js","../node_modules/date-fns/esm/addYears/index.js","../node_modules/date-fns/esm/subYears/index.js","../node_modules/@material-ui/core/colors/grey.js","components/property/ChargesTable.js","components/property/ChargeInputModal.js","components/property/UnitLeaseInputForm.js","Routes/LeasePage.js"],"names":["addMonths","dirtyDate","dirtyAmount","requiredArgs","arguments","date","toDate","amount","toInteger","isNaN","Date","NaN","dayOfMonth","getDate","endOfDesiredMonth","getTime","setMonth","getMonth","daysInMonth","setFullYear","getFullYear","monthsInYear","eachMonthOfInterval","start","startOfYear","startOfToday","end","endOfYear","TITLES_LIST","GENDERS_LIST","EXPENSES_CATEGORIES","UNIT_TYPES","LEASE_OPTIONS","METER_TYPES","PAYMENT_FREQUENCY_OPTIONS","getContactTitles","getGendersList","getExpensesCategories","getUnitTypes","getPropertyBaths","baths","i","push","concat","getPropertyBeds","beds","getMeterTypes","getLeaseOptions","getPaymentOptions","getTransactionsFilterOptions","id","text","getLastMonthFromToDates","startOfMonth","subMonths","endOfMonth","getLastYearFromToDates","subYears","getYearToDateFromToDates","getCurrentMonthFromToDates","getLastThreeMonthsFromToDates","getMonthsInYear","currencyFormatter","Intl","NumberFormat","undefined","style","currency","useStyles","makeStyles","theme","root","display","alignItems","height","width","wrapper","margin","spacing","position","buttonProgress","color","green","top","left","marginTop","marginLeft","CustomCircularProgress","open","dialogTitle","classes","maxWidth","aria-labelledby","container","direction","item","lg","className","size","_interopRequireDefault","require","Object","defineProperty","exports","value","default","_react","_default","createElement","d","setDate","setHours","month","addYears","50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700","StyledTableCell","withStyles","head","backgroundColor","GREY","palette","common","white","body","fontSize","TableCell","StyledTableRow","action","hover","TableRow","EnhancedTableHead","props","headCells","TableHead","map","headCell","index","key","label","EnhancedTable","rows","handleDelete","handleEditClick","React","useState","page","setPage","rowsPerPage","setRowsPerPage","emptyRows","Math","min","length","TableContainer","component","Paper","Table","stickyHeader","aria-label","rowCount","TableBody","slice","row","rowIndex","tableCellIndex","tableCellData","scope","sortDirection","Tooltip","title","placement","IconButton","onClick","event","colSpan","TablePagination","rowsPerPageOptions","count","onChangePage","newPage","onChangeRowsPerPage","RENT_CYCLES","CHARGE_TYPES","name","UnitChargeSchema","Yup","shape","type","trim","required","due_date","charge_label","frequency","when","is","then","typeError","positive","FormDialog","commonStyles","handleClose","handleItemSubmit","chargeValues","Dialog","fullWidth","onClose","DialogTitle","DialogContent","initialValues","validationSchema","onSubmit","values","a","resetForm","setStatus","unitChargeToSave","property_id","unit_id","sent","msg","status","handleSubmit","touched","errors","handleChange","handleBlur","isSubmitting","form","method","Grid","CustomSnackbar","variant","message","xs","md","TextField","select","onBlur","onChange","error","helperText","MenuItem","InputLabelProps","shrink","buttonBox","Button","startIcon","disableElevation","disabled","defaultDate","format","LEASE_TYPES","recurringChargesTableHeadCells","numeric","disablePadding","UnitLeaseSchema","lease_type","rent_cycle","tenants","start_date","rent_amount","security_deposit","water_deposit","end_date","rent_due_date","security_deposit_due_date","UnitLeaseInputForm","contacts","history","properties","propertyUnits","leaseUnitCharges","handleItemDelete","leaseToEdit","unitLeaseValues","filter","Array","isArray","includes","cosigner","find","terminated","unit_charges","defaultChargeValues","modalOpenState","toggleModalState","chargeToEdit","setChargeToEdit","handleModalStateToggle","enableReinitialize","propertyUnitLease","tenant","newRentCharge","payed","charge_amount","charge_date","charge_type","tenant_id","newSecurityDepositCharge","newWaterDepositCharge","goBack","setFieldValue","Typography","target","property","ref","unit","justify","paragraph","Autocomplete","multiple","newValue","options","autoHighlight","getOptionLabel","option","first_name","last_name","renderOption","Fragment","renderInput","params","inputProps","unitCharges","chargeToDelete","splice","oneMarginTopBottom","TransactionPage","tenantsToShow","propertyUnitsToShow","pageTitle","PageHeading","connect","state","ownProps","leases","match","leaseId","activeLeases","unitsWithActiveLeases","lease","contactsWithActiveLeases","forEach","propertyUnitCharges","dispatch","itemId","url","handleItemFormSubmit","withRouter"],"mappings":"2GAAA,4DA0Be,SAASA,EAAUC,EAAWC,GAC3CC,YAAa,EAAGC,WAChB,IAAIC,EAAOC,YAAOL,GACdM,EAASC,YAAUN,GAEvB,GAAIO,MAAMF,GACR,OAAO,IAAIG,KAAKC,KAGlB,IAAKJ,EAEH,OAAOF,EAGT,IAAIO,EAAaP,EAAKQ,UASlBC,EAAoB,IAAIJ,KAAKL,EAAKU,WACtCD,EAAkBE,SAASX,EAAKY,WAAaV,EAAS,EAAG,GACzD,IAAIW,EAAcJ,EAAkBD,UAEpC,OAAID,GAAcM,EAGTJ,GASPT,EAAKc,YAAYL,EAAkBM,cAAeN,EAAkBG,WAAYL,GACzEP,K,iCClEX,8oBAEMgB,EAAeC,YAAoB,CACxCC,MAAOC,YAAYC,eACnBC,IAAKC,YAAUF,iBAGVG,EAAc,CAAC,KAAM,OAAQ,MAAO,MAAO,MAAO,OAAQ,KAAM,QAAS,SACzEC,EAAe,CAAC,OAAQ,SAAU,eAClCC,EAAsB,CAC3B,0BACA,uBACA,kBACA,YACA,QACA,WACA,SACA,yBACA,cACA,YACA,kCACA,gBACA,WACA,eACA,UACA,SAQKC,EAAa,CAClB,aACA,cACA,cACA,cACA,cACA,OACA,SAEKC,EAAgB,CACrB,QACA,oBAEKC,EAAc,CAAC,WAAY,QAAS,SAEpCC,EAA4B,CAAC,QAAS,SAAU,UAAW,YAAa,cAAe,UAGtF,SAASC,IACf,OAAOP,EAGD,SAASQ,IACf,OAAOP,EAGD,SAASQ,IACf,OAAOP,EASD,SAASQ,IACf,OAAOP,EAGD,SAASQ,IAEf,IADA,IAAMC,EAAQ,GACLC,EAAI,EAAGA,GAAK,EAAGA,IACvBD,EAAME,KAAKD,GAEZ,OAAOD,EAAMG,OAAO,MAGd,SAASC,IAEf,IADA,IAAMC,EAAO,GACJJ,EAAI,EAAGA,GAAK,EAAGA,IACvBI,EAAKH,KAAKD,GAEX,OAAOI,EAOD,SAASC,IACf,OAAOb,EAGD,SAASc,IACf,OAAOf,EAGD,SAASgB,IACf,OAAOd,EAGD,SAASe,IACf,MAAO,CACN,CAAEC,GAAI,gBAAiBC,KAAM,iBAAmB,CAAED,GAAI,aAAcC,KAAM,cAC1E,CAAED,GAAI,mBAAoBC,KAAM,oBAAsB,CAAED,GAAI,eAAgBC,KAAM,gBAClF,CAAED,GAAI,YAAaC,KAAM,cAGpB,SAASC,IACf,MAAO,CAACC,YAAaC,YAAU7B,cAAgB,IAAK8B,YAAWD,YAAU7B,cAAgB,KAGnF,SAAS+B,IACf,MAAO,CAAChC,YAAYiC,YAAShC,cAAgB,IAAKE,YAAU8B,YAAShC,cAAgB,KAG/E,SAASiC,IACf,MAAO,CAAClC,YAAYC,eAAiBA,eAG/B,SAASkC,IACf,MAAO,CAACN,YAAa5B,eAAiB8B,YAAW9B,gBAG3C,SAASmC,IACf,MAAO,CAACP,YAAaC,YAAU7B,cAAgB,IAAK8B,YAAW9B,gBAGzD,SAASoC,IACf,OAAOxC,EAID,IAAMyC,EAAoB,IAAIC,KAAKC,kBAAaC,EAAW,CACjEC,MAAO,UACPC,SAAU,S,iCC3IX,oHAUMC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACFC,QAAS,OACTC,WAAY,SACZC,OAAQ,GACRC,MAAO,KAEXC,QAAS,CACLC,OAAQP,EAAMQ,QAAQ,GACtBC,SAAU,WACVL,OAAQ,GACRC,MAAO,IAEXK,eAAgB,CACZC,MAAOC,IAAM,KACbH,SAAU,WACVI,IAAK,MACLC,KAAM,MACNC,WAAY,GACZC,YAAa,QAIN,SAASC,EAAT,GAAwD,IAAtBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,YAC7CC,EAAUtB,IAEhB,OACI,kBAAC,IAAD,CAAQuB,SAAU,KAAMC,kBAAgB,sBAAsBJ,KAAMA,GAChE,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAMK,WAAS,EAACpB,WAAW,SAASqB,UAAU,UAC1C,kBAAC,IAAD,CAAMC,MAAI,EAACC,IAAE,GACT,kBAAC,IAAD,KAAaP,GAAe,cAEhC,kBAAC,IAAD,CAAMM,MAAI,EAACC,IAAE,GACT,yBAAKC,UAAWP,EAAQnB,MACpB,yBAAK0B,UAAWP,EAAQd,SACnBY,GAAQ,kBAAC,IAAD,CAAkBU,KAAM,GAAID,UAAWP,EAAQV,yB,iCC5CxF,IAAImB,EAAyBC,EAAQ,IAErCC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAASP,EAAuBC,EAAQ,IAIxCO,GAAW,EAFMR,EAAuBC,EAAQ,KAElBK,SAASC,EAAOD,QAAQG,cAAc,OAAQ,CAC9EC,EAAG,mJACD,QAEJN,EAAQE,QAAUE,G,iCCflB,IAAIR,EAAyBC,EAAQ,IAErCC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAASP,EAAuBC,EAAQ,IAIxCO,GAAW,EAFMR,EAAuBC,EAAQ,KAElBK,SAASC,EAAOD,QAAQG,cAAc,OAAQ,CAC9EC,EAAG,oLACD,UAEJN,EAAQE,QAAUE,G,iCCflB,IAAIR,EAAyBC,EAAQ,IAErCC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAASP,EAAuBC,EAAQ,IAIxCO,GAAW,EAFMR,EAAuBC,EAAQ,KAElBK,SAASC,EAAOD,QAAQG,cAAc,OAAQ,CAC9EC,EAAG,wCACD,OAEJN,EAAQE,QAAUE,G,iCCjBlB,oDAyBe,SAAStD,EAAapD,GACnCE,YAAa,EAAGC,WAChB,IAAIC,EAAOC,YAAOL,GAGlB,OAFAI,EAAKyG,QAAQ,GACbzG,EAAK0G,SAAS,EAAG,EAAG,EAAG,GAChB1G,I,iCC9BT,8DA0Be,SAASiD,EAAUrD,EAAWC,GAC3CC,YAAa,EAAGC,WAChB,IAAIG,EAASC,YAAUN,GACvB,OAAOF,YAAUC,GAAYM,K,iCC7B/B,oDAyBe,SAASgD,EAAWtD,GACjCE,YAAa,EAAGC,WAChB,IAAIC,EAAOC,YAAOL,GACd+G,EAAQ3G,EAAKY,WAGjB,OAFAZ,EAAKc,YAAYd,EAAKe,cAAe4F,EAAQ,EAAG,GAChD3G,EAAK0G,SAAS,GAAI,GAAI,GAAI,KACnB1G,I,+FCLM,SAAS4G,EAAShH,EAAWC,GAC1CC,YAAa,EAAGC,WAChB,IAAIG,EAASC,YAAUN,GACvB,OAAOF,YAAUC,EAAoB,GAATM,GCHf,SAASkD,EAASxD,EAAWC,GAC1CC,YAAa,EAAGC,WAChB,IAAIG,EAASC,YAAUN,GACvB,OAAO+G,EAAShH,GAAYM,K,iCC3B9B8F,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAClB,IAgBIE,EAhBO,CACTO,GAAI,UACJC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,KAAM,UACNC,KAAM,UACNC,KAAM,UACNC,KAAM,WAGRxB,EAAQE,QAAUE,G,+SCNZqB,EAAkBC,aAAW,SAAC3D,GAAD,MAAY,CAC7C4D,KAAM,CACJC,gBAAiBC,IAAK,KACtBnD,MAAOX,EAAM+D,QAAQC,OAAOC,OAE9BC,KAAM,CACJC,SAAU,OANUR,CAQpBS,KAEEC,EAAiBV,aAAW,SAAC3D,GAAD,MAAY,CAC5CC,KAAM,CACJ,qBAAsB,CACpB4D,gBAAiB7D,EAAM+D,QAAQO,OAAOC,WAHrBZ,CAMnBa,KAEJ,SAASC,EAAkBC,GAAQ,IACzBC,EAAcD,EAAdC,UACR,OACE,kBAACC,EAAA,EAAD,KACE,kBAACJ,EAAA,EAAD,KACGG,EAAUE,KAAI,SAACC,EAAUC,GAAX,OACb,kBAACrB,EAAD,CAAiBsB,IAAKD,GACnBD,EAASG,YAQP,SAASC,EAAcR,GAAQ,IAE1CS,EAIET,EAJFS,KACAR,EAGED,EAHFC,UACAS,EAEEV,EAFFU,aACAC,EACEX,EADFW,gBALyC,EAOnBC,IAAMC,SAAS,GAPI,mBAOpCC,EAPoC,KAO9BC,EAP8B,OAQLH,IAAMC,SAAS,GARV,mBAQpCG,EARoC,KAQvBC,EARuB,KAoBrCC,EAAYF,EAAcG,KAAKC,IAAIJ,EAAaP,EAAKY,OAASP,EAAOE,GAE3E,OACE,6BACE,kBAACM,EAAA,EAAD,CAAgBC,UAAWC,KACzB,kBAACC,EAAA,EAAD,CAAOC,cAAY,EACjB9E,kBAAgB,aAChBM,KAAM,SACNyE,aAAW,kBAEX,kBAAC5B,EAAD,CACEE,UAAWA,EACX2B,SAAUnB,EAAKY,SAEjB,kBAACQ,EAAA,EAAD,KAEIpB,EAAKqB,MAAMhB,EAAOE,EAAaF,EAAOE,EAAcA,GACjDb,KAAI,SAAC4B,EAAKC,GACT,OACE,kBAACrC,EAAD,CAAgBW,IAAG,aAAQ0B,IACxB/B,EAAUE,KACT,SAACC,EAAU6B,GACT,IAAMC,EACJH,EAAI3B,EAASlG,IACf,MACkB,SAAhBkG,EAASlG,GACP,kBAACwF,EAAA,EAAD,CACE6B,UAAU,KACVY,MAAM,MACNC,eAAe,EACf9B,IAAG,cAAS2B,IAEZ,kBAACI,EAAA,EAAD,CACEC,MAAM,OACNC,UAAU,UAEV,kBAACC,EAAA,EAAD,CACEC,QAAS,SAACC,GACR/B,EAAgBqB,IAElB/F,MAAM,UACNiB,KAAK,SAEL,kBAAC,IAAD,CAAUuC,SAAS,eAIP,WAAhBW,EAASlG,GACX,kBAACwF,EAAA,EAAD,CACE6B,UAAU,KACVY,MAAM,MACNC,eAAe,EACf9B,IAAG,gBAAW2B,IAEd,kBAACI,EAAA,EAAD,CACEC,MAAM,SACNC,UAAU,UAEV,kBAACC,EAAA,EAAD,CACEC,QAAS,SAACC,GACRhC,EAAasB,IAEf/F,MAAM,UACNiB,KAAK,SAEL,kBAAC,IAAD,CAAYuC,SAAS,eAIzB,kBAACT,EAAD,CAAiBuC,UAAU,KAAKY,MAAM,MAAM7B,IAAG,eAAU2B,IACxDC,GAAiB,mBAQrChB,EAAY,GACX,kBAACpB,EAAA,EAAD,CAAU5E,MAAO,CAAEQ,OAAS,GAAMwF,IAChC,kBAACxB,EAAA,EAAD,CAAWiD,QAAS,QAM9B,kBAACC,EAAA,EAAD,CACEC,mBAAoB,CAAC,GACrBtB,UAAU,MACVuB,MAAOrC,EAAKY,OACZL,YAAaA,EACbF,KAAMA,EACNiC,aAtGmB,SAACL,EAAOM,GAC/BjC,EAAQiC,IAsGJC,oBAnG0B,SAACP,GAC/BzB,EAAe,IACfF,EAAQ,O,iJCjDNmC,EAAclJ,cACdmJ,GAAe,CACjB,CAAEjJ,GAAI,kBAAmBkJ,KAAM,mBAC/B,CAAElJ,GAAI,mBAAoBkJ,KAAM,qBAG9BC,GAAmBC,MAAaC,MAAM,CACxCC,KAAMF,MAAaG,OAAOC,SAAS,2BACnCC,SAAUL,MAAWI,SAAS,wBAC9BE,aAAcN,MAAaG,OAAOC,SAAS,2BAC3CG,UAAWP,MAAaG,OAAOK,KAAK,OAAQ,CAAEC,GAAI,mBAAoBC,KAAMV,MAAaI,SAAS,0CAClGnM,OAAQ+L,MAAaW,UAAU,2BAA2BC,SAAS,oCAAoCR,SAAS,+BAGrG,SAASS,GAAWnE,GAC/B,IAAMtD,EAAU0H,cACR5H,EAAsDwD,EAAtDxD,KAAM6H,EAAgDrE,EAAhDqE,YAAaC,EAAmCtE,EAAnCsE,iBAAkBC,EAAiBvE,EAAjBuE,aAE7C,OACI,kBAACC,EAAA,EAAD,CACIC,WAAS,EACT9H,SAAS,KACTH,KAAMA,EACNkI,QAASL,EACTzH,kBAAgB,qBAEhB,kBAAC+H,EAAA,EAAD,KAAcJ,EAAaX,aAAe,cAAgB,cAC1D,kBAACgB,EAAA,EAAD,KACI,kBAAC,IAAD,CACIC,cAAeN,EACfO,iBAAkBzB,GAClB0B,SAAQ,uCAAE,WAAOC,EAAP,sBAAAC,EAAA,6DAAiBC,EAAjB,EAAiBA,UAAWC,EAA5B,EAA4BA,UAA5B,SAEEC,EAAmB,CACnBlL,GAAI8K,EAAO9K,GACXmL,YAAaL,EAAOK,YACpBC,QAASN,EAAOM,QAChB1B,aAAcoB,EAAOpB,aACrBJ,KAAMwB,EAAOxB,KACbjM,OAAQyN,EAAOzN,OACfoM,SAAUqB,EAAOrB,SACjBE,UAAWmB,EAAOnB,WAVpB,SAaIS,EAAiBc,EAAkB,gBAbvC,OAcFF,EAAU,CAAE1B,KAAMwB,EAAOxB,OACzB2B,EAAU,CAAEI,MAAM,EAAMC,IAAK,mCACzBR,EAAO9K,IACPmK,IAjBF,kDAoBFc,EAAU,CAAEI,MAAM,EAAOC,IAAI,UAAD,mBApB1B,0DAAF,0DAuBP,gBACGR,EADH,EACGA,OACAS,EAFH,EAEGA,OACAC,EAHH,EAGGA,aACAC,EAJH,EAIGA,QACAC,EALH,EAKGA,OACAC,EANH,EAMGA,aACAC,EAPH,EAOGA,WACAC,EARH,EAQGA,aARH,OAUG,0BACI9I,UAAWP,EAAQsJ,KACnBC,OAAO,OACP/L,GAAG,kBACH6K,SAAUW,GAEV,kBAACQ,EAAA,EAAD,CACIrJ,WAAS,EACTC,UAAU,SACVhB,QAAS,GAGL2J,GAAUA,EAAOD,KACb,kBAACW,EAAA,EAAD,CACIC,QAASX,EAAOF,KAAO,UAAY,QACnCc,QAASZ,EAAOD,MAKxBO,GAAiB,kBAACxJ,EAAA,EAAD,CAAwBC,MAAM,IAEnD,kBAAC0J,EAAA,EAAD,CAAMrJ,WAAS,EAACE,MAAI,EAACD,UAAU,SAAShB,QAAS,GAC7C,kBAACoK,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,GAAIC,IAAE,GACjB,kBAACC,EAAA,EAAD,CACI/B,WAAS,EACT2B,QAAQ,WACRK,QAAM,EACNrD,KAAK,OACL7C,MAAM,cACNmG,OAAQZ,EACRa,SAAUd,EACVrI,MAAOwH,EAAOxB,KACdoD,MAAOhB,EAAOpC,MAAQmC,EAAQnC,KAC9BqD,WAAYlB,EAAQnC,MAAQoC,EAAOpC,MAElCL,GAAahD,KAAI,SAACqD,EAAMnD,GAAP,OACd,kBAACyG,EAAA,EAAD,CAAUxG,IAAKD,EAAO7C,MAAOgG,EAAKtJ,IAC7BsJ,EAAKJ,WAKtB,kBAAC8C,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,GAAIC,IAAE,GACjB,kBAACC,EAAA,EAAD,CACI/B,WAAS,EACTlE,MAAM,cACN6F,QAAQ,WACR5C,KAAK,OACLhG,MAAOwH,EAAOpB,aACdR,KAAK,eACLuD,SAAUd,EACVa,OAAQZ,EACRc,MAAOhB,EAAOhC,cAAgB+B,EAAQ/B,aACtCiD,WAAYlB,EAAQ/B,cAAgBgC,EAAOhC,gBAGnD,kBAACsC,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,GAAIC,IAAE,GACjB,kBAACC,EAAA,EAAD,CACI/B,WAAS,EACT2B,QAAQ,WACRlM,GAAG,WACHsJ,KAAK,OACLJ,KAAK,WACL7C,MAAM,gBACN/C,MAAOwH,EAAOrB,SACdgD,SAAUd,EACVa,OAAQZ,EACRiB,gBAAiB,CAAEC,QAAQ,GAC3BJ,MAAOhB,EAAOjC,UAAYgC,EAAQhC,SAClCkD,WAAYlB,EAAQhC,UAAYiC,EAAOjC,YAG/C,kBAACuC,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,GAAIC,IAAE,GACjB,kBAACC,EAAA,EAAD,CACI/B,WAAS,EACTlE,MAAM,SACN6F,QAAQ,WACR5C,KAAK,OACLhG,MAAOwH,EAAOzN,OACd6L,KAAK,SACLuD,SAAUd,EACVa,OAAQZ,EACRc,MAAOhB,EAAOrO,QAAUoO,EAAQpO,OAChCsP,WAAYlB,EAAQpO,QAAUqO,EAAOrO,UAIzB,qBAAhByN,EAAOxB,KACH,kBAAC0C,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,GAAIC,IAAE,GACjB,kBAACC,EAAA,EAAD,CACI/B,WAAS,EACT2B,QAAQ,WACRK,QAAM,EACNrD,KAAK,YACL7C,MAAM,YACNmG,OAAQZ,EACRa,SAAUd,EACVrI,MAAOwH,EAAOnB,UACd+C,MAAOhB,EAAO/B,WAAa8B,EAAQ9B,UACnCgD,WAAYlB,EAAQ9B,WAAa+B,EAAO/B,WAEvCX,EAAY/C,KAAI,SAAC0D,EAAWxD,GAAZ,OACb,kBAACyG,EAAA,EAAD,CAAUxG,IAAKD,EAAO7C,MAAOqG,GACxBA,QAKf,MAEd,kBAACqC,EAAA,EAAD,CACInJ,MAAI,EACJF,WAAS,EACTC,UAAU,MACVG,UAAWP,EAAQuK,WAEnB,kBAACf,EAAA,EAAD,CAAMnJ,MAAI,GACN,kBAACmK,EAAA,EAAD,CACIjL,MAAM,YACNmK,QAAQ,YACRlJ,KAAK,SACLiK,UAAW,kBAAC,IAAD,MACX1E,QAAS,WAAQ4B,KACjB+C,kBAAgB,GANpB,WAWJ,kBAAClB,EAAA,EAAD,CAAMnJ,MAAI,GACN,kBAACmK,EAAA,EAAD,CACI1D,KAAK,SACLvH,MAAM,UACNmK,QAAQ,YACRlJ,KAAK,SACLiK,UAAW,kBAAC,IAAD,MACXnB,KAAK,kBACLqB,SAAUtB,GAPd,iB,oFC7LlCuB,GAAcC,aAAO9O,eAAgB,cACrC+O,GAAczN,cACdmJ,GAAclJ,cAEdyN,GAAiC,CACtC,CAAEvN,GAAI,eAAgBwN,SAAS,EAAOC,gBAAgB,EAAMpH,MAAO,eACnE,CAAErG,GAAI,WAAYwN,SAAS,EAAOC,gBAAgB,EAAMpH,MAAO,iBAC/D,CAAErG,GAAI,SAAUwN,SAAS,EAAOC,gBAAgB,EAAMpH,MAAO,UAC7D,CAAErG,GAAI,YAAawN,SAAS,EAAOC,gBAAgB,EAAMpH,MAAO,aAChE,CAAErG,GAAI,OAAQwN,SAAS,EAAOC,gBAAgB,EAAMpH,MAAO,QAC3D,CAAErG,GAAI,SAAUwN,SAAS,EAAOC,gBAAgB,EAAMpH,MAAO,WAGxDqH,GAAkBtE,MAAaC,MAAM,CAC1CsE,WAAYvE,MAAaG,OAAOC,SAAS,0BACzCoE,WAAYxE,MAAaG,OAAOC,SAAS,0BACzCqE,QAASzE,MAAYI,SAAS,2BAC9BsE,WAAY1E,MAAWI,SAAS,0BAChCuE,YAAa3E,MAAaW,UAAU,8BAA8BC,SAAS,oCAAoCR,SAAS,2BACxHwE,iBAAkB5E,MAAaW,UAAU,mCAAmCC,SAAS,oCACrFiE,cAAe7E,MAAaW,UAAU,gCAAgCC,SAAS,oCAC/EmB,YAAa/B,MAAaG,OAAOC,SAAS,wBAC1C4B,QAAShC,MAAaG,OAAOC,SAAS,oBACtC0E,SAAU9E,MAAWQ,KAAK,aAAc,CAAEC,GAAI,QAASC,KAAMV,MAAWI,SAAS,0BACjF2E,cAAe/E,MAAWI,SAAS,6BACnC4E,0BAA2BhF,QA8hBbiF,GA1hBU,SAACvI,GACzB,IAAMtD,EAAU0H,cACRoE,EAAuGxI,EAAvGwI,SAAUC,EAA6FzI,EAA7FyI,QAASC,EAAoF1I,EAApF0I,WAAYC,EAAwE3I,EAAxE2I,cAAeC,EAAyD5I,EAAzD4I,iBAAkBtE,EAAuCtE,EAAvCsE,iBAAkBuE,EAAqB7I,EAArB6I,iBACtFC,EAAc9I,EAAM8I,aAAe,GACjCC,EAAkB,CACvB7O,GAAI4O,EAAY5O,GAChBmL,YAAayD,EAAYzD,aAAe,GACxCC,QAASwD,EAAYxD,SAAW,GAChCyC,QAASS,EAASQ,QAAO,gBAAG9O,EAAH,EAAGA,GAAH,QAAY+O,MAAMC,QAAQJ,EAAYf,UAAWe,EAAYf,QAAQoB,SAASjP,MACvGkP,SAAUZ,EAASa,MAAK,gBAAGnP,EAAH,EAAGA,GAAH,OAAY4O,EAAYM,WAAalP,MAAO,KACpE8N,WAAYc,EAAYd,YAAcV,GACtCc,SAAUU,EAAYV,UAAY,GAClCC,cAAeS,EAAYT,eAAiBd,aAAOvQ,aAAUqD,aAAa,IAAI3C,MAAS,GAAI,cAC3F4Q,0BAA2BQ,EAAYR,2BAA6BhB,GACpEW,YAAaa,EAAYb,aAAe,GACxCqB,WAAYR,EAAYQ,aAAc,EACtCpB,iBAAkBY,EAAYZ,kBAAoB,GAClDC,cAAeW,EAAYX,eAAiB,GAC5CN,WAAYiB,EAAYjB,YAAcL,GAAY,GAClDM,WAAYgB,EAAYhB,YAAc,UACtCyB,aAAcX,GAGTY,EAAsB,CAC3BlE,QAASwD,EAAYxD,QACrBD,YAAayD,EAAYzD,YACzBxB,UAAW,GACXtM,OAAQ,GACRoM,SAAU2D,GACV1D,aAAc,GACdJ,KAAM,mBA9B4B,EAiCQ3C,oBAAS,GAjCjB,mBAiC5B4I,EAjC4B,KAiCZC,EAjCY,OAkCK7I,mBAAS2I,GAlCd,mBAkC5BG,EAlC4B,KAkCdC,EAlCc,KAqC7BC,EAAyB,WAC9BH,GAAkBD,IAGnB,OACC,kBAAC,IAAD,CACC5E,cAAekE,EACfe,oBAAkB,EAAChF,iBAAkB8C,GACrC7C,SAAQ,uCAAE,WAAOC,EAAP,8BAAAC,EAAA,6DAAiBC,EAAjB,EAAiBA,UAAWC,EAA5B,EAA4BA,UAA5B,SAEJ4E,EAAoB,CACvB7P,GAAI8K,EAAO9K,GACXmL,YAAaL,EAAOK,YACpBC,QAASN,EAAOM,QAChBuC,WAAY7C,EAAO6C,WACnBC,WAAY9C,EAAO8C,WACnBC,QAAS/C,EAAO+C,QAAQ5H,KAAI,SAAA6J,GAAM,OAAIA,EAAO9P,MAC7CkP,SAAUpE,EAAOoE,SAAWpE,EAAOoE,SAASlP,GAAK,GACjD8N,WAAYhD,EAAOgD,WACnBI,SAAUpD,EAAOoD,SACjBC,cAAerD,EAAOqD,cACtBH,iBAAkBlD,EAAOkD,iBACzBC,cAAenD,EAAOmD,cACtBG,0BAA2BtD,EAAOsD,0BAClCL,YAAajD,EAAOiD,YACpBqB,WAAYtE,EAAOsE,YAjBZ,SAmBFhF,EAAiByF,EAAmB,UAnBlC,UAoBH/E,EAAO9K,GApBJ,wBAsBD8P,EAAShF,EAAO+C,QAAQ,GACxBkC,EAAgB,CACrBC,OAAO,EACPC,cAAenF,EAAOiD,YACtBmC,YAAapF,EAAOgD,WACpBpE,aAAc,OACdyG,YAAa,OACb1G,SAAUqB,EAAOgD,WACjBsC,UAAWN,EAAO9P,GAClBoL,QAASN,EAAOM,QAChBD,YAAaL,EAAOK,aAEfkF,EAA2B,CAChCL,OAAO,EACPC,cAAenF,EAAOkD,iBACtBkC,YAAapF,EAAOgD,WACpBpE,aAAc,mBACdyG,YAAa,mBACb1G,SAAUqB,EAAOsD,0BACjBgC,UAAWN,EAAO9P,GAClBoL,QAASN,EAAOM,QAChBD,YAAaL,EAAOK,aAEfmF,EAAwB,CAC7BN,OAAO,EACPC,cAAenF,EAAOmD,cACtBiC,YAAapF,EAAOgD,WACpBpE,aAAc,gBACdyG,YAAa,gBACb1G,SAAUqB,EAAOsD,0BACjBgC,UAAWN,EAAO9P,GAClBoL,QAASN,EAAOM,QAChBD,YAAaL,EAAOK,aAtDd,UAwDDf,EAAiB2F,EAAe,wBAxD/B,yBAyDD3F,EAAiBkG,EAAuB,wBAzDvC,yBA0DDlG,EAAiBiG,EAA0B,wBA1D1C,QA4DRrF,EAAU,IACNF,EAAO9K,IACVuO,EAAQgC,SAETtF,EAAU,CAAEI,MAAM,EAAMC,IAAK,kCAhErB,kDAkERL,EAAU,CAAEI,MAAM,EAAOC,IAAI,UAAD,mBAlEpB,0DAAF,0DAsEP,gBACAR,EADA,EACAA,OACAS,EAFA,EAEAA,OACAC,EAHA,EAGAA,aACAE,EAJA,EAIAA,OACAD,EALA,EAKAA,QACAE,EANA,EAMAA,aACA6E,EAPA,EAOAA,cACA5E,EARA,EAQAA,WACAC,EATA,EASAA,aATA,OAWA,0BACC9I,UAAWP,EAAQsJ,KACnBC,OAAO,OACP/L,GAAG,qBACH6K,SAAUW,GAEV,kBAACQ,EAAA,EAAD,CAAMrJ,WAAS,EAACf,QAAS,EAAGgB,UAAU,UAEpC2I,GAAUA,EAAOD,KAChB,kBAACW,EAAA,EAAD,CACCC,QAASX,EAAOF,KAAO,UAAY,QACnCc,QAASZ,EAAOD,MAKlBO,GAAiB,kBAACxJ,EAAA,EAAD,CAAwBC,MAAM,IAEhD,kBAAC0J,EAAA,EAAD,CAAMrJ,WAAS,EAACf,QAAS,EAAGgB,UAAU,MAAMrB,WAAW,cACtD,kBAACyK,EAAA,EAAD,CAAMnJ,MAAI,EAACF,WAAS,EAAC0J,GAAI,EAAGzJ,UAAU,SAAShB,QAAS,GACvD,kBAACoK,EAAA,EAAD,CAAMnJ,MAAI,GACT,kBAAC4N,GAAA,EAAD,CAAYvE,QAAQ,aAApB,mCAID,kBAACF,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,IACd,kBAACE,EAAA,EAAD,CACC/B,WAAS,EACTlE,MAAM,WACN6F,QAAQ,WACRlM,GAAG,cACHuM,QAAM,EACNrD,KAAK,cACL5F,MAAOwH,EAAOK,YACdsB,SAAU,SAACjE,GACVgI,EAAc,cAAehI,EAAMkI,OAAOpN,OAC1CkN,EAAc,UAAW,KAE1BhE,OAAQZ,EACRc,MAAOhB,EAAOP,aAAeM,EAAQN,YACrCwB,WAAYlB,EAAQN,aAAeO,EAAOP,aAEzCqD,EAAWvI,KAAI,SAAC0K,EAAUxK,GAAX,OACf,kBAACyG,EAAA,EAAD,CAAUxG,IAAKD,EAAO7C,MAAOqN,EAAS3Q,IACpC2Q,EAASC,UAKd,kBAAC5E,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,IACd,kBAACE,EAAA,EAAD,CACC/B,WAAS,EACTgC,QAAM,EACNL,QAAQ,WACRlM,GAAG,UACHkJ,KAAK,UACL7C,MAAM,OACN/C,MAAOwH,EAAOM,QACdqB,SAAU,SAACjE,GACVgI,EAAc,UAAWhI,EAAMkI,OAAOpN,OACtCkN,EAAc,eAAgB9B,EAAiBI,QAAO,qBAAG1D,UAA0B5C,EAAMkI,OAAOpN,WAGjGkJ,OAAQZ,EACRc,MAAOhB,EAAON,SAAWK,EAAQL,QACjCuB,WAAYlB,EAAQL,SAAWM,EAAON,SAGrCqD,EAAcK,QAAO,qBAAG3D,cAAkCL,EAAOK,eAAalF,KAAI,SAAC4K,EAAM1K,GAAP,OAClF,kBAACyG,EAAA,EAAD,CAAUxG,IAAKD,EAAO7C,MAAOuN,EAAK7Q,IAChC6Q,EAAKD,UAKV,kBAAC5E,EAAA,EAAD,CAAMnJ,MAAI,GACT,kBAAC4N,GAAA,EAAD,CAAYvE,QAAQ,aAApB,0BAID,kBAACF,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,IACd,kBAACE,EAAA,EAAD,CACC/B,WAAS,EACT2B,QAAQ,WACRK,QAAM,EACNrD,KAAK,aACL7C,MAAM,wBACNrG,GAAG,aACHwM,OAAQZ,EACRa,SAAUd,EACVrI,MAAOwH,EAAO6C,WACdjB,MAAOhB,EAAOiC,YAAclC,EAAQkC,WACpChB,WAAYlB,EAAQkC,YAAcjC,EAAOiC,YAExCL,GAAYrH,KAAI,SAAC0H,EAAYxH,GAAb,OAChB,kBAACyG,EAAA,EAAD,CAAUxG,IAAKD,EAAO7C,MAAOqK,GAC3BA,QAKL,kBAAC3B,EAAA,EAAD,CAAMnJ,MAAI,GACT,kBAAC4N,GAAA,EAAD,CAAYvE,QAAQ,aAApB,gCAID,kBAACF,EAAA,EAAD,CAAMnJ,MAAI,EAACF,WAAS,EAACC,UAAU,MAAMkO,QAAQ,SAASlP,QAAS,GAC9D,kBAACoK,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,GAAIC,GAAI,GACtB,kBAACC,EAAA,EAAD,CACC/B,WAAS,EACT2B,QAAQ,WACR7F,MAAM,aACNqG,MAAO,eAAgBhB,EACvBiB,WAAYjB,EAAOoC,WACnB9N,GAAG,aACHsJ,KAAK,OACLJ,KAAK,aACL5F,MAAOwH,EAAOgD,WACdrB,SAAUd,EACVa,OAAQZ,EACRiB,gBAAiB,CAAEC,QAAQ,MAG7B,kBAACd,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,GAAIC,GAAI,GACtB,kBAACC,EAAA,EAAD,CACC/B,WAAS,EACT2B,QAAQ,WACRlM,GAAG,WACHsJ,KAAK,OACLJ,KAAK,WACL7C,MAAM,WACN/C,MAAOwH,EAAOoD,SACdzB,SAAUd,EACVa,OAAQZ,EACRiB,gBAAiB,CAAEC,QAAQ,GAC3BJ,MAAOhB,EAAOwC,UAAYzC,EAAQyC,SAClCvB,WAAYlB,EAAQyC,UAAYxC,EAAOwC,aAI1C,kBAAClC,EAAA,EAAD,CAAMnJ,MAAI,GACT,kBAAC4N,GAAA,EAAD,CAAYvE,QAAQ,aAApB,SAID,kBAACF,EAAA,EAAD,CAAMnJ,MAAI,EAACF,WAAS,EAACC,UAAU,MAAMkO,QAAQ,SAASlP,QAAS,GAC9D,kBAACoK,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,GAAIC,GAAI,GACtB,kBAACC,EAAA,EAAD,CACC/B,WAAS,EACT2B,QAAQ,WACRK,QAAM,EACNrD,KAAK,aACL7C,MAAM,aACNrG,GAAG,aACHwM,OAAQZ,EACRa,SAAUd,EACVrI,MAAOwH,EAAO8C,WACdlB,MAAOhB,EAAOkC,YAAcnC,EAAQmC,WACpCjB,WAAY,8CAEX3D,GAAY/C,KAAI,SAAC2H,EAAYzH,GAAb,OAChB,kBAACyG,EAAA,EAAD,CAAUxG,IAAKD,EAAO7C,MAAOsK,GAC3BA,QAKL,kBAAC5B,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,GAAIC,GAAI,GACtB,kBAACC,EAAA,EAAD,CACC/B,WAAS,EACT2B,QAAQ,WACRlM,GAAG,gBACHsJ,KAAK,OACLJ,KAAK,gBACL7C,MAAM,qBACN/C,MAAOwH,EAAOqD,cACdzB,MAAOhB,EAAOyC,eAAiB1C,EAAQ0C,cACvCxB,WAAY,iCACZF,SAAUd,EACVa,OAAQZ,EACRiB,gBAAiB,CAAEC,QAAQ,OAI9B,kBAACd,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,IACd,kBAACE,EAAA,EAAD,CACC/B,WAAS,EACT2B,QAAQ,WACR7F,MAAM,cACNrG,GAAG,cACHsJ,KAAK,OACLJ,KAAK,cACL5F,MAAOwH,EAAOiD,YACdtB,SAAUd,EACVa,OAAQZ,EACRc,MAAOhB,EAAOqC,aAAetC,EAAQsC,YACrCpB,WAAYlB,EAAQsC,aAAerC,EAAOqC,gBAI7C,kBAAC/B,EAAA,EAAD,CAAMnJ,MAAI,EAACF,WAAS,EAAC0J,GAAI,EAAGzJ,UAAU,SAASkO,QAAQ,SAASlP,QAAS,GACxE,kBAACoK,EAAA,EAAD,CAAMnJ,MAAI,GACT,kBAAC4N,GAAA,EAAD,CAAYvE,QAAQ,YAAY6E,WAAS,GAAzC,qBAID,kBAAC/E,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,IACd,kBAACE,EAAA,EAAD,CACC/B,WAAS,EACT2B,QAAQ,WACRlM,GAAG,4BACHsJ,KAAK,OACLJ,KAAK,4BACL7C,MAAM,WACNsG,WAAW,yCACXrJ,MAAOwH,EAAOsD,0BACd3B,SAAUd,EACVa,OAAQZ,EACRiB,gBAAiB,CAAEC,QAAQ,MAG7B,kBAACd,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,IACd,kBAACE,EAAA,EAAD,CACC/B,WAAS,EACT2B,QAAQ,WACRlM,GAAG,mBACHqG,MAAM,0BACN6C,KAAK,mBACL5F,MAAOwH,EAAOkD,iBACdvB,SAAUd,EACVa,OAAQZ,EACRc,MAAOhB,EAAOsC,kBAAoBvC,EAAQuC,iBAC1CrB,WAAYlB,EAAQuC,kBAAoBtC,EAAOsC,oBAGjD,kBAAChC,EAAA,EAAD,CAAMnJ,MAAI,GACT,kBAAC4N,GAAA,EAAD,CAAYvE,QAAQ,YAAY6E,WAAS,GAAzC,kBAID,kBAAC/E,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,IACd,kBAACE,EAAA,EAAD,CACC/B,WAAS,EACT2B,QAAQ,WACRlM,GAAG,gBACHqG,MAAM,uBACN6C,KAAK,gBACL5F,MAAOwH,EAAOmD,cACdxB,SAAUd,EACVa,OAAQZ,EACRc,MAAOhB,EAAOuC,eAAiBxC,EAAQwC,cACvCtB,WAAYlB,EAAQwC,eAAiBvC,EAAOuC,iBAG9C,kBAACjC,EAAA,EAAD,CAAMnJ,MAAI,GACT,kBAAC4N,GAAA,EAAD,CAAYvE,QAAQ,QAAQnK,MAAM,iBAAlC,8EAID,kBAACiK,EAAA,EAAD,CAAMnJ,MAAI,GACT,kBAAC4N,GAAA,EAAD,CAAYvE,QAAQ,aAApB,uBAID,kBAACF,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,IACd,kBAAC4E,GAAA,EAAD,CACChR,GAAG,iBACHiR,UAAQ,EACR3N,MAAOwH,EAAO+C,QACdpB,SAAU,SAACjE,EAAO0I,GACjBV,EAAc,UAAWU,IAE1BlQ,MAAO,CAAES,MAAO,QAChB0P,QAAS7C,EACT8C,eAAa,EACbC,eAAgB,SAACC,GAAD,OAAYA,EAAM,UAAMA,EAAOC,WAAb,YAA2BD,EAAOE,WAAc,IAClFC,aAAc,SAACH,GAAD,OACb,kBAAC,IAAMI,SAAP,KACEJ,EAAOC,WADT,IACsBD,EAAOE,YAG9BG,YAAa,SAACC,GAAD,OACZ,kBAACtF,EAAA,EAAD,iBACKsF,EADL,CAECvL,MAAM,UACN6F,QAAQ,WACRQ,MAAOhB,EAAOmC,SAAWpC,EAAQoC,QACjClB,WAAYlB,EAAQoC,SAAWnC,EAAOmC,QACtCgE,WAAU,eACND,EAAOC,mBAMf,kBAAC7F,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,IACd,kBAAC4E,GAAA,EAAD,CACChR,GAAG,kBACHsD,MAAOwH,EAAOoE,SACdzC,SAAU,SAACjE,EAAO0I,GACjBV,EAAc,WAAYU,IAE3BlQ,MAAO,CAAES,MAAO,QAChB0P,QAAS7C,EACT8C,eAAa,EACbC,eAAgB,SAACC,GAAD,OAAYA,EAAM,UAAMA,EAAOC,WAAb,YAA2BD,EAAOE,WAAc,IAClFC,aAAc,SAACH,GAAD,OACb,kBAAC,IAAMI,SAAP,KACEJ,EAAOC,WADT,IACsBD,EAAOE,YAG9BG,YAAa,SAACC,GAAD,OACZ,kBAACtF,EAAA,EAAD,iBACKsF,EADL,CAECvL,MAAM,WACN6F,QAAQ,WACRQ,MAAOhB,EAAOwD,UAAYzD,EAAQyD,SAClCvC,WAAYlB,EAAQyD,UAAYxD,EAAOwD,SACvC2C,WAAU,eACND,EAAOC,qBAQjB,kBAAC7F,EAAA,EAAD,CAAMnJ,MAAI,EAACF,WAAS,EAACC,UAAU,SAAShB,QAAS,EAAGwK,GAAI,IACvD,kBAACJ,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,IACd,kBAACqE,GAAA,EAAD,CAAYvE,QAAQ,aAApB,iBAED,kBAACF,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,IACd,kBAAC,EAAD,CACC7F,KAAMuE,EAAOuE,aACbtJ,UAAWwH,GACX9G,gBAAiB,SAACqB,GACjB4H,EAAgB5E,EAAOuE,aAAavH,IACpC6H,KAEDnJ,aAAc,SAACsB,GACd,IAAIgK,EAAchH,EAAOuE,aAAazH,QAChCmK,EAAiBD,EAAYE,OAAOlK,EAAU,GAAG,IAAM,GACzDiK,EAAe/R,IAClB2O,EAAiBoD,EAAe/R,GAAI,gBAErCwQ,EAAc,eAAgBsB,MAI/BvC,EAAiB,kBAAC,GAAD,CAAkBjN,KAAMiN,EACxCpF,YAAawF,EAAwBpB,QAASA,EAC9CnE,iBAAkBA,EAClBC,aAAcoF,IAAmB,MAGpC,kBAACzD,EAAA,EAAD,CAAMnJ,MAAI,EAACuJ,GAAI,IACd,kBAACY,EAAA,EAAD,CACCjK,UAAWP,EAAQyP,mBACnB/F,QAAQ,WACRlJ,KAAK,SACLiK,UAAW,kBAAC,KAAD,MACX1E,QAAS,WACRmH,EAAgB,2BAAKJ,GAAN,IAA2BlE,QAASN,EAAOM,WACtDN,EAAOM,SACVuE,KAGFzC,kBAAgB,GAXjB,gBAgBF,kBAAClB,EAAA,EAAD,CACCnJ,MAAI,EACJF,WAAS,EACTC,UAAU,MACVG,UAAWP,EAAQuK,WAEnB,kBAACf,EAAA,EAAD,CAAMnJ,MAAI,GACT,kBAACmK,EAAA,EAAD,CACCjL,MAAM,YACNmK,QAAQ,YACRlJ,KAAK,SACLiK,UAAW,kBAAC,IAAD,MACX1E,QAAS,WAAQgG,EAAQgC,UACzBrD,kBAAgB,GANjB,WAWD,kBAAClB,EAAA,EAAD,CAAMnJ,MAAI,GACT,kBAACmK,EAAA,EAAD,CACC1D,KAAK,SACLvH,MAAM,UACNmK,QAAQ,YACRlJ,KAAK,SACLiK,UAAW,kBAAC,IAAD,MACXnB,KAAK,qBACLqB,SAAUtB,GAETf,EAAO9K,GAAK,iBAAmB,yB,SCrjBrCkS,GAAkB,YACuC,IADpCtD,EACmC,EADnCA,YAAauD,EACsB,EADtBA,cAAe5D,EACO,EADPA,QAASC,EACF,EADEA,WAAY4D,EACd,EADcA,oBACzE1D,EAA2D,EAA3DA,iBAAkBtE,EAAyC,EAAzCA,iBAAkBuE,EAAuB,EAAvBA,iBAE9B0D,EAAYzD,EAAY5O,GAAK,wBAA0B,uBAE7D,OACC,kBAAC,IAAD,CAAQqS,UAAU,4BACjB,kBAACrG,EAAA,EAAD,CAAMrJ,WAAS,EAACmO,QAAQ,SAASlO,UAAU,UAC1C,kBAACoJ,EAAA,EAAD,CAAMnJ,MAAI,EAACuD,IAAK,GACf,kBAACkM,EAAA,EAAD,CAAarS,KAAMoS,KAEpB,kBAACrG,EAAA,EAAD,CACCrJ,WAAS,EACTC,UAAU,SACVkO,QAAQ,SACRjO,MAAI,EACJuD,IAAK,GAEL,kBAAC,GAAD,CACCkI,SAAU6D,EAAe5D,QAASA,EAClCC,WAAYA,EAAYC,cAAe2D,EACvC1D,iBAAkBA,EAClBtE,iBAAkBA,EAClBuE,iBAAkBA,EAClBC,YAAaA,QAsCnBsD,GAAkBK,aA9BM,SAACC,EAAOC,GAC/B,IAAM7D,EAAc4D,EAAME,OAAOvD,MAAK,qBAAGnP,KAAgByS,EAASE,MAAMf,OAAOgB,YAAY,GAGrFC,EAAejE,EAAY5O,GAChCwS,EAAME,OAAO5D,QAAO,gBAAGM,EAAH,EAAGA,WAAYpP,EAAf,EAAeA,GAAf,OAAuC,IAAfoP,GAAuBpP,IAAO4O,EAAY5O,MACtFwS,EAAME,OAAO5D,QAAO,mBAAmC,IAAnC,EAAGM,cAClB0D,EAAwBD,EAAa5M,KAAI,SAAA8M,GAAK,OAAIA,EAAM3H,WACxD4H,EAA2B,GACjCH,EAAaI,SAAQ,SAAAF,GACpBC,EAAyBxT,KAAzB,MAAAwT,EAAwB,YAASD,EAAMlF,aAExC,IAAMuE,EAAsBI,EAAM/D,cAAcK,QAAO,gBAAG9O,EAAH,EAAGA,GAAH,OAAa8S,EAAsB7D,SAASjP,MAC7FmS,EAAgBK,EAAMlE,SAASQ,QAAO,gBAAG9O,EAAH,EAAGA,GAAH,OAAagT,EAAyB/D,SAASjP,MAE3F,MAAO,CACN4O,YAAa4D,EAAME,OAAOvD,MAAK,qBAAGnP,KAAgByS,EAASE,MAAMf,OAAOgB,YAAY,GACpFpE,WAAYgE,EAAMhE,WAClB4D,oBAAqBA,EACrBD,cAAeA,EACfzD,iBAAkB8D,EAAMU,oBAAoBpE,QAAO,qBAAG1D,UAA0BwD,EAAYxD,eAGnE,SAAC+H,GAC3B,MAAO,CACNxE,iBAAkB,SAACyE,EAAQC,GAAT,OAAiBF,EAAS3M,YAAa4M,EAAQC,KACjEjJ,iBAAkB,SAACvH,EAAMwQ,GAAP,OAAeF,EAASG,YAAqBzQ,EAAMwQ,QAIrDd,CAA6CL,IAEhDqB,uBAAWrB","file":"static/js/20.23e27036.chunk.js","sourcesContent":["import toInteger from '../_lib/toInteger/index.js';\nimport toDate from '../toDate/index.js';\nimport requiredArgs from '../_lib/requiredArgs/index.js';\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * var result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\n\nexport default function addMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  var dayOfMonth = date.getDate(); // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 1, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n\n  var endOfDesiredMonth = new Date(date.getTime());\n  endOfDesiredMonth.setMonth(date.getMonth() + amount + 1, 0);\n  var daysInMonth = endOfDesiredMonth.getDate();\n\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n    return date;\n  }\n}","import { endOfMonth, endOfYear, startOfToday, eachMonthOfInterval, startOfMonth, startOfYear, subMonths, subYears } from \"date-fns\";\n\nconst monthsInYear = eachMonthOfInterval({\n\tstart: startOfYear(startOfToday()),\n\tend: endOfYear(startOfToday()),\n})\n//general contact titles\nconst TITLES_LIST = [\"Mr\", \"Prof\", \"Hon\", \"Sir\", \"Mrs\", \"Miss\", \"Dr\", \"Madam\", \"Other\"]\nconst GENDERS_LIST = [\"Male\", \"Female\", \"Unspecified\"];\nconst EXPENSES_CATEGORIES = [\n\t'Security Deposit Refund',\n\t'Water Deposit Refund',\n\t'Management Fees',\n\t'Utilities',\n\t'Taxes',\n\t'Mortgage',\n\t'Office',\n\t'Maintenance & Cleaning',\n\t'Advertising',\n\t'Insurance',\n\t'Legal & Other Professional Fees',\n\t'Auto & Travel',\n\t'Supplies',\n\t'Other Refund',\n\t'Repairs',\n\t'Other'\n]\nconst PROPRERTY_TYPES = [\n\t\"Residential\",\n\t\"Condo/Townhouse\",\n\t\"Multi-family\",\n\t\"Single-family\",\n]\nconst UNIT_TYPES = [\n\t\"Bed Sitter\",\n\t\"One Bedroom\",\n\t\"Two Bedroom\",\n\t\"Single Room\",\n\t\"Double Room\",\n\t\"Shop\",\n\t\"Other\",\n];\nconst LEASE_OPTIONS = [\n\t\"Fixed\",\n\t\"Fixed w/rollover\",\n];\nconst METER_TYPES = [\"Electric\", \"Sewer\", \"Water\"];\nconst FREQUENCY_OPTIONS = [\"Per Day\", \"Week\", \"Month\", \"Quarter\", \"Half Year\", \"Year\"];\nconst PAYMENT_FREQUENCY_OPTIONS = [\"Daily\", \"Weekly\", \"Monthly\", \"Quarterly\", \"Half-Yearly\", \"Yearly\"];\n\n//functions to get the above values\nexport function getContactTitles() {\n\treturn TITLES_LIST;\n}\n\nexport function getGendersList() {\n\treturn GENDERS_LIST;\n}\n\nexport function getExpensesCategories() {\n\treturn EXPENSES_CATEGORIES;\n}\n\n//general property types\nexport function getPropertyTypes() {\n\treturn PROPRERTY_TYPES;\n}\n\n//general unit types\nexport function getUnitTypes() {\n\treturn UNIT_TYPES;\n}\n\nexport function getPropertyBaths() {\n\tconst baths = [];\n\tfor (let i = 1; i <= 5; i++) {\n\t\tbaths.push(i);\n\t}\n\treturn baths.concat(\"5+\");\n}\n\nexport function getPropertyBeds() {\n\tconst beds = [];\n\tfor (let i = 1; i <= 5; i++) {\n\t\tbeds.push(i);\n\t}\n\treturn beds;\n}\n\nexport function getFrequencyOptions() {\n\treturn FREQUENCY_OPTIONS;\n}\n\nexport function getMeterTypes() {\n\treturn METER_TYPES;\n}\n\nexport function getLeaseOptions() {\n\treturn LEASE_OPTIONS;\n}\n\nexport function getPaymentOptions() {\n\treturn PAYMENT_FREQUENCY_OPTIONS;\n}\n\nexport function getTransactionsFilterOptions() {\n\treturn [\n\t\t{ id: 'month-to-date', text: 'Month To Date' }, { id: 'last-month', text: 'Last Month' },\n\t\t{ id: '3-months-to-date', text: '3 Months To Date' }, { id: 'year-to-date', text: 'Year To Date' },\n\t\t{ id: 'last-year', text: 'Last Year' },];\n}\n\nexport function getLastMonthFromToDates() {\n\treturn [startOfMonth(subMonths(startOfToday(), 1)), endOfMonth(subMonths(startOfToday(), 1))]\n}\n\nexport function getLastYearFromToDates() {\n\treturn [startOfYear(subYears(startOfToday(), 1)), endOfYear(subYears(startOfToday(), 1))]\n}\n\nexport function getYearToDateFromToDates() {\n\treturn [startOfYear(startOfToday()), startOfToday()]\n}\n\nexport function getCurrentMonthFromToDates() {\n\treturn [startOfMonth(startOfToday()), endOfMonth(startOfToday())]\n}\n\nexport function getLastThreeMonthsFromToDates() {\n\treturn [startOfMonth(subMonths(startOfToday(), 2)), endOfMonth(startOfToday())]\n}\n\nexport function getMonthsInYear() {\n\treturn monthsInYear\n}\n\n// Create our number formatter.\nexport const currencyFormatter = new Intl.NumberFormat(undefined, {\n\tstyle: 'decimal',\n\tcurrency: 'KES',\n});\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { green } from '@material-ui/core/colors';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        alignItems: 'center',\n        height: 80,\n        width: 120,\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: 'relative',\n        height: 50,\n        width: 50,\n    },\n    buttonProgress: {\n        color: green[500],\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    },\n}));\n\nexport default function CustomCircularProgress({ open, dialogTitle }) {\n    const classes = useStyles();\n    \n    return (\n        <Dialog maxWidth={\"md\"} aria-labelledby=\"simple-dialog-title\" open={open}>\n            <DialogContent>\n                <Grid container alignItems=\"center\" direction=\"column\">\n                    <Grid item lg>\n                        <Typography>{dialogTitle || \"Saving...\"}</Typography>\n                    </Grid>\n                    <Grid item lg>\n                        <div className={classes.root}>\n                            <div className={classes.wrapper}>\n                                {open && <CircularProgress size={50} className={classes.buttonProgress} />}\n                            </div>\n                        </div>\n                    </Grid>\n                </Grid>\n            </DialogContent>\n        </Dialog>\n\n    );\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n}), 'Cancel');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","import toDate from '../toDate/index.js';\nimport requiredArgs from '../_lib/requiredArgs/index.js';\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * var result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\n\nexport default function startOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import toInteger from '../_lib/toInteger/index.js';\nimport addMonths from '../addMonths/index.js';\nimport requiredArgs from '../_lib/requiredArgs/index.js';\n/**\n * @name subMonths\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * var result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\n\nexport default function subMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMonths(dirtyDate, -amount);\n}","import toDate from '../toDate/index.js';\nimport requiredArgs from '../_lib/requiredArgs/index.js';\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the end of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * var result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\n\nexport default function endOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var month = date.getMonth();\n  date.setFullYear(date.getFullYear(), month + 1, 0);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}","import toInteger from '../_lib/toInteger/index.js';\nimport addMonths from '../addMonths/index.js';\nimport requiredArgs from '../_lib/requiredArgs/index.js';\n/**\n * @name addYears\n * @category Year Helpers\n * @summary Add the specified number of years to the given date.\n *\n * @description\n * Add the specified number of years to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of years to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the years added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 years to 1 September 2014:\n * var result = addYears(new Date(2014, 8, 1), 5)\n * //=> Sun Sep 01 2019 00:00:00\n */\n\nexport default function addYears(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMonths(dirtyDate, amount * 12);\n}","import toInteger from '../_lib/toInteger/index.js';\nimport addYears from '../addYears/index.js';\nimport requiredArgs from '../_lib/requiredArgs/index.js';\n/**\n * @name subYears\n * @category Year Helpers\n * @summary Subtract the specified number of years from the given date.\n *\n * @description\n * Subtract the specified number of years from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of years to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the years subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 5 years from 1 September 2014:\n * var result = subYears(new Date(2014, 8, 1), 5)\n * //=> Tue Sep 01 2009 00:00:00\n */\n\nexport default function subYears(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addYears(dirtyDate, -amount);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar grey = {\n  50: '#fafafa',\n  100: '#f5f5f5',\n  200: '#eeeeee',\n  300: '#e0e0e0',\n  400: '#bdbdbd',\n  500: '#9e9e9e',\n  600: '#757575',\n  700: '#616161',\n  800: '#424242',\n  900: '#212121',\n  A100: '#d5d5d5',\n  A200: '#aaaaaa',\n  A400: '#303030',\n  A700: '#616161'\n};\nvar _default = grey;\nexports.default = _default;","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport GREY from '@material-ui/core/colors/grey';\n\n\nconst StyledTableCell = withStyles((theme) => ({\n  head: {\n    backgroundColor: GREY[600],\n    color: theme.palette.common.white,\n  },\n  body: {\n    fontSize: 14,\n  },\n}))(TableCell);\n\nconst StyledTableRow = withStyles((theme) => ({\n  root: {\n    '&:nth-of-type(odd)': {\n      backgroundColor: theme.palette.action.hover,\n    },\n  },\n}))(TableRow);\n\nfunction EnhancedTableHead(props) {\n  const { headCells } = props;\n  return (\n    <TableHead>\n      <TableRow>\n        {headCells.map((headCell, index) => (\n          <StyledTableCell key={index}>\n            {headCell.label}\n          </StyledTableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nexport default function EnhancedTable(props) {\n  const {\n    rows,\n    headCells,\n    handleDelete,\n    handleEditClick,\n  } = props;\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(10);\n    setPage(0);\n  };\n\n\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\n\n  return (\n    <div>\n      <TableContainer component={Paper}>\n        <Table stickyHeader\n          aria-labelledby=\"tableTitle\"\n          size={'medium'}\n          aria-label=\"enhanced table\"\n        >\n          <EnhancedTableHead\n            headCells={headCells}\n            rowCount={rows.length}\n          />\n          <TableBody>\n            {\n              rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map((row, rowIndex) => {\n                  return (\n                    <StyledTableRow key={`row${rowIndex}`}>\n                      {headCells.map(\n                        (headCell, tableCellIndex) => {\n                          const tableCellData =\n                            row[headCell.id];\n                          return (\n                            headCell.id === 'edit' ?\n                              <TableCell\n                                component=\"th\"\n                                scope=\"row\"\n                                sortDirection={false}\n                                key={`edit${tableCellIndex}`}\n                              >\n                                <Tooltip\n                                  title=\"Edit\"\n                                  placement=\"bottom\"\n                                >\n                                  <IconButton\n                                    onClick={(event) => {\n                                      handleEditClick(rowIndex);\n                                    }}\n                                    color=\"primary\"\n                                    size=\"small\"\n                                  >\n                                    <EditIcon fontSize=\"default\" />\n                                  </IconButton>\n                                </Tooltip>\n                              </TableCell>\n                              : headCell.id === 'delete' ?\n                              <TableCell\n                                component=\"th\"\n                                scope=\"row\"\n                                sortDirection={false}\n                                key={`delete${tableCellIndex}`}\n                              >\n                                <Tooltip\n                                  title=\"Delete\"\n                                  placement=\"bottom\"\n                                >\n                                  <IconButton\n                                    onClick={(event) => {\n                                      handleDelete(rowIndex);\n                                    }}\n                                    color=\"primary\"\n                                    size=\"small\"\n                                  >\n                                    <DeleteIcon fontSize=\"default\" />\n                                  </IconButton>\n                                </Tooltip>\n                              </TableCell>\n                              : <StyledTableCell component=\"th\" scope=\"row\" key={`other${tableCellIndex}`}>\n                                {tableCellData || \"One time\"}\n                              </StyledTableCell>\n                          )\n                        }\n                      )}\n                    </StyledTableRow>\n                  );\n                })}\n            {emptyRows > 0 && (\n              <TableRow style={{ height: (53) * emptyRows }}>\n                <TableCell colSpan={6} />\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <TablePagination\n        rowsPerPageOptions={[5]}\n        component=\"div\"\n        count={rows.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        onChangePage={handleChangePage}\n        onChangeRowsPerPage={handleChangeRowsPerPage}\n      />\n    </div>\n  );\n}","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport CustomSnackbar from '../CustomSnackbar'\nimport * as Yup from \"yup\";\nimport { Formik } from \"formik\";\nimport { getPaymentOptions } from \"../../assets/commonAssets.js\";\nimport { commonStyles } from \"../commonStyles.js\";\nimport { DialogTitle } from \"@material-ui/core\";\nimport CustomCircularProgress from \"../CustomCircularProgress\";\n\nconst RENT_CYCLES = getPaymentOptions();\nconst CHARGE_TYPES = [\n    { id: 'one_time_charge', name: 'One Time Charge' },\n    { id: 'recurring_charge', name: 'Recurring Charge' },\n];\n\nconst UnitChargeSchema = Yup.object().shape({\n    type: Yup.string().trim().required('Charge Type is Required'),\n    due_date: Yup.date().required(\"Due Date is required\"),\n    charge_label: Yup.string().trim().required(\"Charge Name is required\"),\n    frequency: Yup.string().trim().when('type', { is: 'recurring_charge', then: Yup.string().required('Frequency to make charge is required') }),\n    amount: Yup.number().typeError('Amount must be a number').positive(\"Amount must be a positive number\").required('Charge Amount is required'),\n});\n\nexport default function FormDialog(props) {\n    const classes = commonStyles();\n    const { open, handleClose, handleItemSubmit, chargeValues } = props\n\n    return (\n        <Dialog\n            fullWidth\n            maxWidth=\"sm\"\n            open={open}\n            onClose={handleClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle>{chargeValues.charge_label ? 'Edit Charge' : 'Add Charge'}</DialogTitle>\n            <DialogContent>\n                <Formik\n                    initialValues={chargeValues}\n                    validationSchema={UnitChargeSchema}\n                    onSubmit={async (values, { resetForm, setStatus }) => {\n                        try {\n                            let unitChargeToSave = {\n                                id: values.id,\n                                property_id: values.property_id,\n                                unit_id: values.unit_id,\n                                charge_label: values.charge_label,\n                                type: values.type,\n                                amount: values.amount,\n                                due_date: values.due_date,\n                                frequency: values.frequency,\n                            };\n                            //save the unit charge with unit and property details\n                            await handleItemSubmit(unitChargeToSave, 'unit-charges')\n                            resetForm({ type: values.type });\n                            setStatus({ sent: true, msg: \"Unit charge saved successfully\" })\n                            if (values.id) {\n                                handleClose()\n                            }\n                        } catch (error) {\n                            setStatus({ sent: false, msg: `Error! ${error}.` })\n                        }\n                    }}>\n                    {({\n                        values,\n                        status,\n                        handleSubmit,\n                        touched,\n                        errors,\n                        handleChange,\n                        handleBlur,\n                        isSubmitting,\n                    }) => (\n                        <form\n                            className={classes.form}\n                            method=\"post\"\n                            id=\"chargeInputForm\"\n                            onSubmit={handleSubmit}\n                        >\n                            <Grid\n                                container\n                                direction=\"column\"\n                                spacing={2}\n                            >\n                                {\n                                    status && status.msg && (\n                                        <CustomSnackbar\n                                            variant={status.sent ? \"success\" : \"error\"}\n                                            message={status.msg}\n                                        />\n                                    )\n                                }\n                                {\n                                    isSubmitting && (<CustomCircularProgress open={true} />)\n                                }\n                                <Grid container item direction=\"column\" spacing={2}>\n                                    <Grid item xs={12} md>\n                                        <TextField\n                                            fullWidth\n                                            variant=\"outlined\"\n                                            select\n                                            name='type'\n                                            label=\"Charge Type\"\n                                            onBlur={handleBlur}\n                                            onChange={handleChange}\n                                            value={values.type}\n                                            error={errors.type && touched.type}\n                                            helperText={touched.type && errors.type}\n                                        >\n                                            {CHARGE_TYPES.map((type, index) => (\n                                                <MenuItem key={index} value={type.id}>\n                                                    {type.name}\n                                                </MenuItem>\n                                            ))}\n                                        </TextField>\n                                    </Grid>\n                                    <Grid item xs={12} md>\n                                        <TextField\n                                            fullWidth\n                                            label=\"Charge Name\"\n                                            variant=\"outlined\"\n                                            type=\"text\"\n                                            value={values.charge_label}\n                                            name='charge_label'\n                                            onChange={handleChange}\n                                            onBlur={handleBlur}\n                                            error={errors.charge_label && touched.charge_label}\n                                            helperText={touched.charge_label && errors.charge_label}\n                                        />\n                                    </Grid>\n                                    <Grid item xs={12} md>\n                                        <TextField\n                                            fullWidth\n                                            variant=\"outlined\"\n                                            id=\"due_date\"\n                                            type=\"date\"\n                                            name='due_date'\n                                            label=\"Next Due Date\"\n                                            value={values.due_date}\n                                            onChange={handleChange}\n                                            onBlur={handleBlur}\n                                            InputLabelProps={{ shrink: true }}\n                                            error={errors.due_date && touched.due_date}\n                                            helperText={touched.due_date && errors.due_date}\n                                        />\n                                    </Grid>\n                                    <Grid item xs={12} md>\n                                        <TextField\n                                            fullWidth\n                                            label=\"Amount\"\n                                            variant=\"outlined\"\n                                            type=\"text\"\n                                            value={values.amount}\n                                            name='amount'\n                                            onChange={handleChange}\n                                            onBlur={handleBlur}\n                                            error={errors.amount && touched.amount}\n                                            helperText={touched.amount && errors.amount}\n                                        />\n                                    </Grid>\n                                    {\n                                        values.type === 'recurring_charge' ?\n                                            <Grid item xs={12} md>\n                                                <TextField\n                                                    fullWidth\n                                                    variant=\"outlined\"\n                                                    select\n                                                    name='frequency'\n                                                    label=\"Frequency\"\n                                                    onBlur={handleBlur}\n                                                    onChange={handleChange}\n                                                    value={values.frequency}\n                                                    error={errors.frequency && touched.frequency}\n                                                    helperText={touched.frequency && errors.frequency}\n                                                >\n                                                    {RENT_CYCLES.map((frequency, index) => (\n                                                        <MenuItem key={index} value={frequency}>\n                                                            {frequency}\n                                                        </MenuItem>\n                                                    ))}\n                                                </TextField>\n                                            </Grid>\n                                            : null}\n                                </Grid>\n                                <Grid\n                                    item\n                                    container\n                                    direction=\"row\"\n                                    className={classes.buttonBox}\n                                >\n                                    <Grid item>\n                                        <Button\n                                            color=\"secondary\"\n                                            variant=\"contained\"\n                                            size=\"medium\"\n                                            startIcon={<CancelIcon />}\n                                            onClick={() => { handleClose() }}\n                                            disableElevation\n                                        >\n                                            Cancel\n\t\t\t\t\t\t\t\t\t        </Button>\n                                    </Grid>\n                                    <Grid item>\n                                        <Button\n                                            type=\"submit\"\n                                            color=\"primary\"\n                                            variant=\"contained\"\n                                            size=\"medium\"\n                                            startIcon={<SaveIcon />}\n                                            form=\"chargeInputForm\"\n                                            disabled={isSubmitting}\n                                        >\n                                            Save\n\t\t\t\t\t\t\t\t        </Button>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                        </form>\n                    )}\n                </Formik>\n            </DialogContent>\n        </Dialog >\n    );\n}\n","import React, { useState } from \"react\";\nimport ChargesTable from './ChargesTable'\nimport ChargeInputModal from './ChargeInputModal'\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport CustomSnackbar from '../CustomSnackbar'\nimport { Formik } from \"formik\";\nimport { commonStyles } from \"../../components/commonStyles\";\nimport {\n\tgetLeaseOptions, getPaymentOptions\n} from \"../../assets/commonAssets.js\";\nimport * as Yup from \"yup\";\nimport { addMonths, format, startOfMonth, startOfToday } from \"date-fns\";\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport CustomCircularProgress from \"../CustomCircularProgress\";\n\nconst defaultDate = format(startOfToday(), 'yyyy-MM-dd')\nconst LEASE_TYPES = getLeaseOptions();\nconst RENT_CYCLES = getPaymentOptions();\n\nconst recurringChargesTableHeadCells = [\n\t{ id: \"charge_label\", numeric: false, disablePadding: true, label: \"Charge Name\" },\n\t{ id: \"due_date\", numeric: false, disablePadding: true, label: \"Next Due Date\" },\n\t{ id: \"amount\", numeric: false, disablePadding: true, label: \"Amount\" },\n\t{ id: \"frequency\", numeric: false, disablePadding: true, label: \"Frequency\" },\n\t{ id: \"edit\", numeric: false, disablePadding: true, label: \"Edit\" },\n\t{ id: \"delete\", numeric: false, disablePadding: true, label: \"Delete\" },\n]\n\nconst UnitLeaseSchema = Yup.object().shape({\n\tlease_type: Yup.string().trim().required(\"Lease Type is Required\"),\n\trent_cycle: Yup.string().trim().required(\"Rent Cycle is Required\"),\n\ttenants: Yup.array().required(\"Unit Tenant is Required\"),\n\tstart_date: Yup.date().required('Start Date is Required'),\n\trent_amount: Yup.number().typeError('Rent Amount must be number').positive(\"Amount must be a positive number\").required('Rent Amount is Required'),\n\tsecurity_deposit: Yup.number().typeError('Security Deposit must be number').positive(\"Amount must be a positive number\"),\n\twater_deposit: Yup.number().typeError('Water Deposit must be number').positive(\"Amount must be a positive number\"),\n\tproperty_id: Yup.string().trim().required('Property is Required'),\n\tunit_id: Yup.string().trim().required('Unit is Required'),\n\tend_date: Yup.date().when('lease_type', { is: 'Fixed', then: Yup.date().required('End Date is Required') }),\n\trent_due_date: Yup.date().required('Next Due Date is Required'),\n\tsecurity_deposit_due_date: Yup.date(),\n});\n\n\nlet UnitLeaseInputForm = (props) => {\n\tconst classes = commonStyles();\n\tconst { contacts, history, properties, propertyUnits, leaseUnitCharges, handleItemSubmit, handleItemDelete } = props\n\tlet leaseToEdit = props.leaseToEdit || {};\n\tconst unitLeaseValues = {\n\t\tid: leaseToEdit.id,\n\t\tproperty_id: leaseToEdit.property_id || \"\",\n\t\tunit_id: leaseToEdit.unit_id || \"\",\n\t\ttenants: contacts.filter(({ id }) => Array.isArray(leaseToEdit.tenants) ? leaseToEdit.tenants.includes(id) : false),\n\t\tcosigner: contacts.find(({ id }) => leaseToEdit.cosigner === id) || null,\n\t\tstart_date: leaseToEdit.start_date || defaultDate,\n\t\tend_date: leaseToEdit.end_date || '',\n\t\trent_due_date: leaseToEdit.rent_due_date || format(addMonths(startOfMonth(new Date()), 1), 'yyyy-MM-dd'),\n\t\tsecurity_deposit_due_date: leaseToEdit.security_deposit_due_date || defaultDate,\n\t\trent_amount: leaseToEdit.rent_amount || '',\n\t\tterminated: leaseToEdit.terminated || false,\n\t\tsecurity_deposit: leaseToEdit.security_deposit || '',\n\t\twater_deposit: leaseToEdit.water_deposit || '',\n\t\tlease_type: leaseToEdit.lease_type || LEASE_TYPES[1],\n\t\trent_cycle: leaseToEdit.rent_cycle || \"Monthly\",\n\t\tunit_charges: leaseUnitCharges\n\t};\n\n\tconst defaultChargeValues = {\n\t\tunit_id: leaseToEdit.unit_id,\n\t\tproperty_id: leaseToEdit.property_id,\n\t\tfrequency: '',\n\t\tamount: '',\n\t\tdue_date: defaultDate,\n\t\tcharge_label: '',\n\t\ttype: 'one_time_charge',\n\t}\n\n\tconst [modalOpenState, toggleModalState] = useState(false)\n\tconst [chargeToEdit, setChargeToEdit] = useState(defaultChargeValues)\n\n\n\tconst handleModalStateToggle = () => {\n\t\ttoggleModalState(!modalOpenState)\n\t}\n\n\treturn (\n\t\t<Formik\n\t\t\tinitialValues={unitLeaseValues}\n\t\t\tenableReinitialize validationSchema={UnitLeaseSchema}\n\t\t\tonSubmit={async (values, { resetForm, setStatus }) => {\n\t\t\t\ttry {\n\t\t\t\t\tlet propertyUnitLease = {\n\t\t\t\t\t\tid: values.id,\n\t\t\t\t\t\tproperty_id: values.property_id,\n\t\t\t\t\t\tunit_id: values.unit_id,\n\t\t\t\t\t\tlease_type: values.lease_type,\n\t\t\t\t\t\trent_cycle: values.rent_cycle,\n\t\t\t\t\t\ttenants: values.tenants.map(tenant => tenant.id),\n\t\t\t\t\t\tcosigner: values.cosigner ? values.cosigner.id : \"\",\n\t\t\t\t\t\tstart_date: values.start_date,\n\t\t\t\t\t\tend_date: values.end_date,\n\t\t\t\t\t\trent_due_date: values.rent_due_date,\n\t\t\t\t\t\tsecurity_deposit: values.security_deposit,\n\t\t\t\t\t\twater_deposit: values.water_deposit,\n\t\t\t\t\t\tsecurity_deposit_due_date: values.security_deposit_due_date,\n\t\t\t\t\t\trent_amount: values.rent_amount,\n\t\t\t\t\t\tterminated: values.terminated\n\t\t\t\t\t};\n\t\t\t\t\tawait handleItemSubmit(propertyUnitLease, \"leases\")\n\t\t\t\t\tif (!values.id) {\n\t\t\t\t\t\t//post charges for rent and  security deposit \n\t\t\t\t\t\tconst tenant = values.tenants[0]\n\t\t\t\t\t\tconst newRentCharge = {\n\t\t\t\t\t\t\tpayed: false,\n\t\t\t\t\t\t\tcharge_amount: values.rent_amount,\n\t\t\t\t\t\t\tcharge_date: values.start_date,\n\t\t\t\t\t\t\tcharge_label: \"Rent\",\n\t\t\t\t\t\t\tcharge_type: \"rent\",\n\t\t\t\t\t\t\tdue_date: values.start_date,\n\t\t\t\t\t\t\ttenant_id: tenant.id,\n\t\t\t\t\t\t\tunit_id: values.unit_id,\n\t\t\t\t\t\t\tproperty_id: values.property_id,\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst newSecurityDepositCharge = {\n\t\t\t\t\t\t\tpayed: false,\n\t\t\t\t\t\t\tcharge_amount: values.security_deposit,\n\t\t\t\t\t\t\tcharge_date: values.start_date,\n\t\t\t\t\t\t\tcharge_label: \"Security Deposit\",\n\t\t\t\t\t\t\tcharge_type: \"security_deposit\",\n\t\t\t\t\t\t\tdue_date: values.security_deposit_due_date,\n\t\t\t\t\t\t\ttenant_id: tenant.id,\n\t\t\t\t\t\t\tunit_id: values.unit_id,\n\t\t\t\t\t\t\tproperty_id: values.property_id,\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst newWaterDepositCharge = {\n\t\t\t\t\t\t\tpayed: false,\n\t\t\t\t\t\t\tcharge_amount: values.water_deposit,\n\t\t\t\t\t\t\tcharge_date: values.start_date,\n\t\t\t\t\t\t\tcharge_label: \"Water Deposit\",\n\t\t\t\t\t\t\tcharge_type: \"water_deposit\",\n\t\t\t\t\t\t\tdue_date: values.security_deposit_due_date,\n\t\t\t\t\t\t\ttenant_id: tenant.id,\n\t\t\t\t\t\t\tunit_id: values.unit_id,\n\t\t\t\t\t\t\tproperty_id: values.property_id,\n\t\t\t\t\t\t}\n\t\t\t\t\t\tawait handleItemSubmit(newRentCharge, 'transactions-charges')\n\t\t\t\t\t\tawait handleItemSubmit(newWaterDepositCharge, 'transactions-charges')\n\t\t\t\t\t\tawait handleItemSubmit(newSecurityDepositCharge, 'transactions-charges')\n\t\t\t\t\t}\n\t\t\t\t\tresetForm({});\n\t\t\t\t\tif (values.id) {\n\t\t\t\t\t\thistory.goBack()\n\t\t\t\t\t}\n\t\t\t\t\tsetStatus({ sent: true, msg: \"Agreement saved successfully!\" })\n\t\t\t\t} catch (error) {\n\t\t\t\t\tsetStatus({ sent: false, msg: `Error! ${error}.` })\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t{({\n\t\t\t\tvalues,\n\t\t\t\tstatus,\n\t\t\t\thandleSubmit,\n\t\t\t\terrors,\n\t\t\t\ttouched,\n\t\t\t\thandleChange,\n\t\t\t\tsetFieldValue,\n\t\t\t\thandleBlur,\n\t\t\t\tisSubmitting,\n\t\t\t}) => (\n\t\t\t\t<form\n\t\t\t\t\tclassName={classes.form}\n\t\t\t\t\tmethod=\"post\"\n\t\t\t\t\tid=\"unitLeaseInputForm\"\n\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t<Grid container spacing={2} direction=\"column\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstatus && status.msg && (\n\t\t\t\t\t\t\t\t<CustomSnackbar\n\t\t\t\t\t\t\t\t\tvariant={status.sent ? \"success\" : \"error\"}\n\t\t\t\t\t\t\t\t\tmessage={status.msg}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tisSubmitting && (<CustomCircularProgress open={true} />)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Grid container spacing={4} direction=\"row\" alignItems=\"flex-start\">\n\t\t\t\t\t\t\t<Grid item container md={6} direction=\"column\" spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t\t\t\t\tProperty &amp; Unit With Agreement\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tlabel=\"Property\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tid=\"property_id\"\n\t\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\t\tname=\"property_id\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.property_id}\n\t\t\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('property_id', event.target.value)\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('unit_id', '')\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={errors.property_id && touched.property_id}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.property_id && errors.property_id}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{properties.map((property, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={property.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t{property.ref}\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tid=\"unit_id\"\n\t\t\t\t\t\t\t\t\t\tname=\"unit_id\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Unit\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.unit_id}\n\t\t\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('unit_id', event.target.value)\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('unit_charges', leaseUnitCharges.filter(({ unit_id }) => unit_id === event.target.value)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={errors.unit_id && touched.unit_id}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.unit_id && errors.unit_id}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{/* This requires some additional changes */}\n\t\t\t\t\t\t\t\t\t\t{propertyUnits.filter(({ property_id }) => property_id === values.property_id).map((unit, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={unit.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t{unit.ref}\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" >\n\t\t\t\t\t\t\t\t\t\tRental Agreement Type\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\t\tname=\"lease_type\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Rental Agreement Type\"\n\t\t\t\t\t\t\t\t\t\tid=\"lease_type\"\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tvalue={values.lease_type}\n\t\t\t\t\t\t\t\t\t\terror={errors.lease_type && touched.lease_type}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.lease_type && errors.lease_type}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{LEASE_TYPES.map((lease_type, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={lease_type}>\n\t\t\t\t\t\t\t\t\t\t\t\t{lease_type}\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" >\n\t\t\t\t\t\t\t\t\t\tAgreement Start &amp; End Dates\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item container direction=\"row\" justify=\"center\" spacing={2}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Start Date\"\n\t\t\t\t\t\t\t\t\t\t\terror={'start_date' in errors}\n\t\t\t\t\t\t\t\t\t\t\thelperText={errors.start_date}\n\t\t\t\t\t\t\t\t\t\t\tid=\"start_date\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"start_date\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.start_date}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"end_date\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"end_date\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"End Date\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.end_date}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.end_date && touched.end_date}\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.end_date && errors.end_date}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" >\n\t\t\t\t\t\t\t\t\t\tRent\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item container direction=\"row\" justify=\"center\" spacing={2}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\t\t\tname=\"rent_cycle\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Rent Cycle\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"rent_cycle\"\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.rent_cycle}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.rent_cycle && touched.rent_cycle}\n\t\t\t\t\t\t\t\t\t\t\thelperText={\"Frequency at which rent is charged on unit\"}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{RENT_CYCLES.map((rent_cycle, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={rent_cycle}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{rent_cycle}\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"rent_due_date\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"rent_due_date\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Rent Next Due Date\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.rent_due_date}\n\t\t\t\t\t\t\t\t\t\t\terror={errors.rent_due_date && touched.rent_due_date}\n\t\t\t\t\t\t\t\t\t\t\thelperText={\"Next date when the rent is due\"}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Rent Amount\"\n\t\t\t\t\t\t\t\t\t\tid=\"rent_amount\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tname=\"rent_amount\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.rent_amount}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={errors.rent_amount && touched.rent_amount}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.rent_amount && errors.rent_amount}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item container md={6} direction=\"column\" justify=\"center\" spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" paragraph>\n\t\t\t\t\t\t\t\t\t\tSecurity Deposit\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tid=\"security_deposit_due_date\"\n\t\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\t\tname=\"security_deposit_due_date\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Due Date\"\n\t\t\t\t\t\t\t\t\t\thelperText=\"Date when the security deposit is due.\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.security_deposit_due_date}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tid=\"security_deposit\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Security Deposit Amount\"\n\t\t\t\t\t\t\t\t\t\tname=\"security_deposit\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.security_deposit}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={errors.security_deposit && touched.security_deposit}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.security_deposit && errors.security_deposit}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" paragraph>\n\t\t\t\t\t\t\t\t\t\tWater Deposit\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tid=\"water_deposit\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Water Deposit Amount\"\n\t\t\t\t\t\t\t\t\t\tname=\"water_deposit\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.water_deposit}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={errors.water_deposit && touched.water_deposit}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.water_deposit && errors.water_deposit}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Typography variant='body1' color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\tDon't forget to record the payments once you have collected the deposits.\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" >\n\t\t\t\t\t\t\t\t\t\tTenants &amp; Cosigner\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\t\t\tid=\"tenants-select\"\n\t\t\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\t\t\tvalue={values.tenants}\n\t\t\t\t\t\t\t\t\t\tonChange={(event, newValue) => {\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"tenants\", newValue);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t\t\t\t\t\t\t\toptions={contacts}\n\t\t\t\t\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option ? `${option.first_name} ${option.last_name}` : ''}\n\t\t\t\t\t\t\t\t\t\trenderOption={(option) => (\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t{option.first_name} {option.last_name}\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Tenants\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\terror={errors.tenants && touched.tenants}\n\t\t\t\t\t\t\t\t\t\t\t\thelperText={touched.tenants && errors.tenants}\n\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t...params.inputProps,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\t\t\tid=\"cosigner-select\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.cosigner}\n\t\t\t\t\t\t\t\t\t\tonChange={(event, newValue) => {\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"cosigner\", newValue);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t\t\t\t\t\t\t\toptions={contacts}\n\t\t\t\t\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option ? `${option.first_name} ${option.last_name}` : ''}\n\t\t\t\t\t\t\t\t\t\trenderOption={(option) => (\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t{option.first_name} {option.last_name}\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Cosigner\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\terror={errors.cosigner && touched.cosigner}\n\t\t\t\t\t\t\t\t\t\t\t\thelperText={touched.cosigner && errors.cosigner}\n\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t...params.inputProps,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item container direction=\"column\" spacing={1} xs={12}>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\">Unit Charges</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<ChargesTable\n\t\t\t\t\t\t\t\t\trows={values.unit_charges}\n\t\t\t\t\t\t\t\t\theadCells={recurringChargesTableHeadCells}\n\t\t\t\t\t\t\t\t\thandleEditClick={(rowIndex) => {\n\t\t\t\t\t\t\t\t\t\tsetChargeToEdit(values.unit_charges[rowIndex])\n\t\t\t\t\t\t\t\t\t\thandleModalStateToggle()\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\thandleDelete={(rowIndex) => {\n\t\t\t\t\t\t\t\t\t\tvar unitCharges = values.unit_charges.slice()\n\t\t\t\t\t\t\t\t\t\tconst chargeToDelete = unitCharges.splice(rowIndex, 1)[0] || {}\n\t\t\t\t\t\t\t\t\t\tif (chargeToDelete.id) {\n\t\t\t\t\t\t\t\t\t\t\thandleItemDelete(chargeToDelete.id, 'unit-charges')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"unit_charges\", unitCharges)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmodalOpenState ? <ChargeInputModal open={modalOpenState}\n\t\t\t\t\t\t\t\t\t\thandleClose={handleModalStateToggle} history={history}\n\t\t\t\t\t\t\t\t\t\thandleItemSubmit={handleItemSubmit}\n\t\t\t\t\t\t\t\t\t\tchargeValues={chargeToEdit} /> : null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName={classes.oneMarginTopBottom}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\tstartIcon={<AddIcon />}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetChargeToEdit({ ...defaultChargeValues, unit_id: values.unit_id })\n\t\t\t\t\t\t\t\t\t\tif (values.unit_id) {\n\t\t\t\t\t\t\t\t\t\t\thandleModalStateToggle()\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tdisableElevation>\n\t\t\t\t\t\t\t\t\tAdd Charge\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\tclassName={classes.buttonBox}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\tstartIcon={<CancelIcon />}\n\t\t\t\t\t\t\t\t\tonClick={() => { history.goBack() }}\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\tstartIcon={<SaveIcon />}\n\t\t\t\t\t\t\t\t\tform=\"unitLeaseInputForm\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{values.id ? \"Edit Agreement\" : \"Add Agreement\"}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</form>\n\t\t\t)\n\t\t\t}\n\t\t</Formik >\n\t);\n};\n\nexport default UnitLeaseInputForm;\n","import React from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport PageHeading from \"../components/PageHeading\";\nimport Layout from \"../components/PrivateLayout\";\nimport { connect } from \"react-redux\";\nimport {\n\thandleItemFormSubmit,\n\thandleDelete,\n} from \"../actions/actions\";\nimport UnitLeaseInputForm from \"../components/property/UnitLeaseInputForm\";\nimport { withRouter } from \"react-router-dom\";\n\nlet TransactionPage = ({ leaseToEdit, tenantsToShow, history, properties, propertyUnitsToShow,\n\tleaseUnitCharges, handleItemSubmit, handleItemDelete }) => {\n\n\tconst pageTitle = leaseToEdit.id ? \"Edit Rental Agreement\" : \"Add Rental Agreement\";\n\n\treturn (\n\t\t<Layout pageTitle=\"Rental Agreement Details\">\n\t\t\t<Grid container justify=\"center\" direction=\"column\">\n\t\t\t\t<Grid item key={2}>\n\t\t\t\t\t<PageHeading text={pageTitle} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\titem\n\t\t\t\t\tkey={3}\n\t\t\t\t>\n\t\t\t\t\t<UnitLeaseInputForm\n\t\t\t\t\t\tcontacts={tenantsToShow} history={history}\n\t\t\t\t\t\tproperties={properties} propertyUnits={propertyUnitsToShow}\n\t\t\t\t\t\tleaseUnitCharges={leaseUnitCharges}\n\t\t\t\t\t\thandleItemSubmit={handleItemSubmit}\n\t\t\t\t\t\thandleItemDelete={handleItemDelete}\n\t\t\t\t\t\tleaseToEdit={leaseToEdit}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Layout>\n\t);\n};\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst leaseToEdit = state.leases.find(({ id }) => id === ownProps.match.params.leaseId) || {}\n\t//here we are editing this lease so we need to remove it from active leases\n\t//add unit to units without active leases for it to be selected\n\tconst activeLeases = leaseToEdit.id ?\n\t\tstate.leases.filter(({ terminated, id }) => terminated !== true && id !== leaseToEdit.id) :\n\t\tstate.leases.filter(({ terminated }) => terminated !== true)\n\tconst unitsWithActiveLeases = activeLeases.map(lease => lease.unit_id)\n\tconst contactsWithActiveLeases = []\n\tactiveLeases.forEach(lease => {\n\t\tcontactsWithActiveLeases.push(...lease.tenants)\n\t});\n\tconst propertyUnitsToShow = state.propertyUnits.filter(({ id }) => !unitsWithActiveLeases.includes(id))\n\tconst tenantsToShow = state.contacts.filter(({ id }) => !contactsWithActiveLeases.includes(id))\n\n\treturn {\n\t\tleaseToEdit: state.leases.find(({ id }) => id === ownProps.match.params.leaseId) || {},\n\t\tproperties: state.properties,\n\t\tpropertyUnitsToShow: propertyUnitsToShow,\n\t\ttenantsToShow: tenantsToShow,\n\t\tleaseUnitCharges: state.propertyUnitCharges.filter(({ unit_id }) => unit_id === leaseToEdit.unit_id),\n\t};\n};\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\thandleItemDelete: (itemId, url) => dispatch(handleDelete(itemId, url)),\n\t\thandleItemSubmit: (item, url) => dispatch(handleItemFormSubmit(item, url)),\n\t};\n};\n\nTransactionPage = connect(mapStateToProps, mapDispatchToProps)(TransactionPage);\n\nexport default withRouter(TransactionPage);\n"],"sourceRoot":""}