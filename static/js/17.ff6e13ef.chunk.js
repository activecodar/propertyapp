(this.webpackJsonppropetypro=this.webpackJsonppropetypro||[]).push([[17],{550:function(e,t,a){"use strict";var n=a(44),r=a(0),l=a.n(r),i=a(36),c=a(534),o=a(450),s=a(666),d=a(665),m=a(662),u=a(667),f=a(713),p=a(571),b=a(664),E=a(663),h=a(562),v=a.n(h),g=a(555),y=a.n(g),P=a(554),j=a.n(P),C=a(25),O=a(576),_=a(661);var k=function(e){var t=e.classes,a=e.onSelectAllClick,n=e.order,r=e.orderBy,i=e.headCells,c=e.numSelected,o=e.rowCount,s=e.onRequestSort;return l.a.createElement(_.a,null,l.a.createElement(m.a,null,l.a.createElement(E.a,{padding:"checkbox"},l.a.createElement(p.a,{indeterminate:c>0&&c<o,checked:c===o,onChange:a,inputProps:{"aria-label":"select all"}})),i.map((function(e){return l.a.createElement(E.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&n},l.a.createElement(O.a,{active:r===e.id,direction:n,onClick:(a=e.id,function(e){s(e,a)})},e.label,r===e.id?l.a.createElement("span",{className:t.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var a}))))},x=a(199),w=Object(x.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function N(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}t.a=Object(C.g)((function(e){var t=e.rows,a=e.headCells,r=e.selected,h=e.setSelected,g=e.deleteUrl,P=e.handleDelete,C=e.noEditCol,O=e.noDeleteCol,_=e.noDetailsCol,x=e.match,A=w(),S=l.a.useState("asc"),D=Object(n.a)(S,2),I=D[0],R=D[1],U=l.a.useState("Beds"),z=Object(n.a)(U,2),T=z[0],F=z[1],H=l.a.useState(0),M=Object(n.a)(H,2),B=M[0],W=M[1],V=l.a.useState(50),q=Object(n.a)(V,2),L=q[0],J=q[1];return l.a.createElement(c.a,{border:1,borderRadius:"borderRadius",borderColor:"grey.400"},l.a.createElement(b.a,null,l.a.createElement(d.a,{stickyHeader:!0,className:A.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},l.a.createElement(k,{classes:A,numSelected:r.length,order:I,orderBy:T,onSelectAllClick:function(e){if(e.target.checked){var a=t.map((function(e){return e.id}));h(a)}else h([])},headCells:a,onRequestSort:function(e,t){R(T===t&&"desc"===I?"asc":"desc"),F(t)},rowCount:t.length}),l.a.createElement(s.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(t,function(e,t){return"desc"===e?function(e,a){return N(e,a,t)}:function(e,a){return-N(e,a,t)}}(I,T)).slice(B*L,B*L+L).map((function(e,t){var n,c=(n=e.id,-1!==r.indexOf(n)),s="enhanced-table-checkbox-".concat(t);return l.a.createElement(m.a,{hover:!0,role:"checkbox","aria-checked":c,tabIndex:-1,key:e.id,selected:c},l.a.createElement(E.a,{padding:"checkbox"},l.a.createElement(p.a,{onClick:function(t){return function(e,t){e.stopPropagation();var a=r.indexOf(t),n=[];-1===a?n=n.concat(r,t):0===a?n=n.concat(r.slice(1)):a===r.length-1?n=n.concat(r.slice(0,-1)):a>0&&(n=n.concat(r.slice(0,a),r.slice(a+1))),h(n)}(t,e.id)},checked:c,inputProps:{"aria-labelledby":s}})),a.map((function(t,a){var n=e[t.id];return"edit"===t.id?C?null:l.a.createElement(E.a,{key:"edit".concat(a),component:"th",scope:"row",sortDirection:!1},l.a.createElement(u.a,{title:"Edit",placement:"bottom"},l.a.createElement(o.a,{color:"primary",size:"small",component:i.b,to:"".concat(x.url,"/").concat(e.id,"/edit")},l.a.createElement(y.a,{fontSize:"default"})))):"delete"===t.id?O?null:l.a.createElement(E.a,{key:"delete".concat(a),component:"th",scope:"row",sortDirection:!1},l.a.createElement(u.a,{title:"Delete",placement:"bottom"},l.a.createElement(o.a,{onClick:function(t){P(e.id,g)},color:"primary",size:"small"},l.a.createElement(v.a,{fontSize:"default"})))):"details"===t.id?_?l.a.createElement(E.a,{key:"details".concat(a),component:"th",scope:"row",sortDirection:!1},l.a.createElement(u.a,{title:"Details",placement:"bottom"},l.a.createElement(o.a,{color:"primary",size:"small",component:i.b,to:"".concat(x.url,"/").concat(e.id,"/details")},l.a.createElement(j.a,{fontSize:"default"})))):null:l.a.createElement(E.a,{key:a,component:"th",id:s,scope:"row",padding:"none"},"boolean"===typeof n?n?"Yes":"No":n)})))}))))),l.a.createElement(f.a,{rowsPerPageOptions:[50,100,200,300],component:"div",count:t.length,rowsPerPage:L,page:B,onChangePage:function(e,t){W(t)},onChangeRowsPerPage:function(e){J(parseInt(e.target.value,10)),W(0)}}))}))},551:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(525),r=a(0),l=a.n(r),i=a(207),c=a.n(i),o=a(201);function s(e){var t=e.displayText,a=e.disabled,r=e.reportName,i=e.reportTitle,s=e.headCells,d=e.dataToPrint;return l.a.createElement(n.a,{type:"button","aria-label":"Export to Excel",variant:"contained",size:"medium",color:"primary",disabled:a,onClick:function(){return Object(o.c)(r,i,s,d,r)},startIcon:l.a.createElement(c.a,null)},t||"Excel")}t.b=function(e){var t=e.disabled,a=e.reportName,r=e.reportTitle,i=e.headCells,s=e.dataToPrint;return l.a.createElement(n.a,{type:"button","aria-label":"Export to Excel",variant:"contained",size:"medium",color:"primary",disabled:t,onClick:function(){return Object(o.a)(a,r,i,s,a)},startIcon:l.a.createElement(c.a,null)},"Excel")}},559:function(e,t,a){"use strict";var n=a(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),l=(0,n(a(15)).default)(r.default.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=l},560:function(e,t,a){"use strict";var n=a(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),l=(0,n(a(15)).default)(r.default.createElement("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"}),"Print");t.default=l},561:function(e,t,a){"use strict";var n=a(525),r=a(0),l=a.n(r),i=a(560),c=a.n(i),o=a(201);t.a=function(e){var t=e.disabled,a=e.reportName,r=e.reportTitle,i=e.headCells,s=e.dataToPrint;return l.a.createElement(n.a,{type:"button","aria-label":"Print to Pdf",variant:"contained",size:"medium",color:"primary",disabled:t,onClick:function(){return Object(o.d)(a,r,i,s)},startIcon:l.a.createElement(c.a,null)},"Pdf")}},578:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(209),r=a(0),l=a.n(r),i=a(534);function c(e){var t=e.children,a=e.value,r=e.index,c=Object(n.a)(e,["children","value","index"]);return l.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},c),a===r&&l.a.createElement(i.a,{m:2},t))}},590:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};t.default=n},594:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(44),r=a(0),l=a.n(r),i=a(665),c=a(666),o=a(663),s=a(664),d=a(661),m=a(662),u=a(179),f=a(713);function p(e){var t=e.headCells,a=e.rows,r=l.a.useState(0),p=Object(n.a)(r,2),b=p[0],E=p[1],h=l.a.useState(5),v=Object(n.a)(h,2),g=v[0],y=v[1],P=g-Math.min(g,a.length-b*g);return l.a.createElement("div",null,l.a.createElement(s.a,{component:u.a},l.a.createElement(i.a,{"aria-label":"simple table"},l.a.createElement(d.a,null,l.a.createElement(m.a,null,t.map((function(e,t){return l.a.createElement(o.a,{key:t},e.headerName)})))),l.a.createElement(c.a,null,a.slice(b*g,b*g+g).map((function(e,a){return l.a.createElement(m.a,{key:a},t.map((function(t,a){return l.a.createElement(o.a,{component:"th",scope:"row",key:a},e[t.field])})))})),P>0&&l.a.createElement(m.a,{style:{height:53*P}},l.a.createElement(o.a,{colSpan:6}))))),l.a.createElement(f.a,{rowsPerPageOptions:[5],component:"div",count:a.length,rowsPerPage:g,page:b,onChangePage:function(e,t){E(t)},onChangeRowsPerPage:function(e){y(parseInt(e.target.value,10)),E(0)}}))}},597:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};t.default=n},598:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5"};t.default=n},607:function(e,t,a){"use strict";var n=a(1),r=a(3),l=a(0),i=(a(5),a(4)),c=a(179),o=a(6),s=l.forwardRef((function(e,t){var a=e.classes,o=e.className,s=e.raised,d=void 0!==s&&s,m=Object(r.a)(e,["classes","className","raised"]);return l.createElement(c.a,Object(n.a)({className:Object(i.a)(a.root,o),elevation:d?8:1,ref:t},m))}));t.a=Object(o.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(s)},608:function(e,t,a){"use strict";var n=a(1),r=a(3),l=a(0),i=(a(5),a(4)),c=a(6),o=l.forwardRef((function(e,t){var a=e.classes,c=e.className,o=e.component,s=void 0===o?"div":o,d=Object(r.a)(e,["classes","className","component"]);return l.createElement(s,Object(n.a)({className:Object(i.a)(a.root,c),ref:t},d))}));t.a=Object(c.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(o)},679:function(e,t,a){"use strict";a.r(t);var n=a(44),r=a(0),l=a.n(r),i=a(202),c=a(64),o=a(542),s=a(453),d=a(607),m=a(608),u=a(594),f=a(669),p=a(503),b=a(689),E=a(122),h=a(46),v=a(41),g=a(25),y=a(578),P=a(525),j=a(555),C=a.n(j),O=a(205),_=a.n(O),k=a(36),x=a(559),w=a.n(x),N=a(551),A=a(550),S=a(561),D=a(524),I=a(541),R=a(534),U=a(37),z=a(211),T=a(598),F=a.n(T),H=a(597),M=a.n(H),B=a(590),W={display:!0,position:"top",fullWidth:!0,reverse:!1,labels:{fontColor:a.n(B).a[800],fontSize:14}},V=[{id:"from_date",numeric:!1,disablePadding:!0,label:"From Date"},{id:"to_date",numeric:!1,disablePadding:!0,label:"To Date"},{id:"property_ref",numeric:!1,disablePadding:!0,label:"Property"},{id:"date_collected",numeric:!1,disablePadding:!0,label:"Date Collected"},{id:"fees_amount",numeric:!1,disablePadding:!0,label:"Amount Collected"},{id:"edit",numeric:!1,disablePadding:!0,label:"Edit"},{id:"delete",numeric:!1,disablePadding:!0,label:"Delete"}],q=[{field:"ref",headerName:"Property Name/Ref"},{field:"address",headerName:"Property Address"},{field:"city",headerName:"Location"},{field:"units",headerName:"Number of Units"},{field:"floorArea",headerName:"Floor Area"}],L=function(e){var t=e.totalPortfolioFloorArea,a=e.totalAssetsRentValue,v=e.activeLeasesNumber,g=e.propertyUnits,j=e.properties,O=e.userDetails,x=e.managementFees,U=e.match,T=e.handleItemDelete,H=Object(h.a)(),B=l.a.useState(0),L=Object(n.a)(B,2),J=L[0],Y=L[1],G=Object(r.useState)([]),K=Object(n.a)(G,2),Q=K[0],X=K[1],Z=Object(r.useState)([]),$=Object(n.a)(Z,2),ee=$[0],te=$[1],ae=Object(r.useState)("all"),ne=Object(n.a)(ae,2),re=ne[0],le=ne[1],ie=Object(r.useState)([]),ce=Object(n.a)(ie,2),oe=ce[0],se=ce[1];Object(r.useEffect)((function(){X(x),te(x)}),[x]);var de=g.length,me={datasets:[],labels:["Occupied Units","Vacant Units"]};me.datasets.push({data:[v,g.length-v],backgroundColor:[M.a[800],M.a[200]]});var ue={datasets:[]},fe=Array.from(new Set(g.map((function(e){return e.unit_type}))));ue.labels=fe,ue.datasets.push({data:fe.map((function(e){return g.filter((function(t){return t.unit_type===e})).length})),backgroundColor:fe.map((function(e,t){return F.a[100*(t+1)]}))});return l.a.createElement(i.a,{pageTitle:"User Profile"},l.a.createElement(p.a,{position:"static"},l.a.createElement(b.a,{value:J,onChange:function(e,t){Y(t)},"aria-label":"simple tabs example"},l.a.createElement(f.a,{label:"User Profile"}),l.a.createElement(f.a,{label:"Management Revenue"}))),l.a.createElement(y.a,{value:J,index:0},l.a.createElement(s.a,{container:!0,justify:"center",direction:"column",spacing:2},l.a.createElement(s.a,{item:!0,xs:12},l.a.createElement(c.a,{variant:"h6"},"User Details")),l.a.createElement(s.a,{container:!0,direction:"row",item:!0,justify:"center",spacing:4},l.a.createElement(s.a,{container:!0,item:!0,direction:"column",xs:12,md:4,spacing:2,justify:"center",alignItems:"stretch"},l.a.createElement(s.a,{item:!0,md:!0},l.a.createElement(d.a,{className:H.fullHeightWidthContainer,variant:"outlined",elevation:1},l.a.createElement(m.a,null,l.a.createElement(s.a,{container:!0,spacing:2,direction:"column",alignItems:"center",justify:"center"},l.a.createElement(s.a,{item:!0},l.a.createElement(o.a,{alt:"User Image",src:O.user_avatar_url,className:H.largeAvatar})),l.a.createElement(s.a,{item:!0},l.a.createElement(c.a,{gutterBottom:!0,align:"center",variant:"subtitle1",component:"h2"},O.title," ",O.first_name," ",O.last_name)))))),l.a.createElement(s.a,{item:!0},l.a.createElement(d.a,{className:H.fullHeightWidthContainer,variant:"outlined",elevation:1},l.a.createElement(m.a,null,l.a.createElement(c.a,{gutterBottom:!0,align:"center",variant:"subtitle1",component:"h2"},"Contact Info"),l.a.createElement(c.a,{variant:"body2",component:"p"},"ID Number: ",O.id_number||"-"),l.a.createElement(c.a,{variant:"body2",component:"p"},"Personal Phone Number: ",O.phone_number||"-"),l.a.createElement(c.a,{variant:"body2",component:"p"},"Work Phone Number: ",O.work_mobile_number||"-"),l.a.createElement(c.a,{variant:"body2",component:"p"},"Home Phone Number: ",O.home_phone_number||"-"),l.a.createElement(c.a,{variant:"body2",component:"p"},"Email: ",O.primary_email||"-"))))),l.a.createElement(s.a,{item:!0,container:!0,xs:12,md:8},l.a.createElement(s.a,{item:!0,xs:12},l.a.createElement(d.a,{variant:"outlined",elevation:1},l.a.createElement(m.a,null,l.a.createElement(c.a,{gutterBottom:!0,align:"center",variant:"subtitle1",component:"h2"},"Property Portfolio"),l.a.createElement(u.a,{rows:j,headCells:q})))))),l.a.createElement(s.a,{container:!0,direction:"row",item:!0,alignItems:"stretch",justify:"center",spacing:4},l.a.createElement(s.a,{item:!0,xs:12,md:4,container:!0,spacing:2,direction:"column",alignItems:"center",justify:"center"},l.a.createElement(E.a,{xs:12,title:"Total Rental Units",value:de}),l.a.createElement(E.a,{xs:12,title:"Total Floor Area",value:t}),l.a.createElement(E.a,{xs:12,title:"Total Units Rent Value",value:a}),l.a.createElement(E.a,{xs:12,title:"Total Active Rental Agreements",value:v})),l.a.createElement(s.a,{container:!0,item:!0,xs:12,md:8,spacing:2,direction:"row",alignItems:"stretch",justify:"center"},l.a.createElement(s.a,{item:!0,xs:12,md:!0},l.a.createElement(d.a,{className:H.fullHeightWidthContainer,variant:"outlined",elevation:1},l.a.createElement(m.a,null,l.a.createElement(c.a,{gutterBottom:!0,align:"center",variant:"subtitle1",component:"h2"},"Current Unit Occupancy"),l.a.createElement(z.Doughnut,{height:300,data:me,legend:W})))),l.a.createElement(s.a,{item:!0,xs:12,md:!0},l.a.createElement(d.a,{className:H.fullHeightWidthContainer,variant:"outlined",elevation:1},l.a.createElement(m.a,null,l.a.createElement(c.a,{gutterBottom:!0,align:"center",variant:"subtitle1",component:"h2"},"Unit Types Distribution"),l.a.createElement(z.Doughnut,{height:300,data:ue,legend:W})))))))),l.a.createElement(y.a,{value:J,index:1},l.a.createElement(s.a,{container:!0,spacing:3,justify:"space-evenly",alignItems:"center"},l.a.createElement(s.a,{item:!0,xs:12},l.a.createElement(c.a,{variant:"h6"},"Management Fees")),l.a.createElement(s.a,{container:!0,spacing:2,item:!0,alignItems:"center",direction:"row",key:1},l.a.createElement(s.a,{item:!0},l.a.createElement(P.a,{type:"button",color:"primary",variant:"contained",size:"medium",startIcon:l.a.createElement(w.a,null),component:k.b,to:"".concat(U.url,"/management-fees/new")},"Collect Fees")),l.a.createElement(s.a,{item:!0},l.a.createElement(P.a,{type:"button",color:"primary",variant:"contained",size:"medium",startIcon:l.a.createElement(C.a,null),disabled:!oe.length,component:k.b,to:"".concat(U.url,"/management-fees/").concat(oe[0],"/edit")},"Edit")),l.a.createElement(s.a,{item:!0},l.a.createElement(S.a,{disabled:!oe.length,reportName:"Rental Units Records",reportTitle:"Rental Units Data",headCells:V,dataToPrint:Q.filter((function(e){var t=e.id;return oe.includes(t)}))})),l.a.createElement(s.a,{item:!0},l.a.createElement(N.b,{disabled:!oe.length,reportName:"Rental Units Records",reportTitle:"Rental Units Data",headCells:V,dataToPrint:Q.filter((function(e){var t=e.id;return oe.includes(t)}))}))),l.a.createElement(s.a,{item:!0,xs:12},l.a.createElement(R.a,{border:1,borderRadius:"borderRadius",borderColor:"grey.400"},l.a.createElement("form",{className:H.form,id:"managementFeesSearchForm",onSubmit:function(e){e.preventDefault()}},l.a.createElement(s.a,{container:!0,spacing:2,justify:"center",alignItems:"center",direction:"row"},l.a.createElement(s.a,{item:!0,xs:12,md:6},l.a.createElement(I.a,{fullWidth:!0,select:!0,variant:"outlined",name:"property_filter",label:"Property",id:"property_filter",onChange:function(e){le(e.target.value)},value:re},l.a.createElement(D.a,{key:"all",value:"all"},"All Properties"),j.map((function(e,t){return l.a.createElement(D.a,{key:t,value:e.id},e.ref)})))),l.a.createElement(s.a,{item:!0},l.a.createElement(P.a,{type:"submit",form:"managementFeesSearchForm",color:"primary",variant:"contained",size:"medium",startIcon:l.a.createElement(_.a,null)},"SEARCH")))))),l.a.createElement(s.a,{item:!0,xs:12},l.a.createElement(A.a,{selected:oe,setSelected:se,rows:ee,headCells:V,deleteUrl:"management-fees",handleDelete:T})))))};L=Object(v.b)((function(e,t){var a=e.properties.filter((function(e){return e.assigned_to===t.match.params.userId})).map((function(t){return Object.assign(t,{units:e.propertyUnits.filter((function(e){return e.property_id===t.id})).length,floorArea:e.propertyUnits.reduce((function(e,t){return e+parseFloat(t.sqm)||0}),0)})})),n=a.reduce((function(e,t){return e+parseFloat(t.floorArea)||0}),0),r=a.map((function(e){return e.id})),l=e.leases.filter((function(e){var t=e.property_id;return r.includes(t)})).filter((function(e){return!0!==e.terminated}));return{totalPortfolioFloorArea:n,managementFees:e.managementFees.filter((function(e){return e.user_id===t.match.params.userId})),properties:a,activeLeasesNumber:l.length,totalAssetsRentValue:l.reduce((function(e,t){return e+parseFloat(t.rent_amount)||0}),0),propertyUnits:e.propertyUnits.filter((function(e){var t=e.property_id;return r.includes(t)})),userDetails:e.users.find((function(e){return e.id===t.match.params.userId}))||{}}}),(function(e){return{handleItemDelete:function(t,a){return e(Object(U.g)(t,a))}}}))(L),t.default=Object(g.g)(L)}}]);
//# sourceMappingURL=17.ff6e13ef.chunk.js.map