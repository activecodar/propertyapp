(this.webpackJsonppropetypro=this.webpackJsonppropetypro||[]).push([[54],{688:function(e,t,a){"use strict";a.r(t);var n=a(44),r=a(453),i=a(203),l=a(0),c=a.n(l),o=a(524),m=a(525),d=a(541),s=a(534),u=a(205),b=a.n(u),f=a(553),p=a.n(f),y=a(551),E=a(550),g=a(561),v=a(549),j=a(536),O=a(582),h=a(690),_=Object(v.o)(),P=[{id:"tenant_name",numeric:!1,disablePadding:!0,label:"Tenant Name"},{id:"tenant_id_number",numeric:!1,disablePadding:!0,label:"Tenant ID"},{id:"unit_ref",numeric:!1,disablePadding:!0,label:"Unit Number/Ref"},{id:"payment_date",numeric:!1,disablePadding:!0,label:"Payment Date"},{id:"payment_label",numeric:!1,disablePadding:!0,label:"Payment Type"},{id:"payment_amount",numeric:!1,disablePadding:!0,label:"Payment Amount"},{id:"memo",numeric:!1,disablePadding:!0,label:"Payment Notes/Memo"},{id:"edit",numeric:!1,disablePadding:!0,label:"Edit"},{id:"delete",numeric:!1,disablePadding:!0,label:"Delete"}];t.default=function(e){var t=e.transactions,a=e.contacts,u=e.properties,f=e.classes,k=Object(l.useState)([]),S=Object(n.a)(k,2),T=S[0],w=S[1],D=Object(l.useState)([]),C=Object(n.a)(D,2),x=C[0],I=C[1],R=Object(l.useState)("all"),N=Object(n.a)(R,2),M=N[0],F=N[1],L=Object(l.useState)("month-to-date"),W=Object(n.a)(L,2),A=W[0],z=W[1],J=Object(l.useState)(""),q=Object(n.a)(J,2),H=q[0],U=q[1],B=Object(l.useState)(""),G=Object(n.a)(B,2),K=G[0],Q=G[1],V=Object(l.useState)(null),X=Object(n.a)(V,2),Y=X[0],Z=X[1],$=Object(l.useState)([]),ee=Object(n.a)($,2),te=ee[0],ae=ee[1];Object(l.useEffect)((function(){var e=Object(v.c)(),a=e[0],n=e[1],r=t.filter((function(e){var t=Object(j.a)(e.payment_date,"yyyy-MM-dd",new Date);return Object(O.a)(t,{start:a,end:n})}));w(r),I(r)}),[t]);var ne=function(e){e.preventDefault();var a,n,r=t,i=[];switch(A){case"all":a=new Date(1990,1,1),n=new Date(2100,1,1);break;case"last-month":i=Object(v.f)(),a=i[0],n=i[1];break;case"year-to-date":i=Object(v.q)(),a=i[0],n=i[1];break;case"last-year":i=Object(v.h)(),a=i[0],n=i[1];break;case"month-to-date":i=Object(v.c)(),a=i[0],n=i[1];break;case"3-months-to-date":i=Object(v.g)(),a=i[0],n=i[1];break;default:i=Object(v.f)(),a=i[0],n=i[1]}r=(r=r.filter((function(e){var t=Object(j.a)(e.payment_date,"yyyy-MM-dd",new Date);return Object(O.a)(t,{start:a,end:n})}))).filter((function(e){var t=e.payment_date;return!H||t>=H})).filter((function(e){var t=e.payment_date;return!K||t<=K})).filter((function(e){var t=e.property_id;return"all"===M||t===M})).filter((function(e){var t=e.tenant_id;return!Y||t===Y.id})),I(r)};return c.a.createElement(r.a,{container:!0,spacing:3,alignItems:"center"},c.a.createElement(r.a,{item:!0,key:2},c.a.createElement(i.a,{text:"Tenants Payments Statement"})),c.a.createElement(r.a,{container:!0,spacing:2,item:!0,alignItems:"center",direction:"row",key:1},c.a.createElement(r.a,{item:!0},c.a.createElement(g.a,{disabled:!te.length,reportName:"Tenants Payments Records",reportTitle:"Tenants Payments Data",headCells:P,dataToPrint:T.filter((function(e){var t=e.id;return te.includes(t)}))})),c.a.createElement(r.a,{item:!0},c.a.createElement(y.b,{disabled:!te.length,reportName:"Tenants Payments Records",reportTitle:"Tenants Payments Data",headCells:P,dataToPrint:T.filter((function(e){var t=e.id;return te.includes(t)}))}))),c.a.createElement(r.a,{item:!0,xs:12},c.a.createElement(s.a,{border:1,borderRadius:"borderRadius",borderColor:"grey.400"},c.a.createElement("form",{className:f.form,id:"contactSearchForm",onSubmit:ne},c.a.createElement(r.a,{container:!0,spacing:2,justify:"center"},c.a.createElement(r.a,{item:!0,container:!0,spacing:2},c.a.createElement(r.a,{item:!0,container:!0,direction:"row",spacing:2},c.a.createElement(r.a,{item:!0,container:!0,xs:12,md:6,direction:"row",spacing:2},c.a.createElement(r.a,{item:!0,xs:12,md:6},c.a.createElement(d.a,{fullWidth:!0,variant:"outlined",type:"date",id:"from_date_filter",name:"from_date_filter",label:"From Date",value:H,onChange:function(e){U(e.target.value)},InputLabelProps:{shrink:!0}})),c.a.createElement(r.a,{item:!0,xs:12,md:6},c.a.createElement(d.a,{fullWidth:!0,variant:"outlined",type:"date",name:"to_date_filter",label:"To Date",id:"to_date_filter",onChange:function(e){Q(e.target.value)},value:K,InputLabelProps:{shrink:!0}}))),c.a.createElement(r.a,{item:!0,xs:12,md:6},c.a.createElement(d.a,{fullWidth:!0,variant:"outlined",select:!0,id:"period_filter",name:"period_filter",label:"Period",value:A,onChange:function(e){z(e.target.value)},InputLabelProps:{shrink:!0}},_.map((function(e,t){return c.a.createElement(o.a,{key:t,value:e.id},e.text)}))))),c.a.createElement(r.a,{item:!0,container:!0,direction:"row",spacing:2},c.a.createElement(r.a,{item:!0,md:6,xs:12},c.a.createElement(d.a,{fullWidth:!0,select:!0,variant:"outlined",name:"property_filter",label:"Property",id:"property_filter",onChange:function(e){F(e.target.value)},value:M},c.a.createElement(o.a,{key:"all",value:"all"},"All Properties"),u.map((function(e,t){return c.a.createElement(o.a,{key:t,value:e.id},e.ref)})))),c.a.createElement(r.a,{item:!0,xs:12,md:6},c.a.createElement(h.a,{id:"contact_filter",options:a,getOptionSelected:function(e,t){return e.id===t.id},name:"contact_filter",onChange:function(e,t){Z(t)},value:Y,getOptionLabel:function(e){return e?"".concat(e.first_name," ").concat(e.last_name):""},style:{width:"100%"},renderInput:function(e){return c.a.createElement(d.a,Object.assign({},e,{label:"Tenant",variant:"outlined"}))}})))),c.a.createElement(r.a,{container:!0,spacing:2,item:!0,justify:"flex-end",alignItems:"center",direction:"row",key:1},c.a.createElement(r.a,{item:!0},c.a.createElement(m.a,{onClick:function(e){return ne(e)},type:"submit",form:"rentRollSearchForm",color:"primary",variant:"contained",size:"medium",startIcon:c.a.createElement(b.a,null)},"SEARCH")),c.a.createElement(r.a,{item:!0},c.a.createElement(m.a,{onClick:function(e){return function(e){e.preventDefault(),I(T),F("all"),z("month-to-date"),U(""),Q(""),Z("")}(e)},type:"reset",form:"rentRollSearchForm",color:"primary",variant:"contained",size:"medium",startIcon:c.a.createElement(p.a,null)},"RESET"))))))),c.a.createElement(r.a,{item:!0,xs:12},c.a.createElement(E.a,{selected:te,setSelected:ae,rows:x,headCells:P})))}}}]);
//# sourceMappingURL=54.0393c45f.chunk.js.map