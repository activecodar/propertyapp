(this.webpackJsonppropetypro=this.webpackJsonppropetypro||[]).push([[50],{556:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(0),r=a.n(n),i=a(199),m=a(526),o=a(129),l=a(527),c=a(529),u=a(453),d=a(64),s=Object(i.a)((function(e){return{root:{display:"flex",alignItems:"center",height:80,width:120},wrapper:{margin:e.spacing(1),position:"relative",height:50,width:50},buttonProgress:{color:o.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function p(e){var t=e.open,a=e.dialogTitle,n=s();return r.a.createElement(l.a,{maxWidth:"md","aria-labelledby":"simple-dialog-title",open:t},r.a.createElement(c.a,null,r.a.createElement(u.a,{container:!0,alignItems:"center",direction:"column"},r.a.createElement(u.a,{item:!0,lg:!0},r.a.createElement(d.a,null,a||"Saving...")),r.a.createElement(u.a,{item:!0,lg:!0},r.a.createElement("div",{className:n.root},r.a.createElement("div",{className:n.wrapper},t&&r.a.createElement(m.a,{size:50,className:n.buttonProgress})))))))}},557:function(e,t,a){"use strict";var n=a(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),i=(0,n(a(15)).default)(r.default.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=i},558:function(e,t,a){"use strict";var n=a(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),i=(0,n(a(15)).default)(r.default.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.default=i},660:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a.n(n),i=a(20),m=a(0),o=a.n(m),l=a(453),c=a(203),u=a(202),d=a(541),s=a(525),p=a(557),y=a.n(p),h=a(558),_=a.n(h),f=a(208),b=a(55),v=a(46),g=a(19),E=a(41),x=a(37),P=a(25),j=a(537),S=a(514),I=a(556),k=Object(j.a)(Object(S.a)(),"yyyy-MM-dd"),w=g.e().shape({tenant_id:g.g().trim().required("Tenant is required"),memo:g.g().trim().max(50,"Memo details should be less than 50").default(""),payment_amount:g.d().typeError("Amount must be a number").positive("Amount must be a positive number").required("Payment amount is required"),payment_date:g.c().required("Payment Date is Required")}),C=function(e){var t=e.history,a=e.unitWithCharge,n=e.paymentToEdit,m=e.contactWithPayment,p=e.handleItemSubmit,h=Object(v.a)(),g="Edit Payment for - ".concat(a.ref," \u2022 ").concat(m.first_name," ").concat(m.last_name),E={id:n.id,charge_id:n.charge_id,unit_id:n.unit_id,property_id:n.property_id,payment_amount:n.payment_amount||0,memo:n.memo||"",payment_label:n.payment_label||0,payment_type:n.payment_type||0,payment_date:k,tenant_id:n.tenant_id};return o.a.createElement(u.a,{pageTitle:"Payment Details"},o.a.createElement(l.a,{container:!0,justify:"center",direction:"column"},o.a.createElement(l.a,{item:!0,key:2},o.a.createElement(c.a,{text:g})),o.a.createElement(l.a,{container:!0,direction:"column",justify:"center",item:!0,key:3},o.a.createElement(b.b,{initialValues:E,enableReinitialize:!0,validationSchema:w,onSubmit:function(){var e=Object(i.a)(r.a.mark((function e(a,i){var m,o,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=i.resetForm,o=i.setStatus,e.prev=1,l={id:n.id,charge_id:a.charge_id,payment_amount:a.payment_amount,memo:a.memo,payment_date:a.payment_date,tenant_id:a.tenant_id,unit_id:a.unit_id,property_id:a.property_id,payment_label:a.payment_label,payment_type:a.payment_type},e.next=5,p(l,"charge-payments");case 5:return e.next=7,p({id:a.charge_id,payed:!0},"transactions-charges");case 7:m({}),o({sent:!0,msg:"Details saved successfully!"}),t.goBack(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),o({sent:!1,msg:"Error! ".concat(e.t0,".")});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var a=e.values,n=e.status,r=e.handleSubmit,i=e.touched,m=e.errors,c=e.handleChange,u=e.handleBlur,p=e.isSubmitting;return o.a.createElement("form",{className:h.form,method:"post",noValidate:!0,id:"paymentInputForm",onSubmit:r},o.a.createElement(l.a,{container:!0},n&&n.msg&&o.a.createElement(f.a,{variant:n.sent?"success":"error",message:n.msg}),p&&o.a.createElement(I.a,{open:!0}),o.a.createElement(l.a,{item:!0,container:!0,spacing:2,direction:"column"},o.a.createElement(l.a,{item:!0},o.a.createElement(d.a,{fullWidth:!0,variant:"outlined",id:"payment_date",type:"date",name:"payment_date",label:"Payment Date",value:a.payment_date,onChange:c,onBlur:u,InputLabelProps:{shrink:!0},error:m.payment_date&&i.payment_date,helperText:i.payment_date&&m.payment_date})),o.a.createElement(l.a,{item:!0},o.a.createElement(d.a,{fullWidth:!0,type:"text",variant:"outlined",name:"payment_amount",id:"payment_amount",label:"Payment Amount",value:a.payment_amount,onChange:c,onBlur:u,error:m.payment_amount&&i.payment_amount,helperText:i.payment_amount&&m.payment_amount})),o.a.createElement(l.a,{item:!0},o.a.createElement(d.a,{fullWidth:!0,type:"text",multiline:!0,rows:4,variant:"outlined",name:"memo",id:"memo",label:"Payment Details/Memo",value:a.memo,onChange:c,onBlur:u,error:m.memo&&i.memo,helperText:m.memo||"Include details for the payments here (max 50)"}))),o.a.createElement(l.a,{item:!0,container:!0,justify:"flex-start",direction:"row",className:h.buttonBox},o.a.createElement(l.a,{item:!0},o.a.createElement(s.a,{color:"secondary",variant:"contained",size:"medium",startIcon:o.a.createElement(_.a,null),onClick:function(){return t.goBack()},disableElevation:!0},"Cancel")),o.a.createElement(l.a,{item:!0},o.a.createElement(s.a,{type:"submit",color:"primary",variant:"contained",size:"medium",startIcon:o.a.createElement(y.a,null),form:"paymentInputForm",disabled:p},"Save Payment")))))})))))};C=Object(E.b)((function(e,t){var a=e.transactions.find((function(e){return e.id===t.match.params.paymentId}))||{};return{paymentToEdit:a,contactWithPayment:e.contacts.find((function(e){return e.id===a.tenant_id}))||{},unitWithCharge:e.propertyUnits.find((function(e){return e.id===a.unit_id}))||{}}}),(function(e){return{handleItemSubmit:function(t,a){return e(Object(x.h)(t,a))}}}))(C),t.default=Object(P.g)(C)}}]);
//# sourceMappingURL=50.ffd7b585.chunk.js.map