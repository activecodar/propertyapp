(this.webpackJsonppropetypro=this.webpackJsonppropetypro||[]).push([[11],{545:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(17),r=a(9),c=a(7);function i(e,t){Object(c.a)(2,arguments);var a=Object(r.a)(e),i=Object(n.a)(t);if(isNaN(i))return new Date(NaN);if(!i)return a;var o=a.getDate(),l=new Date(a.getTime());l.setMonth(a.getMonth()+i+1,0);var u=l.getDate();return o>=u?l:(a.setFullYear(l.getFullYear(),l.getMonth(),o),a)}},549:function(e,t,a){"use strict";a.d(t,"b",(function(){return y})),a.d(t,"e",(function(){return E})),a.d(t,"d",(function(){return O})),a.d(t,"p",(function(){return j})),a.d(t,"m",(function(){return _})),a.d(t,"n",(function(){return C})),a.d(t,"j",(function(){return w})),a.d(t,"i",(function(){return P})),a.d(t,"l",(function(){return k})),a.d(t,"o",(function(){return N})),a.d(t,"f",(function(){return D})),a.d(t,"h",(function(){return S})),a.d(t,"q",(function(){return T})),a.d(t,"c",(function(){return x})),a.d(t,"g",(function(){return M})),a.d(t,"k",(function(){return R})),a.d(t,"a",(function(){return I}));var n=a(512),r=a(513),c=a(514),i=a(515),o=a(572),l=a(573),u=a(574),m=a(575),s=Object(n.a)({start:Object(r.a)(Object(c.a)()),end:Object(i.a)(Object(c.a)())}),d=["Mr","Prof","Hon","Sir","Mrs","Miss","Dr","Madam","Other"],b=["Male","Female","Unspecified"],f=["Security Deposit Refund","Water Deposit Refund","Management Fees","Utilities","Taxes","Mortgage","Office","Maintenance & Cleaning","Advertising","Insurance","Legal & Other Professional Fees","Auto & Travel","Supplies","Other Refund","Repairs","Other"],h=["Bed Sitter","One Bedroom","Two Bedroom","Single Room","Double Room","Shop","Other"],p=["Fixed","Fixed w/rollover"],g=["Electric","Sewer","Water"],v=["Daily","Weekly","Monthly","Quarterly","Half-Yearly","Yearly"];function y(){return d}function E(){return b}function O(){return f}function j(){return h}function _(){for(var e=[],t=1;t<=5;t++)e.push(t);return e.concat("5+")}function C(){for(var e=[],t=1;t<=5;t++)e.push(t);return e}function w(){return g}function P(){return p}function k(){return v}function N(){return[{id:"month-to-date",text:"Month To Date"},{id:"last-month",text:"Last Month"},{id:"3-months-to-date",text:"3 Months To Date"},{id:"year-to-date",text:"Year To Date"},{id:"last-year",text:"Last Year"}]}function D(){return[Object(o.a)(Object(l.a)(Object(c.a)(),1)),Object(u.a)(Object(l.a)(Object(c.a)(),1))]}function S(){return[Object(r.a)(Object(m.a)(Object(c.a)(),1)),Object(i.a)(Object(m.a)(Object(c.a)(),1))]}function T(){return[Object(r.a)(Object(c.a)()),Object(c.a)()]}function x(){return[Object(o.a)(Object(c.a)()),Object(u.a)(Object(c.a)())]}function M(){return[Object(o.a)(Object(l.a)(Object(c.a)(),2)),Object(u.a)(Object(c.a)())]}function R(){return s}var I=new Intl.NumberFormat(void 0,{style:"decimal",currency:"KES"})},550:function(e,t,a){"use strict";var n=a(44),r=a(0),c=a.n(r),i=a(36),o=a(534),l=a(450),u=a(666),m=a(665),s=a(662),d=a(667),b=a(713),f=a(571),h=a(664),p=a(663),g=a(562),v=a.n(g),y=a(555),E=a.n(y),O=a(554),j=a.n(O),_=a(25),C=a(576),w=a(661);var P=function(e){var t=e.classes,a=e.onSelectAllClick,n=e.order,r=e.orderBy,i=e.headCells,o=e.numSelected,l=e.rowCount,u=e.onRequestSort;return c.a.createElement(w.a,null,c.a.createElement(s.a,null,c.a.createElement(p.a,{padding:"checkbox"},c.a.createElement(f.a,{indeterminate:o>0&&o<l,checked:o===l,onChange:a,inputProps:{"aria-label":"select all"}})),i.map((function(e){return c.a.createElement(p.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&n},c.a.createElement(C.a,{active:r===e.id,direction:n,onClick:(a=e.id,function(e){u(e,a)})},e.label,r===e.id?c.a.createElement("span",{className:t.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var a}))))},k=a(199),N=Object(k.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function D(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}t.a=Object(_.g)((function(e){var t=e.rows,a=e.headCells,r=e.selected,g=e.setSelected,y=e.deleteUrl,O=e.handleDelete,_=e.noEditCol,C=e.noDeleteCol,w=e.noDetailsCol,k=e.match,S=N(),T=c.a.useState("asc"),x=Object(n.a)(T,2),M=x[0],R=x[1],I=c.a.useState("Beds"),B=Object(n.a)(I,2),z=B[0],F=B[1],H=c.a.useState(0),A=Object(n.a)(H,2),U=A[0],W=A[1],Y=c.a.useState(50),q=Object(n.a)(Y,2),L=q[0],J=q[1];return c.a.createElement(o.a,{border:1,borderRadius:"borderRadius",borderColor:"grey.400"},c.a.createElement(h.a,null,c.a.createElement(m.a,{stickyHeader:!0,className:S.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},c.a.createElement(P,{classes:S,numSelected:r.length,order:M,orderBy:z,onSelectAllClick:function(e){if(e.target.checked){var a=t.map((function(e){return e.id}));g(a)}else g([])},headCells:a,onRequestSort:function(e,t){R(z===t&&"desc"===M?"asc":"desc"),F(t)},rowCount:t.length}),c.a.createElement(u.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(t,function(e,t){return"desc"===e?function(e,a){return D(e,a,t)}:function(e,a){return-D(e,a,t)}}(M,z)).slice(U*L,U*L+L).map((function(e,t){var n,o=(n=e.id,-1!==r.indexOf(n)),u="enhanced-table-checkbox-".concat(t);return c.a.createElement(s.a,{hover:!0,role:"checkbox","aria-checked":o,tabIndex:-1,key:e.id,selected:o},c.a.createElement(p.a,{padding:"checkbox"},c.a.createElement(f.a,{onClick:function(t){return function(e,t){e.stopPropagation();var a=r.indexOf(t),n=[];-1===a?n=n.concat(r,t):0===a?n=n.concat(r.slice(1)):a===r.length-1?n=n.concat(r.slice(0,-1)):a>0&&(n=n.concat(r.slice(0,a),r.slice(a+1))),g(n)}(t,e.id)},checked:o,inputProps:{"aria-labelledby":u}})),a.map((function(t,a){var n=e[t.id];return"edit"===t.id?_?null:c.a.createElement(p.a,{key:"edit".concat(a),component:"th",scope:"row",sortDirection:!1},c.a.createElement(d.a,{title:"Edit",placement:"bottom"},c.a.createElement(l.a,{color:"primary",size:"small",component:i.b,to:"".concat(k.url,"/").concat(e.id,"/edit")},c.a.createElement(E.a,{fontSize:"default"})))):"delete"===t.id?C?null:c.a.createElement(p.a,{key:"delete".concat(a),component:"th",scope:"row",sortDirection:!1},c.a.createElement(d.a,{title:"Delete",placement:"bottom"},c.a.createElement(l.a,{onClick:function(t){O(e.id,y)},color:"primary",size:"small"},c.a.createElement(v.a,{fontSize:"default"})))):"details"===t.id?w?c.a.createElement(p.a,{key:"details".concat(a),component:"th",scope:"row",sortDirection:!1},c.a.createElement(d.a,{title:"Details",placement:"bottom"},c.a.createElement(l.a,{color:"primary",size:"small",component:i.b,to:"".concat(k.url,"/").concat(e.id,"/details")},c.a.createElement(j.a,{fontSize:"default"})))):null:c.a.createElement(p.a,{key:a,component:"th",id:u,scope:"row",padding:"none"},"boolean"===typeof n?n?"Yes":"No":n)})))}))))),c.a.createElement(b.a,{rowsPerPageOptions:[50,100,200,300],component:"div",count:t.length,rowsPerPage:L,page:U,onChangePage:function(e,t){W(t)},onChangeRowsPerPage:function(e){J(parseInt(e.target.value,10)),W(0)}}))}))},551:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(525),r=a(0),c=a.n(r),i=a(207),o=a.n(i),l=a(201);function u(e){var t=e.displayText,a=e.disabled,r=e.reportName,i=e.reportTitle,u=e.headCells,m=e.dataToPrint;return c.a.createElement(n.a,{type:"button","aria-label":"Export to Excel",variant:"contained",size:"medium",color:"primary",disabled:a,onClick:function(){return Object(l.c)(r,i,u,m,r)},startIcon:c.a.createElement(o.a,null)},t||"Excel")}t.b=function(e){var t=e.disabled,a=e.reportName,r=e.reportTitle,i=e.headCells,u=e.dataToPrint;return c.a.createElement(n.a,{type:"button","aria-label":"Export to Excel",variant:"contained",size:"medium",color:"primary",disabled:t,onClick:function(){return Object(l.a)(a,r,i,u,a)},startIcon:c.a.createElement(o.a,null)},"Excel")}},553:function(e,t,a){"use strict";var n=a(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(15)).default)(r.default.createElement("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}),"Undo");t.default=c},560:function(e,t,a){"use strict";var n=a(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(15)).default)(r.default.createElement("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"}),"Print");t.default=c},561:function(e,t,a){"use strict";var n=a(525),r=a(0),c=a.n(r),i=a(560),o=a.n(i),l=a(201);t.a=function(e){var t=e.disabled,a=e.reportName,r=e.reportTitle,i=e.headCells,u=e.dataToPrint;return c.a.createElement(n.a,{type:"button","aria-label":"Print to Pdf",variant:"contained",size:"medium",color:"primary",disabled:t,onClick:function(){return Object(l.d)(a,r,i,u)},startIcon:c.a.createElement(o.a,null)},"Pdf")}},572:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(9),r=a(7);function c(e){Object(r.a)(1,arguments);var t=Object(n.a)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},573:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(17),r=a(545),c=a(7);function i(e,t){Object(c.a)(2,arguments);var a=Object(n.a)(t);return Object(r.a)(e,-a)}},574:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(9),r=a(7);function c(e){Object(r.a)(1,arguments);var t=Object(n.a)(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}},575:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(17),r=a(545),c=a(7);function i(e,t){Object(c.a)(2,arguments);var a=Object(n.a)(t);return Object(r.a)(e,12*a)}function o(e,t){Object(c.a)(2,arguments);var a=Object(n.a)(t);return i(e,-a)}},578:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(209),r=a(0),c=a.n(r),i=a(534);function o(e){var t=e.children,a=e.value,r=e.index,o=Object(n.a)(e,["children","value","index"]);return c.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},o),a===r&&c.a.createElement(i.a,{m:2},t))}},582:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(9),r=a(7);function c(e,t){Object(r.a)(2,arguments);var a=t||{},c=Object(n.a)(e).getTime(),i=Object(n.a)(a.start).getTime(),o=Object(n.a)(a.end).getTime();if(!(i<=o))throw new RangeError("Invalid interval");return c>=i&&c<=o}},594:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(44),r=a(0),c=a.n(r),i=a(665),o=a(666),l=a(663),u=a(664),m=a(661),s=a(662),d=a(179),b=a(713);function f(e){var t=e.headCells,a=e.rows,r=c.a.useState(0),f=Object(n.a)(r,2),h=f[0],p=f[1],g=c.a.useState(5),v=Object(n.a)(g,2),y=v[0],E=v[1],O=y-Math.min(y,a.length-h*y);return c.a.createElement("div",null,c.a.createElement(u.a,{component:d.a},c.a.createElement(i.a,{"aria-label":"simple table"},c.a.createElement(m.a,null,c.a.createElement(s.a,null,t.map((function(e,t){return c.a.createElement(l.a,{key:t},e.headerName)})))),c.a.createElement(o.a,null,a.slice(h*y,h*y+y).map((function(e,a){return c.a.createElement(s.a,{key:a},t.map((function(t,a){return c.a.createElement(l.a,{component:"th",scope:"row",key:a},e[t.field])})))})),O>0&&c.a.createElement(s.a,{style:{height:53*O}},c.a.createElement(l.a,{colSpan:6}))))),c.a.createElement(b.a,{rowsPerPageOptions:[5],component:"div",count:a.length,rowsPerPage:y,page:h,onChangePage:function(e,t){p(t)},onChangeRowsPerPage:function(e){E(parseInt(e.target.value,10)),p(0)}}))}},595:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(64),i=a(542),o=a(607),l=a(622),u=a(608),m=a(46);t.a=function(e){var t=Object(m.a)(),a=e.title,n=e.avatar,s=e.avatarSrc,d=e.subheader,b=e.cardContent;return r.a.createElement(o.a,{className:t.fullHeightWidthContainer,variant:"outlined",elevation:1},r.a.createElement(l.a,{avatar:r.a.createElement(i.a,{"aria-label":"contact avatar",src:s||"",className:t.avatar},n),title:a,subheader:d}),r.a.createElement(u.a,null,b.map((function(e,t){return r.a.createElement(c.a,{key:t,gutterBottom:!0,variant:"body2"},e.name," : ",e.value)}))))}},607:function(e,t,a){"use strict";var n=a(1),r=a(3),c=a(0),i=(a(5),a(4)),o=a(179),l=a(6),u=c.forwardRef((function(e,t){var a=e.classes,l=e.className,u=e.raised,m=void 0!==u&&u,s=Object(r.a)(e,["classes","className","raised"]);return c.createElement(o.a,Object(n.a)({className:Object(i.a)(a.root,l),elevation:m?8:1,ref:t},s))}));t.a=Object(l.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(u)},608:function(e,t,a){"use strict";var n=a(1),r=a(3),c=a(0),i=(a(5),a(4)),o=a(6),l=c.forwardRef((function(e,t){var a=e.classes,o=e.className,l=e.component,u=void 0===l?"div":l,m=Object(r.a)(e,["classes","className","component"]);return c.createElement(u,Object(n.a)({className:Object(i.a)(a.root,o),ref:t},m))}));t.a=Object(o.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(l)},622:function(e,t,a){"use strict";var n=a(1),r=a(3),c=a(0),i=(a(5),a(4)),o=a(6),l=a(64),u=c.forwardRef((function(e,t){var a=e.action,o=e.avatar,u=e.classes,m=e.className,s=e.component,d=void 0===s?"div":s,b=e.disableTypography,f=void 0!==b&&b,h=e.subheader,p=e.subheaderTypographyProps,g=e.title,v=e.titleTypographyProps,y=Object(r.a)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),E=g;null==E||E.type===l.a||f||(E=c.createElement(l.a,Object(n.a)({variant:o?"body2":"h5",className:u.title,component:"span",display:"block"},v),E));var O=h;return null==O||O.type===l.a||f||(O=c.createElement(l.a,Object(n.a)({variant:o?"body2":"body1",className:u.subheader,color:"textSecondary",component:"span",display:"block"},p),O)),c.createElement(d,Object(n.a)({className:Object(i.a)(u.root,m),ref:t},y),o&&c.createElement("div",{className:u.avatar},o),c.createElement("div",{className:u.content},E,O),a&&c.createElement("div",{className:u.action},a))}));t.a=Object(o.a)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(u)},623:function(e,t,a){"use strict";var n=a(1),r=a(3),c=a(0),i=(a(5),a(4)),o=a(6),l=["video","audio","picture","iframe","img"],u=c.forwardRef((function(e,t){var a=e.children,o=e.classes,u=e.className,m=e.component,s=void 0===m?"div":m,d=e.image,b=e.src,f=e.style,h=Object(r.a)(e,["children","classes","className","component","image","src","style"]),p=-1!==l.indexOf(s),g=!p&&d?Object(n.a)({backgroundImage:'url("'.concat(d,'")')},f):f;return c.createElement(s,Object(n.a)({className:Object(i.a)(o.root,u,p&&o.media,-1!=="picture img".indexOf(s)&&o.img),ref:t,style:g,src:p?d||b:void 0},h),a)}));t.a=Object(o.a)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},{name:"MuiCardMedia"})(u)},698:function(e,t,a){"use strict";a.r(t);var n=a(44),r=a(0),c=a.n(r),i=a(202),o=a(64),l=a(453),u=a(607),m=a(608),s=a(623),d=a(669),b=a(503),f=a(689),h=a(37),p=a(524),g=a(525),v=a(541),y=a(534),E=a(205),O=a.n(E),j=a(553),_=a.n(j),C=a(560),w=a.n(C),P=a(551),k=a(561),N=a(550),D=a(549),S=a(536),T=a(582),x=a(201),M=Object(D.o)(),R=[{id:"charge_label",numeric:!1,disablePadding:!0,label:"Charge Type"},{id:"charge_date",numeric:!1,disablePadding:!0,label:"Charge Date"},{id:"due_date",numeric:!1,disablePadding:!0,label:"Due Date"},{id:"charge_amount",numeric:!1,disablePadding:!0,label:"Charge Amount"},{id:"payed_status",numeric:!1,disablePadding:!0,label:"Payments Made"},{id:"payed_amount",numeric:!1,disablePadding:!0,label:"Total Amounts Paid"},{id:"balance",numeric:!1,disablePadding:!0,label:"Balance"}],I=function(e){var t=e.tenantDetails,a=e.tenantTransactionCharges,i=e.handleItemDelete,u=e.classes,m=Object(r.useState)([]),s=Object(n.a)(m,2),d=s[0],b=s[1],f=Object(r.useState)([]),h=Object(n.a)(f,2),E=h[0],j=h[1],C=Object(r.useState)(""),I=Object(n.a)(C,2),B=I[0],z=I[1],F=Object(r.useState)("month-to-date"),H=Object(n.a)(F,2),A=H[0],U=H[1],W=Object(r.useState)([]),Y=Object(n.a)(W,2),q=Y[0],L=Y[1],J=Array.from(new Set(d.map((function(e){return JSON.stringify({label:e.charge_label,value:e.charge_type})})))).map((function(e){return JSON.parse(e)})),K=E.filter((function(e){return"rent"===e.charge_type})).reduce((function(e,t){return e+parseFloat(t.charge_amount)||0}),0),Q=E.filter((function(e){return"rent"!==e.charge_type})).reduce((function(e,t){return e+parseFloat(t.charge_amount)||0}),0),V=E.filter((function(e){return"rent"===e.charge_type})).reduce((function(e,t){return e+parseFloat(t.payed_amount)||0}),0),G=E.filter((function(e){return"rent"!==e.charge_type})).reduce((function(e,t){return e+parseFloat(t.payed_amount)||0}),0);Object(r.useEffect)((function(){var e=Object(D.c)(),t=e[0],n=e[1],r=a.filter((function(e){var a=Object(S.a)(e.charge_date,"yyyy-MM-dd",new Date);return Object(T.a)(a,{start:t,end:n})}));b(r),j(r)}),[a]);var X=function(e){e.preventDefault();var t,n,r=a,c=[];switch(A){case"last-month":c=Object(D.f)(),t=c[0],n=c[1];break;case"year-to-date":c=Object(D.q)(),t=c[0],n=c[1];break;case"last-year":c=Object(D.h)(),t=c[0],n=c[1];break;case"month-to-date":c=Object(D.c)(),t=c[0],n=c[1];break;case"3-months-to-date":c=Object(D.g)(),t=c[0],n=c[1];break;default:c=Object(D.f)(),t=c[0],n=c[1]}r=(r=r.filter((function(e){var a=Object(S.a)(e.charge_date,"yyyy-MM-dd",new Date);return Object(T.a)(a,{start:t,end:n})}))).filter((function(e){var t=e.charge_type;return!B||t===B})),j(r)};return c.a.createElement(l.a,{container:!0,spacing:2,justify:"center",direction:"column"},c.a.createElement(l.a,{item:!0,sm:12},c.a.createElement(o.a,{variant:"h6"},"Tenant Charges Statement - ",t.first_name," ",t.last_name," ")),c.a.createElement(l.a,{item:!0,container:!0,spacing:2,alignItems:"center",direction:"row"},c.a.createElement(l.a,{item:!0},c.a.createElement(P.b,{disabled:!q.length,reportName:"".concat(t.first_name," ").concat(t.last_name," Charges Record"),reportTitle:"Tenant Charges Data",headCells:R,dataToPrint:d.filter((function(e){var t=e.id;return q.includes(t)}))})),c.a.createElement(l.a,{item:!0},c.a.createElement(k.a,{disabled:!q.length,reportName:"Tenant Charges Data",reportTitle:"".concat(t.first_name," ").concat(t.last_name," Charges Record"),headCells:R,dataToPrint:d.filter((function(e){var t=e.id;return q.includes(t)}))})),c.a.createElement(l.a,{item:!0},c.a.createElement(g.a,{"aria-label":"Print Invoice",variant:"contained",size:"medium",color:"primary",disabled:!q.length,onClick:function(){Object(x.e)(t,d.filter((function(e){var t=e.id;return q.includes(t)})))},startIcon:c.a.createElement(w.a,null)},"Print Invoice"))),c.a.createElement(l.a,{item:!0,container:!0},c.a.createElement(l.a,{item:!0,sm:12},c.a.createElement(y.a,{border:1,borderRadius:"borderRadius",borderColor:"grey.400"},c.a.createElement("form",{className:u.form,id:"contactSearchForm",onSubmit:X},c.a.createElement(l.a,{container:!0,justify:"center",direction:"column"},c.a.createElement(l.a,{item:!0,container:!0,spacing:2,justify:"center",direction:"row"},c.a.createElement(l.a,{item:!0,md:6,xs:12},c.a.createElement(v.a,{fullWidth:!0,variant:"outlined",select:!0,id:"period_filter",name:"period_filter",label:"Period",value:A,onChange:function(e){U(e.target.value)},InputLabelProps:{shrink:!0}},M.map((function(e,t){return c.a.createElement(p.a,{key:t,value:e.id},e.text)})))),c.a.createElement(l.a,{item:!0,md:6,xs:12},c.a.createElement(v.a,{fullWidth:!0,select:!0,variant:"outlined",name:"chargeType",label:"Charge Type",id:"chargeType",onChange:function(e){z(e.target.value)},value:B},J.map((function(e,t){return c.a.createElement(p.a,{key:t,value:e.value},e.label)}))))),c.a.createElement(l.a,{container:!0,spacing:2,item:!0,justify:"flex-end",alignItems:"center",direction:"row",key:1},c.a.createElement(l.a,{item:!0},c.a.createElement(g.a,{onClick:function(e){return X(e)},type:"submit",form:"contactSearchForm",color:"primary",variant:"contained",size:"medium",startIcon:c.a.createElement(O.a,null)},"SEARCH")),c.a.createElement(l.a,{item:!0},c.a.createElement(g.a,{onClick:function(e){return function(e){e.preventDefault(),j(d),z(""),U("month-to-date")}(e)},type:"reset",form:"contactSearchForm",color:"primary",variant:"contained",size:"medium",startIcon:c.a.createElement(_.a,null)},"RESET")))))))),c.a.createElement(l.a,{item:!0,container:!0},c.a.createElement(l.a,{item:!0,sm:12},c.a.createElement(y.a,{border:1,borderRadius:"borderRadius",borderColor:"grey.400",className:u.form},c.a.createElement(l.a,{container:!0,direction:"row",spacing:1},c.a.createElement(l.a,{item:!0,container:!0,md:4,sm:12},c.a.createElement(l.a,{item:!0,sm:12},c.a.createElement(o.a,{variant:"subtitle1",align:"center"},"Total Rent Charges: ",D.a.format(K))),c.a.createElement(l.a,{item:!0,sm:12},c.a.createElement(o.a,{variant:"subtitle1",align:"center"},"Total Other Charges: ",D.a.format(Q)))),c.a.createElement(l.a,{item:!0,container:!0,md:4,sm:12},c.a.createElement(l.a,{item:!0,sm:12},c.a.createElement(o.a,{variant:"subtitle1",align:"center"},"Total Rent Payments: ",D.a.format(V))),c.a.createElement(l.a,{item:!0,sm:12},c.a.createElement(o.a,{variant:"subtitle1",align:"center"},"Total Other Payments: ",D.a.format(G)))),c.a.createElement(l.a,{item:!0,container:!0,md:4,sm:12},c.a.createElement(l.a,{item:!0,sm:12},c.a.createElement(o.a,{variant:"subtitle1",align:"center"},"Outstanding Rent Balances: ",D.a.format(K-V))),c.a.createElement(l.a,{item:!0,sm:12},c.a.createElement(o.a,{variant:"subtitle1",align:"center"},"Other Charges Outstanding Balances: ",D.a.format(G-G)))))))),c.a.createElement(l.a,{item:!0,container:!0,xs:12},c.a.createElement(l.a,{item:!0,xs:12},c.a.createElement(N.a,{selected:q,setSelected:L,rows:E,headCells:R,noEditCol:!0,noDeleteCol:!0,deleteUrl:"transactions-charges",handleDelete:i}))))},B=a(578),z=a(594),F=a(595),H=a(46),A=a(41),U=a(25),W=a(572),Y=a(514),q=a(574),L=[{field:"charge_label",headerName:"Charge Type",width:200},{field:"charge_date",headerName:"Date Charged",width:200},{field:"charge_amount",headerName:"Amount",type:"number",width:90}],J=[{field:"payment_label",headerName:"Payment For",width:200},{field:"payment_date",headerName:"Date Made",width:200},{field:"payment_amount",headerName:"Amount",type:"number",width:90}],K=function(e){var t=e.transactions,a=e.transactionsCharges,r=e.tenantUnit,h=e.tenantDetails,p=e.handleItemDelete,g=Object(H.a)(),v={emergency_contact_name:h.emergency_contact_name,emergency_contact_relationship:h.emergency_contact_relationship,emergency_contact_phone_number:h.emergency_contact_phone_number,emergency_contact_email:h.emergency_contact_email},y=c.a.useState(0),E=Object(n.a)(y,2),O=E[0],j=E[1],_=a.filter((function(e){var t=Object(S.a)(e.charge_date,"yyyy-MM-dd",new Date);return Object(T.a)(t,{start:Object(W.a)(Object(Y.a)()),end:Object(q.a)(Object(Y.a)())})})),C=t.filter((function(e){var t=Object(S.a)(e.payment_date,"yyyy-MM-dd",new Date);return Object(T.a)(t,{start:Object(W.a)(Object(Y.a)()),end:Object(q.a)(Object(Y.a)())})}));return c.a.createElement(i.a,{pageTitle:"Tenant Summary"},c.a.createElement(b.a,{position:"static"},c.a.createElement(f.a,{value:O,onChange:function(e,t){j(t)},"aria-label":"simple tabs example"},c.a.createElement(d.a,{label:"Tenant Details"}),c.a.createElement(d.a,{label:"Rent & Other Charges"}))),c.a.createElement(B.a,{value:O,index:1},c.a.createElement(I,{tenantTransactionCharges:a,tenantDetails:h,handleItemDelete:p,classes:g})),c.a.createElement(B.a,{value:O,index:0},c.a.createElement(l.a,{container:!0,justify:"center",direction:"column",spacing:2},c.a.createElement(l.a,{item:!0,key:0},c.a.createElement(o.a,{variant:"h6"},"Tenant Details")),c.a.createElement(l.a,{container:!0,direction:"row",item:!0,alignItems:"stretch",spacing:2},c.a.createElement(l.a,{item:!0,xs:12,md:!0},c.a.createElement(F.a,{title:"Tenant Details",subheader:"Personal Info",avatarSrc:h.contact_avatar_url,cardContent:[{name:"Name",value:"".concat(h.title," ").concat(h.first_name," ").concat(h.last_name)},{name:"ID Number",value:h.id_number||"-"},{name:"Personal Phone Number",value:h.phone_number||r.address||"-"},{name:"Work Phone Number",value:h.work_mobile_number||"-"},{name:"Home Phone Number",value:h.home_phone_number||"-"},{name:"Email",value:h.contact_email||"-"},{name:"Emergency Contact Name",value:v.emergency_contact_name},{name:"Emergency Contact Relationship",value:v.emergency_contact_relationship},{name:"Emergency Contact Phone Number",value:v.emergency_contact_phone_number||"-"},{name:"Emergency Contact Email",value:v.emergency_contact_email||"-"}]})),c.a.createElement(l.a,{item:!0,xs:12,md:!0},c.a.createElement(u.a,{className:g.fullHeightWidthContainer,variant:"outlined",elevation:1},c.a.createElement(s.a,{height:"200",component:"img",image:r.unit_image_url,title:"Unit Image"}),c.a.createElement(m.a,null,c.a.createElement(o.a,{gutterBottom:!0,variant:"body2"},"Unit: ",r.ref),c.a.createElement(o.a,{gutterBottom:!0,variant:"body2"},"Unit Type: ",r.unit_type),c.a.createElement(o.a,{gutterBottom:!0,variant:"body2"},"Beds: ",r.beds),c.a.createElement(o.a,{gutterBottom:!0,variant:"body2"},"Baths: ",r.baths),c.a.createElement(o.a,{gutterBottom:!0,variant:"body2"},"Unit Sqft: ",r.sqft),c.a.createElement(o.a,{gutterBottom:!0,variant:"body2"},"Rent Amount: ",r.rent_amount),c.a.createElement(o.a,{gutterBottom:!0,variant:"body2"},"Rent Cycle: ",r.rent_cycle))))),c.a.createElement(l.a,{container:!0,direction:"row",item:!0,alignItems:"stretch",spacing:2},c.a.createElement(l.a,{item:!0,xs:12,md:!0},c.a.createElement(u.a,{className:g.fullHeightWidthContainer,variant:"outlined",elevation:1},c.a.createElement(m.a,null,c.a.createElement(o.a,{gutterBottom:!0,align:"center",variant:"subtitle1",component:"h2"},"Recent Charges History"),c.a.createElement("div",{style:{height:400,width:"100%"}},c.a.createElement(z.a,{rows:_,headCells:L,pageSize:5}))))),c.a.createElement(l.a,{item:!0,xs:12,md:!0},c.a.createElement(u.a,{className:g.fullHeightWidthContainer,variant:"outlined",elevation:1},c.a.createElement(m.a,null,c.a.createElement(o.a,{gutterBottom:!0,align:"center",variant:"subtitle1",component:"h2"},"Recent Payments History"),c.a.createElement("div",{style:{height:400,width:"100%"}},c.a.createElement(z.a,{rows:C,headCells:J,pageSize:5})))))))))};K=Object(A.b)((function(e,t){var a=e.leases.filter((function(e){return!0!==e.terminated})).find((function(e){var a=e.tenants;return!!Array.isArray(a)&&a.includes(t.match.params.contactId)}))||{},n=e.propertyUnits.find((function(e){return e.id===a.unit_id}))||{};return{transactionsCharges:e.transactionsCharges.filter((function(e){return e.tenant_id===t.match.params.contactId})).sort((function(e,t){return t.charge_date>e.charge_date})).map((function(t){var a={},n=e.transactions.filter((function(e){return e.charge_id===t.id}));a.payed_status=!!n.length;var r=n.reduce((function(e,t){return e+parseFloat(t.payment_amount)||0}),0);return a.payed_amount=r,a.balance=parseFloat(t.charge_amount)-r,Object.assign({},t,a)})).sort((function(e,t){return Object(S.a)(t.charge_date,"yyyy-MM-dd",new Date)-Object(S.a)(e.charge_date,"yyyy-MM-dd",new Date)})),tenantUnit:Object.assign({},n,a),transactions:e.transactions.filter((function(e){return e.tenant_id===t.match.params.contactId})),tenantDetails:e.contacts.find((function(e){return e.id===t.match.params.contactId}))||{}}}),(function(e){return{handleItemDelete:function(t,a){return e(Object(h.g)(t,a))}}}))(K);t.default=Object(U.g)(K)}}]);
//# sourceMappingURL=11.654888b5.chunk.js.map