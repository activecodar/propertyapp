(this.webpackJsonppropetypro=this.webpackJsonppropetypro||[]).push([[24],{545:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(17),a=n(9),i=n(7);function u(e,t){Object(i.a)(2,arguments);var n=Object(a.a)(e),u=Object(r.a)(t);if(isNaN(u))return new Date(NaN);if(!u)return n;var o=n.getDate(),c=new Date(n.getTime());c.setMonth(n.getMonth()+u+1,0);var l=c.getDate();return o>=l?c:(n.setFullYear(c.getFullYear(),c.getMonth(),o),n)}},549:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return x})),n.d(t,"p",(function(){return g})),n.d(t,"m",(function(){return j})),n.d(t,"n",(function(){return _})),n.d(t,"j",(function(){return M})),n.d(t,"i",(function(){return S})),n.d(t,"l",(function(){return T})),n.d(t,"o",(function(){return w})),n.d(t,"f",(function(){return D})),n.d(t,"h",(function(){return k})),n.d(t,"q",(function(){return I})),n.d(t,"c",(function(){return F})),n.d(t,"g",(function(){return N})),n.d(t,"k",(function(){return C})),n.d(t,"a",(function(){return q}));var r=n(512),a=n(513),i=n(514),u=n(515),o=n(572),c=n(573),l=n(574),s=n(575),d=Object(r.a)({start:Object(a.a)(Object(i.a)()),end:Object(u.a)(Object(i.a)())}),p=["Mr","Prof","Hon","Sir","Mrs","Miss","Dr","Madam","Other"],m=["Male","Female","Unspecified"],f=["Security Deposit Refund","Water Deposit Refund","Management Fees","Utilities","Taxes","Mortgage","Office","Maintenance & Cleaning","Advertising","Insurance","Legal & Other Professional Fees","Auto & Travel","Supplies","Other Refund","Repairs","Other"],b=["Bed Sitter","One Bedroom","Two Bedroom","Single Room","Double Room","Shop","Other"],h=["Fixed","Fixed w/rollover"],y=["Electric","Sewer","Water"],v=["Daily","Weekly","Monthly","Quarterly","Half-Yearly","Yearly"];function E(){return p}function O(){return m}function x(){return f}function g(){return b}function j(){for(var e=[],t=1;t<=5;t++)e.push(t);return e.concat("5+")}function _(){for(var e=[],t=1;t<=5;t++)e.push(t);return e}function M(){return y}function S(){return h}function T(){return v}function w(){return[{id:"month-to-date",text:"Month To Date"},{id:"last-month",text:"Last Month"},{id:"3-months-to-date",text:"3 Months To Date"},{id:"year-to-date",text:"Year To Date"},{id:"last-year",text:"Last Year"}]}function D(){return[Object(o.a)(Object(c.a)(Object(i.a)(),1)),Object(l.a)(Object(c.a)(Object(i.a)(),1))]}function k(){return[Object(a.a)(Object(s.a)(Object(i.a)(),1)),Object(u.a)(Object(s.a)(Object(i.a)(),1))]}function I(){return[Object(a.a)(Object(i.a)()),Object(i.a)()]}function F(){return[Object(o.a)(Object(i.a)()),Object(l.a)(Object(i.a)())]}function N(){return[Object(o.a)(Object(c.a)(Object(i.a)(),2)),Object(l.a)(Object(i.a)())]}function C(){return d}var q=new Intl.NumberFormat(void 0,{style:"decimal",currency:"KES"})},556:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(0),a=n.n(r),i=n(199),u=n(526),o=n(129),c=n(527),l=n(529),s=n(453),d=n(64),p=Object(i.a)((function(e){return{root:{display:"flex",alignItems:"center",height:80,width:120},wrapper:{margin:e.spacing(1),position:"relative",height:50,width:50},buttonProgress:{color:o.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function m(e){var t=e.open,n=e.dialogTitle,r=p();return a.a.createElement(c.a,{maxWidth:"md","aria-labelledby":"simple-dialog-title",open:t},a.a.createElement(l.a,null,a.a.createElement(s.a,{container:!0,alignItems:"center",direction:"column"},a.a.createElement(s.a,{item:!0,lg:!0},a.a.createElement(d.a,null,n||"Saving...")),a.a.createElement(s.a,{item:!0,lg:!0},a.a.createElement("div",{className:r.root},a.a.createElement("div",{className:r.wrapper},t&&a.a.createElement(u.a,{size:50,className:r.buttonProgress})))))))}},557:function(e,t,n){"use strict";var r=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),i=(0,r(n(15)).default)(a.default.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=i},558:function(e,t,n){"use strict";var r=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),i=(0,r(n(15)).default)(a.default.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.default=i},572:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(9),a=n(7);function i(e){Object(a.a)(1,arguments);var t=Object(r.a)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},573:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(17),a=n(545),i=n(7);function u(e,t){Object(i.a)(2,arguments);var n=Object(r.a)(t);return Object(a.a)(e,-n)}},574:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(9),a=n(7);function i(e){Object(a.a)(1,arguments);var t=Object(r.a)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},575:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(17),a=n(545),i=n(7);function u(e,t){Object(i.a)(2,arguments);var n=Object(r.a)(t);return Object(a.a)(e,12*n)}function o(e,t){Object(i.a)(2,arguments);var n=Object(r.a)(t);return u(e,-n)}},700:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(453),u=n(203),o=n(202),c=n(41),l=n(10),s=n.n(l),d=n(20),p=n(208),m=n(525),f=n(541),b=n(524),h=n(55),y=n(46),v=n(557),E=n.n(v),O=n(558),x=n.n(O),g=n(19),j=n(549),_=n(537),M=n(514),S=n(556),T=Object(j.d)(),w=Object(_.a)(Object(M.a)(),"yyyy-MM-dd"),D=g.e().shape({type:g.g().required("Expenditure Type/Name is required"),amount:g.d().positive("Amount must be a positive number").required("Expenditure Amount is required"),expense_date:g.c().required("Expenditure Date Required"),property_id:g.g().required("Property is Required"),unit_id:g.g().required("Unit is Required"),expense_notes:g.g().default("")}),k=function(e){var t=e.properties,n=e.propertyUnits,r=e.handleItemSubmit,u=e.history,o=Object(y.a)(),c=e.expenseToEdit||{},l={id:c.id,expense_notes:c.expense_notes||"",expense_date:c.expense_date||w,amount:c.amount||"",property_id:c.property_id||"",unit_id:c.unit_id||"",type:c.type||""};return a.a.createElement(h.b,{initialValues:l,enableReinitialize:!0,validationSchema:D,onSubmit:function(){var e=Object(d.a)(s.a.mark((function e(t,n){var a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.resetForm,i=n.setStatus,e.prev=1,o={id:t.id,type:t.type,amount:t.amount,unit_id:t.unit_id,property_id:t.property_id,expense_date:t.expense_date,expense_notes:t.expense_notes},e.next=5,r(o,"expenses");case 5:a({}),t.id&&u.goBack(),i({sent:!0,msg:"Details saved successfully!"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),i({sent:!1,msg:"Error! ".concat(e.t0,".")});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()},(function(e){var r=e.values,c=e.status,l=e.handleSubmit,s=e.touched,d=e.errors,h=e.handleChange,y=e.handleBlur,v=e.setFieldValue,O=e.isSubmitting;return a.a.createElement("form",{className:o.form,method:"post",id:"expenseInputForm",onSubmit:l},a.a.createElement(i.a,{container:!0,spacing:2,justify:"center",alignItems:"stretch",direction:"column"},c&&c.msg&&a.a.createElement(p.a,{variant:c.sent?"success":"error",message:c.msg}),O&&a.a.createElement(S.a,{open:!0}),a.a.createElement(i.a,{item:!0,container:!0,direction:"row",spacing:2},a.a.createElement(i.a,{item:!0,sm:6},a.a.createElement(f.a,{fullWidth:!0,select:!0,variant:"outlined",name:"property_id",label:"Property",id:"property_id",onChange:function(e){v("property_id",e.target.value),v("unit_id","")},value:r.property_id,error:d.property_id&&s.property_id,helperText:s.property_id&&d.property_id},t.map((function(e,t){return a.a.createElement(b.a,{key:t,value:e.id},e.ref)})))),a.a.createElement(i.a,{item:!0,sm:6},a.a.createElement(f.a,{fullWidth:!0,select:!0,variant:"outlined",name:"unit_id",label:"Unit",id:"unit_id",onChange:h,value:r.unit_id,error:d.unit_id&&s.unit_id,helperText:s.unit_id&&d.unit_id},n.filter((function(e){return e.property_id===r.property_id})).map((function(e,t){return a.a.createElement(b.a,{key:t,value:e.id},e.ref)}))))),a.a.createElement(i.a,{item:!0},a.a.createElement(f.a,{fullWidth:!0,type:"date",InputLabelProps:{shrink:!0},variant:"outlined",id:"expense_date",name:"expense_date",label:"Expenditure Date",value:r.expense_date,onChange:h,onBlur:y,error:d.expense_date&&s.expense_date,helperText:s.expense_date&&d.expense_date})),a.a.createElement(i.a,{item:!0},a.a.createElement(f.a,{fullWidth:!0,select:!0,variant:"outlined",id:"type",name:"type",label:"Expense Type",value:r.type,onChange:h,onBlur:y,error:d.type&&s.type,helperText:s.type&&d.type},T.map((function(e,t){return a.a.createElement(b.a,{key:t,value:e},e)})))),a.a.createElement(i.a,{item:!0},a.a.createElement(f.a,{fullWidth:!0,variant:"outlined",id:"amount",name:"amount",label:"Expenditure Amount",value:r.amount,onChange:h,onBlur:y,error:d.amount&&s.amount,helperText:s.amount&&d.amount})),a.a.createElement(i.a,{item:!0},a.a.createElement(f.a,{fullWidth:!0,multiline:!0,rows:4,variant:"outlined",id:"expense_notes",name:"expense_notes",label:"Notes",value:r.expense_notes,onChange:h,onBlur:y,helperText:"Any notes regarding this expense?"})),a.a.createElement(i.a,{item:!0,container:!0,direction:"row",className:o.buttonBox},a.a.createElement(i.a,{item:!0},a.a.createElement(m.a,{color:"secondary",variant:"contained",size:"medium",startIcon:a.a.createElement(x.a,null),onClick:function(){return u.goBack()},disableElevation:!0},"Cancel")),a.a.createElement(i.a,{item:!0},a.a.createElement(m.a,{type:"submit",color:"primary",variant:"contained",size:"medium",startIcon:a.a.createElement(E.a,null),form:"expenseInputForm",disabled:O},"Save")))))}))},I=n(25),F=n(37),N=function(e){var t=e.properties,n=e.expenseToEdit,r=e.propertyUnits,c=e.handleItemSubmit,l=e.history,s=n.id?"Edit Expense":"New Expense";return a.a.createElement(o.a,{pageTitle:"Expense Details"},a.a.createElement(i.a,{container:!0,justify:"center",direction:"column"},a.a.createElement(i.a,{item:!0,key:1},a.a.createElement(u.a,{text:s})),a.a.createElement(i.a,{item:!0,key:2},a.a.createElement(k,{history:l,expenseToEdit:n,handleItemSubmit:c,properties:t,propertyUnits:r}))))};N=Object(c.b)((function(e,t){return{properties:e.properties,propertyUnits:e.propertyUnits,expenseToEdit:e.expenses.find((function(e){return e.id===t.match.params.expenseId}))||{}}}),(function(e){return{handleItemSubmit:function(t,n){return e(Object(F.h)(t,n))}}}))(N);t.default=Object(I.g)(N)}}]);
//# sourceMappingURL=24.e9e7f1da.chunk.js.map