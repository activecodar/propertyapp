{"version":3,"sources":["../node_modules/@material-ui/icons/Save.js","Routes/DocumentTemplatePage.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_react","_default","createElement","d","TemplateSchema","Yup","shape","template_name","trim","required","template_contents","quillEditorModules","toolbar","size","clipboard","matchVisual","quillEditorFormats","DocumentTemplatePage","emailTemplateToEdit","history","handleItemSubmit","templateValues","id","pageTitle","classes","commonStyles","container","justify","direction","item","key","text","initialValues","validationSchema","onSubmit","values","a","resetForm","setStatus","templateDetails","last_edit","Date","toLocaleString","goBack","sent","msg","status","handleSubmit","isSubmitting","touched","setFieldValue","errors","handleChange","handleBlur","className","form","method","spacing","alignItems","variant","message","fullWidth","InputLabelProps","shrink","name","label","onChange","onBlur","error","helperText","paragraph","quillEditor","content","theme","modules","formats","buttonBox","color","startIcon","onClick","disableElevation","type","disabled","connect","state","ownProps","emailTemplates","find","match","params","templateId","dispatch","url","handleItemFormSubmit","withRouter"],"mappings":"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","file":"static/js/51.6b5944bb.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\n\nexports.default = _default;","import React from \"react\";\nimport PageHeading from \"../components/PageHeading\";\nimport Layout from \"../components/PrivateLayout\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CustomSnackbar from '../components/CustomSnackbar'\nimport { Formik } from \"formik\";\nimport ReactQuill from 'react-quill'; // ES6\nimport 'react-quill/dist/quill.snow.css'; // ES6\nimport { commonStyles } from \"../components/commonStyles\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport {\n\thandleItemFormSubmit,\n} from \"../actions/actions\";\nimport * as Yup from \"yup\";\n\nconst TemplateSchema = Yup.object().shape({\n\ttemplate_name: Yup.string().trim().required(\"Template Name is Required\"),\n\ttemplate_contents: Yup.string().trim().required(\"Template Content is Required\"),\n});\n\nconst quillEditorModules = {\n\ttoolbar: [\n\t\t[{ 'header': [1, 2, 3, 4, 5, 6, false] }, { 'font': [] }],\n\t\t[{ size: [] }],\n\t\t['bold', 'italic', 'underline', 'strike', 'blockquote'],\n\t\t[{ 'list': 'ordered' }, { 'list': 'bullet' },\n\t\t{ 'indent': '-1' }, { 'indent': '+1' }],\n\t\t['link', 'image', 'video'],\n\t\t['clean']\n\t],\n\tclipboard: {\n\t\t// toggle to add extra line breaks when pasting HTML:\n\t\tmatchVisual: false,\n\t}\n}\n/* \n * Quill editor formats\n * See https://quilljs.com/docs/formats/\n */\nconst quillEditorFormats = [\n\t'header', 'font', 'size',\n\t'bold', 'italic', 'underline', 'strike', 'blockquote',\n\t'list', 'bullet', 'indent',\n\t'link', 'image', 'video'\n]\n\nlet DocumentTemplatePage = ({ emailTemplateToEdit, history, handleItemSubmit }) => {\n\n\tconst templateValues = {\n\t\tid: emailTemplateToEdit.id,\n\t\ttemplate_name: emailTemplateToEdit.template_name || '',\n\t\ttemplate_contents: emailTemplateToEdit.template_contents || '',\n\t}\n\n\tlet pageTitle = emailTemplateToEdit.id ? \"Edit Template\" : \"New Template\";\n\tlet classes = commonStyles();\n\n\treturn (\n\t\t<Layout pageTitle=\"Template Details\">\n\t\t\t<Grid container justify=\"center\" direction=\"column\">\n\t\t\t\t<Grid item key={2}>\n\t\t\t\t\t<PageHeading text={pageTitle} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\titem\n\t\t\t\t\tkey={3}\n\t\t\t\t>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Formik\n\t\t\t\t\t\t\tinitialValues={templateValues}\n\t\t\t\t\t\t\tvalidationSchema={TemplateSchema}\n\t\t\t\t\t\t\tonSubmit={async (values, { resetForm, setStatus }) => {\n\t\t\t\t\t\t\t\tconst templateDetails = {\n\t\t\t\t\t\t\t\t\tid: values.id,\n\t\t\t\t\t\t\t\t\ttemplate_name: values.template_name,\n\t\t\t\t\t\t\t\t\tlast_edit: new Date().toLocaleString(),\n\t\t\t\t\t\t\t\t\ttemplate_contents: values.template_contents,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tawait handleItemSubmit(templateDetails, \"email-templates\")\n\t\t\t\t\t\t\t\t\tresetForm({});\n\t\t\t\t\t\t\t\t\tif (values.id) {\n\t\t\t\t\t\t\t\t\t\thistory.goBack();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsetStatus({ sent: true, msg: \"Template saved successfully!\" })\n\t\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\t\tsetStatus({ sent: false, msg: `Error! ${error}.` })\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{({\n\t\t\t\t\t\t\t\tvalues,\n\t\t\t\t\t\t\t\tstatus,\n\t\t\t\t\t\t\t\thandleSubmit,\n\t\t\t\t\t\t\t\tisSubmitting,\n\t\t\t\t\t\t\t\ttouched,\n\t\t\t\t\t\t\t\tsetFieldValue,\n\t\t\t\t\t\t\t\terrors,\n\t\t\t\t\t\t\t\thandleChange,\n\t\t\t\t\t\t\t\thandleBlur,\n\t\t\t\t\t\t\t}) => (\n\t\t\t\t\t\t\t\t\t<form\n\t\t\t\t\t\t\t\t\t\tclassName={classes.form}\n\t\t\t\t\t\t\t\t\t\tmethod=\"post\"\n\t\t\t\t\t\t\t\t\t\tid=\"templateInputForm\"\n\t\t\t\t\t\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\t\t\talignItems=\"stretch\"\n\t\t\t\t\t\t\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tstatus && status.msg && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CustomSnackbar\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={status.sent ? \"success\" : \"error\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage={status.msg}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t<Grid item container spacing={2} alignItems=\"stretch\" direction=\"column\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"template_name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"template_name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Template Name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={values.template_name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terrors.template_name && touched.template_name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.template_name && errors.template_name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' paragraph>Template Contents</Typography>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ReactQuill\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.quillEditor}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={values.template_contents}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(content) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('template_contents', content)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttheme=\"snow\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodules={quillEditorModules}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tformats={quillEditorFormats} >\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ReactQuill>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonBox}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstartIcon={<CancelIcon />}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => history.goBack()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstartIcon={<SaveIcon />}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tform=\"templateInputForm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Grid >\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Formik>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Layout>\n\t);\n};\n\nconst mapStateToProps = (state, ownProps) => {\n\treturn {\n\t\temailTemplateToEdit: state.emailTemplates.find(({ id }) => id === ownProps.match.params.templateId) || {},\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\thandleItemSubmit: (item, url) => dispatch(handleItemFormSubmit(item, url)),\n\t}\n};\n\n\nDocumentTemplatePage = connect(mapStateToProps, mapDispatchToProps)(DocumentTemplatePage);\n\nexport default withRouter(DocumentTemplatePage);\n"],"sourceRoot":""}