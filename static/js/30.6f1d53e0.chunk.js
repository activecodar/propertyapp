(this.webpackJsonppropetypro=this.webpackJsonppropetypro||[]).push([[30],{549:function(e,t,a){"use strict";a.d(t,"b",(function(){return h})),a.d(t,"e",(function(){return E})),a.d(t,"d",(function(){return v})),a.d(t,"p",(function(){return x})),a.d(t,"m",(function(){return O})),a.d(t,"n",(function(){return j})),a.d(t,"j",(function(){return w})),a.d(t,"i",(function(){return k})),a.d(t,"l",(function(){return S})),a.d(t,"o",(function(){return C})),a.d(t,"f",(function(){return P})),a.d(t,"h",(function(){return I})),a.d(t,"q",(function(){return A})),a.d(t,"c",(function(){return F})),a.d(t,"g",(function(){return T})),a.d(t,"k",(function(){return D})),a.d(t,"a",(function(){return M}));var n=a(512),r=a(513),i=a(514),l=a(515),c=a(572),o=a(573),m=a(574),u=a(575),s=Object(n.a)({start:Object(r.a)(Object(i.a)()),end:Object(l.a)(Object(i.a)())}),d=["Mr","Prof","Hon","Sir","Mrs","Miss","Dr","Madam","Other"],p=["Male","Female","Unspecified"],f=["Security Deposit Refund","Water Deposit Refund","Management Fees","Utilities","Taxes","Mortgage","Office","Maintenance & Cleaning","Advertising","Insurance","Legal & Other Professional Fees","Auto & Travel","Supplies","Other Refund","Repairs","Other"],_=["Bed Sitter","One Bedroom","Two Bedroom","Single Room","Double Room","Shop","Other"],b=["Fixed","Fixed w/rollover"],y=["Electric","Sewer","Water"],g=["Daily","Weekly","Monthly","Quarterly","Half-Yearly","Yearly"];function h(){return d}function E(){return p}function v(){return f}function x(){return _}function O(){for(var e=[],t=1;t<=5;t++)e.push(t);return e.concat("5+")}function j(){for(var e=[],t=1;t<=5;t++)e.push(t);return e}function w(){return y}function k(){return b}function S(){return g}function C(){return[{id:"month-to-date",text:"Month To Date"},{id:"last-month",text:"Last Month"},{id:"3-months-to-date",text:"3 Months To Date"},{id:"year-to-date",text:"Year To Date"},{id:"last-year",text:"Last Year"}]}function P(){return[Object(c.a)(Object(o.a)(Object(i.a)(),1)),Object(m.a)(Object(o.a)(Object(i.a)(),1))]}function I(){return[Object(r.a)(Object(u.a)(Object(i.a)(),1)),Object(l.a)(Object(u.a)(Object(i.a)(),1))]}function A(){return[Object(r.a)(Object(i.a)()),Object(i.a)()]}function F(){return[Object(c.a)(Object(i.a)()),Object(m.a)(Object(i.a)())]}function T(){return[Object(c.a)(Object(o.a)(Object(i.a)(),2)),Object(m.a)(Object(i.a)())]}function D(){return s}var M=new Intl.NumberFormat(void 0,{style:"decimal",currency:"KES"})},550:function(e,t,a){"use strict";var n=a(44),r=a(0),i=a.n(r),l=a(36),c=a(534),o=a(450),m=a(666),u=a(665),s=a(662),d=a(667),p=a(713),f=a(571),_=a(664),b=a(663),y=a(562),g=a.n(y),h=a(555),E=a.n(h),v=a(554),x=a.n(v),O=a(25),j=a(576),w=a(661);var k=function(e){var t=e.classes,a=e.onSelectAllClick,n=e.order,r=e.orderBy,l=e.headCells,c=e.numSelected,o=e.rowCount,m=e.onRequestSort;return i.a.createElement(w.a,null,i.a.createElement(s.a,null,i.a.createElement(b.a,{padding:"checkbox"},i.a.createElement(f.a,{indeterminate:c>0&&c<o,checked:c===o,onChange:a,inputProps:{"aria-label":"select all"}})),l.map((function(e){return i.a.createElement(b.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&n},i.a.createElement(j.a,{active:r===e.id,direction:n,onClick:(a=e.id,function(e){m(e,a)})},e.label,r===e.id?i.a.createElement("span",{className:t.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var a}))))},S=a(199),C=Object(S.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function P(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}t.a=Object(O.g)((function(e){var t=e.rows,a=e.headCells,r=e.selected,y=e.setSelected,h=e.deleteUrl,v=e.handleDelete,O=e.noEditCol,j=e.noDeleteCol,w=e.noDetailsCol,S=e.match,I=C(),A=i.a.useState("asc"),F=Object(n.a)(A,2),T=F[0],D=F[1],M=i.a.useState("Beds"),R=Object(n.a)(M,2),N=R[0],U=R[1],q=i.a.useState(0),W=Object(n.a)(q,2),B=W[0],z=W[1],L=i.a.useState(50),G=Object(n.a)(L,2),H=G[0],Y=G[1];return i.a.createElement(c.a,{border:1,borderRadius:"borderRadius",borderColor:"grey.400"},i.a.createElement(_.a,null,i.a.createElement(u.a,{stickyHeader:!0,className:I.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},i.a.createElement(k,{classes:I,numSelected:r.length,order:T,orderBy:N,onSelectAllClick:function(e){if(e.target.checked){var a=t.map((function(e){return e.id}));y(a)}else y([])},headCells:a,onRequestSort:function(e,t){D(N===t&&"desc"===T?"asc":"desc"),U(t)},rowCount:t.length}),i.a.createElement(m.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(t,function(e,t){return"desc"===e?function(e,a){return P(e,a,t)}:function(e,a){return-P(e,a,t)}}(T,N)).slice(B*H,B*H+H).map((function(e,t){var n,c=(n=e.id,-1!==r.indexOf(n)),m="enhanced-table-checkbox-".concat(t);return i.a.createElement(s.a,{hover:!0,role:"checkbox","aria-checked":c,tabIndex:-1,key:e.id,selected:c},i.a.createElement(b.a,{padding:"checkbox"},i.a.createElement(f.a,{onClick:function(t){return function(e,t){e.stopPropagation();var a=r.indexOf(t),n=[];-1===a?n=n.concat(r,t):0===a?n=n.concat(r.slice(1)):a===r.length-1?n=n.concat(r.slice(0,-1)):a>0&&(n=n.concat(r.slice(0,a),r.slice(a+1))),y(n)}(t,e.id)},checked:c,inputProps:{"aria-labelledby":m}})),a.map((function(t,a){var n=e[t.id];return"edit"===t.id?O?null:i.a.createElement(b.a,{key:"edit".concat(a),component:"th",scope:"row",sortDirection:!1},i.a.createElement(d.a,{title:"Edit",placement:"bottom"},i.a.createElement(o.a,{color:"primary",size:"small",component:l.b,to:"".concat(S.url,"/").concat(e.id,"/edit")},i.a.createElement(E.a,{fontSize:"default"})))):"delete"===t.id?j?null:i.a.createElement(b.a,{key:"delete".concat(a),component:"th",scope:"row",sortDirection:!1},i.a.createElement(d.a,{title:"Delete",placement:"bottom"},i.a.createElement(o.a,{onClick:function(t){v(e.id,h)},color:"primary",size:"small"},i.a.createElement(g.a,{fontSize:"default"})))):"details"===t.id?w?i.a.createElement(b.a,{key:"details".concat(a),component:"th",scope:"row",sortDirection:!1},i.a.createElement(d.a,{title:"Details",placement:"bottom"},i.a.createElement(o.a,{color:"primary",size:"small",component:l.b,to:"".concat(S.url,"/").concat(e.id,"/details")},i.a.createElement(x.a,{fontSize:"default"})))):null:i.a.createElement(b.a,{key:a,component:"th",id:m,scope:"row",padding:"none"},"boolean"===typeof n?n?"Yes":"No":n)})))}))))),i.a.createElement(p.a,{rowsPerPageOptions:[50,100,200,300],component:"div",count:t.length,rowsPerPage:H,page:B,onChangePage:function(e,t){z(t)},onChangeRowsPerPage:function(e){Y(parseInt(e.target.value,10)),z(0)}}))}))},551:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(525),r=a(0),i=a.n(r),l=a(207),c=a.n(l),o=a(201);function m(e){var t=e.displayText,a=e.disabled,r=e.reportName,l=e.reportTitle,m=e.headCells,u=e.dataToPrint;return i.a.createElement(n.a,{type:"button","aria-label":"Export to Excel",variant:"contained",size:"medium",color:"primary",disabled:a,onClick:function(){return Object(o.c)(r,l,m,u,r)},startIcon:i.a.createElement(c.a,null)},t||"Excel")}t.b=function(e){var t=e.disabled,a=e.reportName,r=e.reportTitle,l=e.headCells,m=e.dataToPrint;return i.a.createElement(n.a,{type:"button","aria-label":"Export to Excel",variant:"contained",size:"medium",color:"primary",disabled:t,onClick:function(){return Object(o.a)(a,r,l,m,a)},startIcon:i.a.createElement(c.a,null)},"Excel")}},556:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(0),r=a.n(n),i=a(199),l=a(526),c=a(129),o=a(527),m=a(529),u=a(453),s=a(64),d=Object(i.a)((function(e){return{root:{display:"flex",alignItems:"center",height:80,width:120},wrapper:{margin:e.spacing(1),position:"relative",height:50,width:50},buttonProgress:{color:c.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function p(e){var t=e.open,a=e.dialogTitle,n=d();return r.a.createElement(o.a,{maxWidth:"md","aria-labelledby":"simple-dialog-title",open:t},r.a.createElement(m.a,null,r.a.createElement(u.a,{container:!0,alignItems:"center",direction:"column"},r.a.createElement(u.a,{item:!0,lg:!0},r.a.createElement(s.a,null,a||"Saving...")),r.a.createElement(u.a,{item:!0,lg:!0},r.a.createElement("div",{className:n.root},r.a.createElement("div",{className:n.wrapper},t&&r.a.createElement(l.a,{size:50,className:n.buttonProgress})))))))}},561:function(e,t,a){"use strict";var n=a(525),r=a(0),i=a.n(r),l=a(560),c=a.n(l),o=a(201);t.a=function(e){var t=e.disabled,a=e.reportName,r=e.reportTitle,l=e.headCells,m=e.dataToPrint;return i.a.createElement(n.a,{type:"button","aria-label":"Print to Pdf",variant:"contained",size:"medium",color:"primary",disabled:t,onClick:function(){return Object(o.d)(a,r,l,m)},startIcon:i.a.createElement(c.a,null)},"Pdf")}},578:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(209),r=a(0),i=a.n(r),l=a(534);function c(e){var t=e.children,a=e.value,r=e.index,c=Object(n.a)(e,["children","value","index"]);return i.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},c),a===r&&i.a.createElement(l.a,{m:2},t))}},583:function(e,t,a){"use strict";var n=a(10),r=a.n(n),i=a(20),l=a(525),c=a(0),o=a.n(c),m=a(584),u=a.n(m),s=a(201),d=a(37),p=a(41);t.a=Object(p.b)(null,(function(e){return{handleItemSubmit:function(t,a){return e(Object(d.h)(t,a))}}}))((function(e){var t=e.disabled,a=e.text,n=e.savingUrl,c=e.baseObjectToAddProperties,m=e.handleItemSubmit;return o.a.createElement("div",null,o.a.createElement("input",{accept:".xls,.xlsx, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel",style:{display:"none"},id:"contained-button-file",type:"file",onChange:function(e){var t=e.target.files;if(t.length){var a=t[0],l=new FileReader;l.onload=function(e){var t=e.target.result;Object(s.g)(t).forEach(function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c&&Object.assign(t,c),e.next=3,m(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},l.readAsBinaryString(a)}}}),o.a.createElement("label",{htmlFor:"contained-button-file"},o.a.createElement(l.a,{variant:"contained",color:"primary",component:"span",disabled:t,startIcon:o.a.createElement(u.a,null)},a||"Upload")))}))},595:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(64),l=a(542),c=a(607),o=a(622),m=a(608),u=a(46);t.a=function(e){var t=Object(u.a)(),a=e.title,n=e.avatar,s=e.avatarSrc,d=e.subheader,p=e.cardContent;return r.a.createElement(c.a,{className:t.fullHeightWidthContainer,variant:"outlined",elevation:1},r.a.createElement(o.a,{avatar:r.a.createElement(l.a,{"aria-label":"contact avatar",src:s||"",className:t.avatar},n),title:a,subheader:d}),r.a.createElement(m.a,null,p.map((function(e,t){return r.a.createElement(i.a,{key:t,gutterBottom:!0,variant:"body2"},e.name," : ",e.value)}))))}},692:function(e,t,a){"use strict";a.r(t);var n=a(44),r=a(0),i=a.n(r),l=a(202),c=a(64),o=a(453),m=a(524),u=a(534),s=a(541),d=a(669),p=a(503),f=a(689),_=a(525),b=a(555),y=a.n(b),g=a(205),h=a.n(g),E=a(553),v=a.n(E),x=a(559),O=a.n(x),j=a(551),w=a(41),k=a(37),S=a(11),C=a(46),P=a(549),I=a(517),A=a(514),F=a(545),T=a(573),D=a(537),M=a(536),R=a(625),N=Object(P.o)(),U=function(e){var t=e.transactions,a=e.expenses,l=e.propertyUnits,d=Object(C.a)(),p=Object(r.useState)([]),f=Object(n.a)(p,2),b=f[0],y=f[1],g=Object(r.useState)([]),E=Object(n.a)(g,2),x=E[0],O=E[1],w=Object(r.useState)({}),k=Object(n.a)(w,2),U=k[0],q=k[1],W=Object(r.useState)([]),B=Object(n.a)(W,2),z=B[0],L=B[1],G=Object(r.useState)([]),H=Object(n.a)(G,2),Y=H[0],K=H[1],V=Object(r.useState)([]),J=Object(n.a)(V,2),Q=J[0],X=J[1],Z=Object(r.useState)(""),$=Object(n.a)(Z,2),ee=$[0],te=$[1],ae=Object(r.useState)("month-to-date"),ne=Object(n.a)(ae,2),re=ne[0],ie=ne[1];Object(r.useEffect)((function(){var e;switch(re){case"last-month":e=[Object(P.f)()[0]];break;case"year-to-date":e=Object(S.a)(Array(Object(I.a)(Object(A.a)())+1).keys()).map((function(e){return Object(F.a)(Object(P.q)()[0],e)}));break;case"last-year":e=Object(S.a)(Array(12).keys()).map((function(e){return Object(F.a)(Object(P.h)()[0],e)}));break;case"month-to-date":e=Object(S.a)(Array(1).keys()).reverse().map((function(e){return Object(T.a)(Object(A.a)(),e)}));break;case"3-months-to-date":e=Object(S.a)(Array(3).keys()).reverse().map((function(e){return Object(T.a)(Object(A.a)(),e)}));break;default:e=[Object(P.f)()[0]]}var t=[].concat(Object(S.a)(e.map((function(e){return Object(D.a)(e,"MMMM yyyy")}))),["Total as of ".concat(Object(D.a)(e[e.length-1],"MMMM yyyy"))]),a=[],n={income_type:"Rental Income"},r={income_type:"Total Income"},i=0;e.forEach((function(e){var t=x.filter((function(e){return"rent"===e.payment_type})).filter((function(t){var a=Object(M.a)(t.payment_date,"yyyy-MM-dd",new Date);return Object(R.a)(e,a)})).reduce((function(e,t){return e+(parseFloat(t.payment_amount)||0)}),0);i+=t,n[Object(D.a)(e,"MMMM yyyy")]=t})),n[t[t.length-1]]=i,a.push(n);var l={income_type:"Other Income"},c=0;e.forEach((function(e){var t=x.filter((function(e){return"rent"!==e.payment_type})).filter((function(t){var a=Object(M.a)(t.payment_date,"yyyy-MM-dd",new Date);return Object(R.a)(e,a)})).reduce((function(e,t){return e+(parseFloat(t.payment_amount)||0)}),0);c+=t,l[Object(D.a)(e,"MMMM yyyy")]=t})),l[t[t.length-1]]=c,a.push(l),a.forEach((function(e){t.forEach((function(t){var a=parseFloat(e[t])||0;r[t]=(parseFloat(r[t])||0)+a}))})),a.push(r);var o=[],m={expense_type:"Total Expenses"},u=[];e.forEach((function(e){b.filter((function(t){var a=Object(M.a)(t.expense_date,"yyyy-MM-dd",new Date);return Object(R.a)(e,a)})).forEach((function(t){var a=t.type,n=t.amount,r={};r.expense_type=a,r.amount=parseFloat(n)||0,r.month=Object(D.a)(e,"MMMM yyyy"),u.push(r)}))})),new Set(u.map((function(e){return e.expense_type}))).forEach((function(e){u.filter((function(t){return t.expense_type===e})).forEach((function(a){var n=o.find((function(t){return t.expense_type===e}));if("undefined"!==typeof n)n[a.month]=(parseFloat(n[a.month])||0)+parseFloat(a.amount),n[t[t.length-1]]=(parseFloat(n[t[t.length-1]])||0)+parseFloat(a.amount);else{var r={};r.expense_type=e,r[a.month]=parseFloat(a.amount)||0,r[t[t.length-1]]=parseFloat(a.amount)||0,o.push(r)}}))})),o.forEach((function(e){t.forEach((function(t){var a=parseFloat(e[t])||0;m[t]=(parseFloat(m[t])||0)+a}))})),o.push(m);var s={income_type:"Net Income"};t.forEach((function(e){s[e]=(parseFloat(r[e])||0)-(parseFloat(m[e])||0)})),K(t),q(s),L(a),X(o)}),[b,x]),Object(r.useEffect)((function(){y(a)}),[a]),Object(r.useEffect)((function(){O(t)}),[t]);var le=function(e){e.preventDefault();var n=t.filter((function(e){var t=e.unit_id;return!ee||t===ee}));O(n);var r=a.filter((function(e){var t=e.unit_id;return!ee||t===ee}));y(r)};return i.a.createElement(o.a,{container:!0,spacing:3,alignItems:"center"},i.a.createElement(o.a,{item:!0},i.a.createElement(c.a,{variant:"h6"},"Property Statement")),i.a.createElement(o.a,{container:!0,spacing:2,item:!0,alignItems:"center",direction:"row"},i.a.createElement(o.a,{item:!0},i.a.createElement(j.a,{displayText:"Export Income",reportName:"Properties Income Records",reportTitle:"Properties Income Records",headCells:Y,dataToPrint:z})),i.a.createElement(o.a,{item:!0},i.a.createElement(j.a,{displayText:"Export Expenses",reportName:"Properties Expenses  Records",reportTitle:"Properties Expenses Data",headCells:Y,dataToPrint:Q}))),i.a.createElement(o.a,{item:!0,xs:12},i.a.createElement(u.a,{border:1,borderRadius:"borderRadius",borderColor:"grey.400"},i.a.createElement("form",{className:d.form,id:"contactSearchForm",onSubmit:le},i.a.createElement(o.a,{container:!0,spacing:2,justify:"center",direction:"row"},i.a.createElement(o.a,{item:!0,xs:12,md:6},i.a.createElement(s.a,{fullWidth:!0,select:!0,variant:"outlined",name:"property_filter",label:"Select Unit",id:"property_filter",onChange:function(e){te(e.target.value)},value:ee},l.map((function(e,t){return i.a.createElement(m.a,{key:t,value:e.id},e.ref)})))),i.a.createElement(o.a,{item:!0,xs:12,md:6},i.a.createElement(s.a,{fullWidth:!0,variant:"outlined",select:!0,id:"from_filter",name:"from_filter",label:"Filter",value:re,onChange:function(e){ie(e.target.value)},InputLabelProps:{shrink:!0}},N.map((function(e,t){return i.a.createElement(m.a,{key:t,value:e.id},e.text)}))))),i.a.createElement(o.a,{container:!0,spacing:2,item:!0,justify:"flex-end",alignItems:"center",direction:"row",key:1},i.a.createElement(o.a,{item:!0},i.a.createElement(_.a,{onClick:function(e){return le(e)},type:"submit",form:"contactSearchForm",color:"primary",variant:"contained",size:"medium",startIcon:i.a.createElement(h.a,null)},"SEARCH")),i.a.createElement(o.a,{item:!0},i.a.createElement(_.a,{onClick:function(e){return function(e){e.preventDefault(),te(""),ie("month-to-date"),y(a),O(t)}(e)},type:"reset",form:"contactSearchForm",color:"primary",variant:"contained",size:"medium",startIcon:i.a.createElement(v.a,null)},"RESET")))))),i.a.createElement(o.a,{item:!0,sm:12},i.a.createElement("div",{style:{width:"100%"}},i.a.createElement(u.a,{display:"flex",key:"adadf",flexDirection:"row",p:1,bgcolor:"grey.300"},i.a.createElement(u.a,{key:"first1",width:1,textAlign:"left",flexGrow:1,p:1},"Income"),Y.map((function(e,t){return i.a.createElement(u.a,{key:t,width:1,textAlign:"left",flexGrow:1,p:1},e," (Ksh)")}))),z.map((function(e,t){var a=Y.map((function(t,a){return i.a.createElement(u.a,{key:a,width:1,textAlign:"left",flexGrow:1,p:1},P.a.format(e[t]))}));return i.a.createElement(u.a,{display:"flex",key:t,flexDirection:"row",p:1,bgcolor:"background.paper"},i.a.createElement(u.a,{textAlign:"left",width:1,key:t+"jl",flexGrow:1,p:1},e.income_type),a)}))),i.a.createElement("div",{style:{width:"100%"}},i.a.createElement(u.a,{display:"flex",key:"adlaldadf",flexDirection:"row",p:1,bgcolor:"grey.300"},i.a.createElement(u.a,{key:"faldirst1",width:1,textAlign:"left",flexGrow:1,p:1},"Expenses"),Y.map((function(e,t){return i.a.createElement(u.a,{key:t,width:1,textAlign:"left",flexGrow:1,p:1},e," (Ksh)")}))),Q.map((function(e,t){var a=Y.map((function(t,a){return i.a.createElement(u.a,{key:a,width:1,textAlign:"left",flexGrow:1,p:1},P.a.format(e[t]||0))}));return i.a.createElement(u.a,{display:"flex",key:t,flexDirection:"row",p:1,bgcolor:"background.paper"},i.a.createElement(u.a,{textAlign:"left",width:1,key:t+"iiajl",flexGrow:1,p:1},e.expense_type),a)}))),i.a.createElement("div",{style:{width:"100%"}},i.a.createElement(u.a,{display:"flex",key:"adlaldadf",flexDirection:"row",p:1,bgcolor:"grey.300"},i.a.createElement(u.a,{key:"faldirst1",width:1,textAlign:"left",flexGrow:1,p:1},"Net Income"),Y.map((function(e,t){return i.a.createElement(u.a,{key:t,width:1,textAlign:"left",flexGrow:1,p:1},e)}))),i.a.createElement(u.a,{display:"flex",key:"kjb",flexDirection:"row",p:1,bgcolor:"background.paper"},i.a.createElement(u.a,{textAlign:"left",width:1,key:"iiajl",flexGrow:1,p:1},"Net Income"),Y.map((function(e,t){return i.a.createElement(u.a,{key:t,width:1,textAlign:"left",flexGrow:1,p:1},P.a.format(U[e]||0))}))))))},q=a(578),W=a(550),B=a(25),z=a(36),L=a(561),G=a(583),H=a(607),Y=a(608),K=a(623),V=a(677),J=a(595),Q=a(598),X=a.n(Q),Z=a(597),$=a.n(Z),ee=a(626),te=a.n(ee),ae=a(211),ne=a(590),re=a.n(ne),ie=a(582),le=a(572),ce=a(574),oe={display:!0,position:"top",fullWidth:!0,reverse:!1,labels:{fontColor:re.a[800],fontSize:14}},me=function(e){var t=e.classes,a=e.propertyActiveLeasesNumber,n=e.propertyToShowDetails,r=e.propertyUnits,l=e.transactions,m=e.users,u={datasets:[]},s=[],d=l.filter((function(e){return Object(ie.a)(Object(M.a)(e.payment_date,"yyyy-MM-dd",new Date),{start:Object(le.a)(Object(A.a)()),end:Object(ce.a)(Object(A.a)())})})),p=d.filter((function(e){return"rent"===e.payment_type})).reduce((function(e,t){return e+(parseFloat(t.payment_amount)||0)}),0),f=d.filter((function(e){return"rent"!==e.payment_type})).reduce((function(e,t){return e+(parseFloat(t.payment_amount)||0)}),0);s.push({type:"rent",totalAmount:p,label:"Rent"}),s.push({type:"other",totalAmount:f,label:"Others"}),u.labels=s.map((function(e){return e.label})),u.datasets.push({data:s.map((function(e){return e.totalAmount})),backgroundColor:[te.a[800],te.a[200]]});var _={datasets:[],labels:["Occupied Units","Vacant Units"]};_.datasets.push({data:[a,r.length-a],backgroundColor:[$.a[800],$.a[200]]});var b={datasets:[]},y=Array.from(new Set(r.map((function(e){return e.unit_type}))));b.labels=y,b.datasets.push({data:y.map((function(e){return r.filter((function(t){return t.unit_type===e})).length})),backgroundColor:y.map((function(e,t){return X.a[100*(t+1)]}))});var g=m.find((function(e){return e.id===n.assigned_to}))||{first_name:"R",last_name:"O"},h=m.find((function(e){return e.id===n.owner}))||{first_name:"R",last_name:"M"};return i.a.createElement(o.a,{container:!0,justify:"center",direction:"column",spacing:2,alignItems:"stretch"},i.a.createElement(o.a,{item:!0,key:0},i.a.createElement(c.a,{variant:"h6"},"Property Details")),i.a.createElement(o.a,{container:!0,direction:"row",item:!0,alignItems:"stretch",spacing:2},i.a.createElement(o.a,{item:!0,xs:12,md:!0},i.a.createElement(H.a,{className:t.fullHeightWidthContainer,variant:"outlined",elevation:1},i.a.createElement(V.a,null,i.a.createElement(K.a,{height:"200",component:"img",image:n.property_image_url||"/apartmentImage.png",title:"Property Image"})),i.a.createElement(Y.a,null,i.a.createElement(c.a,{gutterBottom:!0,variant:"subtitle1",component:"h2"},"Address"),i.a.createElement(c.a,{variant:"body2",component:"p"},n.address),i.a.createElement(c.a,{variant:"body2",component:"p"},n.city)))),i.a.createElement(o.a,{item:!0,xs:12,md:!0},i.a.createElement(J.a,{title:"Property Owner",subheader:"Owner of this property",avatar:"".concat(h.first_name[0]).concat(h.last_name[0]),cardContent:[{name:"Name:",value:"".concat(h.first_name," ").concat(h.last_name)},{name:"Mobile Phone Number",value:h.phone_number||"-"},{name:"Work Phone Number",value:h.home_phone_number||"-"},{name:"Primary Email",value:h.primary_email||"-"},{name:"Current Address",value:h.address||"-"}]})),i.a.createElement(o.a,{item:!0,xs:12,md:!0},i.a.createElement(J.a,{title:"Rental Manager",subheader:"Landlord for this property",avatar:"".concat(g.first_name[0]).concat(g.last_name[0]),cardContent:[{name:"Name:",value:"".concat(g.first_name," ").concat(g.last_name)},{name:"Mobile Phone Number",value:g.phone_number||"-"},{name:"Work Phone Number",value:g.home_phone_number||"-"},{name:"Primary Email",value:g.primary_email||"-"},{name:"Current Address",value:g.address||"-"}]}))),i.a.createElement(o.a,{container:!0,direction:"row",item:!0,alignItems:"stretch",spacing:2},i.a.createElement(o.a,{item:!0,xs:12,md:!0},i.a.createElement(H.a,{className:t.fullHeightWidthContainer,variant:"outlined",elevation:1},i.a.createElement(Y.a,null,i.a.createElement(c.a,{gutterBottom:!0,align:"center",variant:"subtitle1",component:"h2"},"Rental Units Distribution"),i.a.createElement(ae.Doughnut,{height:200,data:b})))),i.a.createElement(o.a,{item:!0,xs:12,md:!0},i.a.createElement(H.a,{className:t.fullHeightWidthContainer,variant:"outlined",elevation:1},i.a.createElement(Y.a,null,i.a.createElement(c.a,{gutterBottom:!0,align:"center",variant:"subtitle1",component:"h2"},"Current Occupancy"),i.a.createElement(ae.Doughnut,{height:200,data:_,legend:oe})))),i.a.createElement(o.a,{item:!0,xs:12,md:!0},i.a.createElement(H.a,{className:t.fullHeightWidthContainer,variant:"outlined",elevation:1},i.a.createElement(Y.a,null,i.a.createElement(c.a,{gutterBottom:!0,align:"center",variant:"subtitle1",component:"h2"},"Current Month Income"),i.a.createElement(ae.Doughnut,{height:200,data:u}))))))},ue=a(10),se=a.n(ue),de=a(20),pe=a(571),fe=a(520),_e=a(596),be=a(521),ye=a(599),ge=a(600),he=a(557),Ee=a.n(he),ve=a(208),xe=a(678),Oe=a(55),je=a(556),we=a(19),ke=we.e().shape({property_id:we.g().trim().required("Property is Required"),grace_period:we.d().typeError("Grace Period days must be a number").min(0,"Grace Period days must be >= 0").default(0),late_fee_amount:we.d().typeError("Amount must be a number").min(0,"Amount must be >= 0").required("Late Fee amount is required"),late_fee_frequency:we.g().trim().required("Frequency to charge fees is required"),late_fee_max_amount:we.d().typeError("Maximmum amount must be a number").min(0,"Amount must be >= 0").default(0),management_fee_type:we.g().trim().required("Management Fee Type is required"),management_fee_income_percentage:we.d().when("management_fee_type",{is:"income_percentage",then:we.d().typeError("Percentage must be a number").min(0,"Amount must be >= 0").required("Percentage is required")}),unit_or_property_to_charge:we.g().trim().when("management_fee_type",{is:"income_percentage",then:we.g().trim().required("Item to attach fees is required")}),management_fee_flat_fee:we.d().when("management_fee_type",{is:"flat_fee",then:we.d().typeError("Flat fee must be a number").min(0,"Amount must be >= 0").required("Flat fee is required")})}),Se=function(e){var t=e.classes,a=e.propertyToShowDetails,n=e.handleItemSubmit,r=e.propertySettings||{},l={id:r.id,property_id:r.property_id||a.id,late_fee_max_amount:r.late_fee_max_amount||"",grace_period:r.grace_period||0,late_fee_frequency:r.late_fee_frequency||"one_time_fee",late_fee_amount:r.late_fee_amount||"",email_residents_on_charges_posted:r.email_residents_on_charges_posted||!1,late_fees_charges_activated:r.late_fees_charges_activated||!1,automatically_end_agreement_on_move_out_date:r.automatically_end_agreement_on_move_out_date||!1,email_residents_on_late_fees:r.email_residents_on_late_fees||!1,management_fee_type:r.management_fee_type||"flat_fee",management_fee_income_percentage:r.management_fee_income_percentage||"",management_fee_flat_fee:r.management_fee_flat_fee||"",unit_or_property_to_charge:r.unit_or_property_to_charge||"per_property"};return i.a.createElement(Oe.b,{initialValues:l,enableReinitialize:!0,validationSchema:ke,onSubmit:function(){var e=Object(de.a)(se.a.mark((function e(t,a){var r,i,l;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.resetForm,i=a.setStatus,e.prev=1,l={id:t.id,property_id:t.property_id,late_fee_max_amount:t.late_fee_max_amount,grace_period:t.grace_period,late_fee_frequency:t.late_fee_frequency,late_fees_charges_activated:t.late_fees_charges_activated,email_residents_on_late_fees:t.email_residents_on_late_fees,late_fee_amount:t.late_fee_amount,management_fee_type:t.management_fee_type,management_fee_income_percentage:t.management_fee_income_percentage,email_residents_on_charges_posted:t.email_residents_on_charges_posted,management_fee_flat_fee:t.management_fee_flat_fee,unit_or_property_to_charge:t.unit_or_property_to_charge,automatically_end_agreement_on_move_out_date:t.automatically_end_agreement_on_move_out_date},e.next=5,n(l,"property-settings");case 5:r({}),i({sent:!0,msg:"Property Settings Saved!"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i({sent:!1,msg:"Error! ".concat(e.t0,".")});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var a=e.values,n=e.status,r=e.handleSubmit,l=e.touched,u=e.errors,d=e.handleChange,p=e.handleBlur,f=e.isSubmitting;return i.a.createElement("form",{className:t.form,method:"post",id:"propertyUnitInputForm",onSubmit:r},i.a.createElement(o.a,{container:!0,spacing:2},n&&n.msg&&i.a.createElement(ve.a,{variant:n.sent?"success":"error",message:n.msg}),f&&i.a.createElement(je.a,{open:!0}),i.a.createElement(o.a,{item:!0,container:!0,spacing:4,direction:"row"},i.a.createElement(o.a,{container:!0,item:!0,xs:!0,spacing:2,direction:"column"},i.a.createElement(o.a,{item:!0},i.a.createElement(c.a,{variant:"subtitle1"},"Late Rent Payments Fee Policy")),i.a.createElement(o.a,{item:!0},i.a.createElement(fe.a,{error:u.late_fees_charges_activated&&l.late_fees_charges_activated},i.a.createElement(_e.a,{control:i.a.createElement(xe.a,{checked:a.late_fees_charges_activated,onChange:d,color:"primary",name:"late_fees_charges_activated",inputProps:{"aria-label":"Late fees checkbox"}}),label:"Automatic Late Fees",labelPlacement:"start"})),i.a.createElement(c.a,{variant:"body2",color:"textSecondary"},"If automatic late fees are on, we will post late fees charges residents ledgers based on the settings below.")),i.a.createElement(o.a,{item:!0},i.a.createElement(s.a,{fullWidth:!0,variant:"outlined",type:"text",name:"grace_period",label:"Grace Period",id:"grace_period",onBlur:p,onChange:d,value:a.grace_period,error:u.grace_period&&l.grace_period,helperText:l.grace_period&&u.grace_period}),i.a.createElement(c.a,{variant:"body2",color:"textSecondary"},"Number of days after which late fees will be charged on resident accounts.")),i.a.createElement(o.a,{item:!0},i.a.createElement(c.a,{variant:"subtitle1"},"Frequency & Amount")),i.a.createElement(o.a,{item:!0},i.a.createElement(s.a,{fullWidth:!0,variant:"outlined",select:!0,name:"late_fee_frequency",label:"Charging Frequency",id:"late_fee_frequency",onBlur:p,onChange:d,value:a.late_fee_frequency,error:u.late_fee_frequency&&l.late_fee_frequency,helperText:l.late_fee_frequency&&u.late_fee_frequency},i.a.createElement(m.a,{key:"one_time_fee",value:"one_time_fee"},"One-time fee"),i.a.createElement(m.a,{key:"daily",value:"daily"},"Daily"))),i.a.createElement(o.a,{item:!0},i.a.createElement(s.a,{fullWidth:!0,variant:"outlined",type:"text",name:"late_fee_amount",label:"Fee Amount",id:"late_fee_amount",onBlur:p,onChange:d,value:a.late_fee_amount,error:u.late_fee_amount&&l.late_fee_amount,helperText:l.late_fee_amount&&u.late_fee_amount})),i.a.createElement(o.a,{item:!0},i.a.createElement(c.a,{variant:"subtitle1"},"Late Fee Amount Limits")),i.a.createElement(o.a,{item:!0},i.a.createElement(s.a,{fullWidth:!0,variant:"outlined",label:"Fee Maximmum Amount",id:"late_fee_max_amount",type:"text",name:"late_fee_max_amount",value:a.late_fee_max_amount,onChange:d,onBlur:p,error:u.late_fee_max_amount&&l.late_fee_max_amount,helperText:l.late_fee_max_amount&&u.late_fee_max_amount}),i.a.createElement(c.a,{variant:"body2",color:"textSecondary"},"Set maximmum monthly charge (per month)"))),i.a.createElement(o.a,{container:!0,item:!0,xs:!0,spacing:2,direction:"column"},i.a.createElement(o.a,{item:!0},i.a.createElement(c.a,{variant:"subtitle1"},"Management Fee Policy")),i.a.createElement(o.a,{item:!0},i.a.createElement(fe.a,{component:"fieldset",color:"primary",error:u.management_fee_type&&l.management_fee_type},i.a.createElement(be.a,{component:"legend"},"Fee Type"),i.a.createElement(ge.a,{"aria-label":"management fee type",name:"management_fee_type",value:a.management_fee_type,onChange:d},i.a.createElement(_e.a,{value:"flat_fee",control:i.a.createElement(ye.a,null),label:"Use Flat Fee"}),i.a.createElement(_e.a,{value:"income_percentage",control:i.a.createElement(ye.a,null),label:"Use Percentage of Income"})))),"flat_fee"===a.management_fee_type?i.a.createElement(o.a,{item:!0},i.a.createElement(s.a,{fullWidth:!0,variant:"outlined",label:"Management Fee",id:"management_fee_flat_fee",name:"management_fee_flat_fee",value:a.management_fee_flat_fee,onChange:d,onBlur:p,InputLabelProps:{shrink:!0},error:u.management_fee_flat_fee&&l.management_fee_flat_fee,helperText:l.management_fee_flat_fee&&u.management_fee_flat_fee})):"income_percentage"===a.management_fee_type?i.a.createElement(o.a,{item:!0,container:!0,direction:"row",spacing:2},i.a.createElement(o.a,{item:!0,xs:12,md:6},i.a.createElement(s.a,{fullWidth:!0,variant:"outlined",label:"Income Percentage",id:"management_fee_income_percentage",name:"management_fee_income_percentage",value:a.management_fee_income_percentage,onChange:d,onBlur:p,error:u.management_fee_income_percentage&&l.management_fee_income_percentage,helperText:l.management_fee_income_percentage&&u.management_fee_income_percentage})),i.a.createElement(o.a,{item:!0,xs:12,md:6},i.a.createElement(s.a,{fullWidth:!0,select:!0,variant:"outlined",label:"Per Property or Per Unit",id:"unit_or_property_to_charge",name:"unit_or_property_to_charge",value:a.unit_or_property_to_charge,onChange:d,onBlur:p,error:u.unit_or_property_to_charge&&l.unit_or_property_to_charge,helperText:l.unit_or_property_to_charge&&u.unit_or_property_to_charge},i.a.createElement(m.a,{key:1,value:"per_unit"},"Per Unit"),i.a.createElement(m.a,{key:2,value:"per_property"},"Per Property")))):null,i.a.createElement(o.a,{item:!0},i.a.createElement(c.a,{variant:"subtitle1"},"Email Notifications/Resident Communication")),i.a.createElement(o.a,{item:!0},i.a.createElement(fe.a,{color:"secondary",error:u.email_residents_on_late_fees&&l.email_residents_on_late_fees},i.a.createElement(_e.a,{control:i.a.createElement(pe.a,{checked:a.email_residents_on_late_fees,onChange:d,name:"email_residents_on_late_fees",color:"primary"}),label:"Email residents once late fees are applied"}))),i.a.createElement(o.a,{item:!0},i.a.createElement(fe.a,{color:"secondary"},i.a.createElement(_e.a,{control:i.a.createElement(pe.a,{checked:a.email_residents_on_charges_posted,onChange:d,name:"email_residents_on_charges_posted",color:"primary"}),label:"Email tenants when charges are posted"}))),i.a.createElement(o.a,{item:!0},i.a.createElement(c.a,{variant:"subtitle1"},"Automatic Move Outs")),i.a.createElement(o.a,{item:!0},i.a.createElement(fe.a,{color:"secondary"},i.a.createElement(_e.a,{control:i.a.createElement(pe.a,{checked:a.automatically_end_agreement_on_move_out_date,onChange:d,name:"automatically_end_agreement_on_move_out_date",color:"primary"}),label:"Automatically end agreements on move out dates"}))))),i.a.createElement(o.a,{item:!0,container:!0,direction:"row",className:t.buttonBox},i.a.createElement(o.a,{item:!0},i.a.createElement(_.a,{type:"submit",color:"primary",variant:"contained",size:"medium",startIcon:i.a.createElement(Ee.a,null),form:"propertyUnitInputForm",disabled:f},"Apply Changes")))))}))};Se=Object(w.b)((function(e){return{}}),(function(e){return{handleItemSubmit:function(t,a){return e(Object(k.h)(t,a))}}}))(Se);var Ce=Object(B.g)(Se),Pe=Object(P.p)(),Ie=[{id:"unit_type",numeric:!1,disablePadding:!0,label:"Unit Type"},{id:"ref",numeric:!1,disablePadding:!0,label:"Unit Ref/Number"},{id:"beds",numeric:!1,disablePadding:!0,label:"Beds"},{id:"baths",numeric:!1,disablePadding:!0,label:"Baths"},{id:"sqm",numeric:!1,disablePadding:!0,label:"Floor Area"},{id:"rent_amount",numeric:!1,disablePadding:!0,label:"Rent Amount"},{id:"tenant_name",numeric:!1,disablePadding:!0,label:"Tenant"},{id:"tenant_id_number",numeric:!1,disablePadding:!0,label:"Tenant ID Number"},{id:"edit",numeric:!1,disablePadding:!0,label:"Edit"},{id:"delete",numeric:!1,disablePadding:!0,label:"Delete"}],Ae=function(e){var t=e.propertyUnits,a=e.propertyActiveLeasesNumber,b=e.propertySettings,g=e.transactions,E=e.expenses,x=e.propertyToShowDetails,w=e.users,k=e.match,S=e.handleItemSubmit,P=e.handleItemDelete,I=Object(C.a)(),A=Object(r.useState)([]),F=Object(n.a)(A,2),T=F[0],D=F[1],M=Object(r.useState)([]),R=Object(n.a)(M,2),N=R[0],B=R[1],H=Object(r.useState)(""),Y=Object(n.a)(H,2),K=Y[0],V=Y[1],J=Object(r.useState)(""),Q=Object(n.a)(J,2),X=Q[0],Z=Q[1],$=Object(r.useState)("all"),ee=Object(n.a)($,2),te=ee[0],ae=ee[1],ne=Object(r.useState)([]),re=Object(n.a)(ne,2),ie=re[0],le=re[1],ce=i.a.useState(0),oe=Object(n.a)(ce,2),ue=oe[0],se=oe[1];Object(r.useEffect)((function(){D(t),B(t)}),[t]);return i.a.createElement(l.a,{pageTitle:"Property Details"},i.a.createElement(p.a,{position:"static"},i.a.createElement(f.a,{value:ue,onChange:function(e,t){se(t)},"aria-label":"simple tabs example"},i.a.createElement(d.a,{label:"Summary"}),i.a.createElement(d.a,{label:"Rental Units"}),i.a.createElement(d.a,{label:"Financials"}),i.a.createElement(d.a,{label:"Payment Settings"}))),i.a.createElement(q.a,{value:ue,index:3},i.a.createElement(Ce,{classes:I,propertySettings:b,propertyToShowDetails:x,handleItemSubmit:S})),i.a.createElement(q.a,{value:ue,index:0},i.a.createElement(me,{propertyToShowDetails:x,transactions:g,propertyUnits:T,users:w,propertyActiveLeasesNumber:a,classes:I})),i.a.createElement(q.a,{value:ue,index:2},i.a.createElement(U,{propertyUnits:t,transactions:g,expenses:E,classes:I})),i.a.createElement(q.a,{value:ue,index:1},i.a.createElement(o.a,{container:!0,spacing:3,justify:"space-evenly",alignItems:"center"},i.a.createElement(o.a,{item:!0,xs:12},i.a.createElement(c.a,{variant:"h6"},"Rental Units")),i.a.createElement(o.a,{container:!0,spacing:2,item:!0,alignItems:"center",direction:"row",key:1},i.a.createElement(o.a,{item:!0},i.a.createElement(_.a,{type:"button",color:"primary",variant:"contained",size:"medium",startIcon:i.a.createElement(O.a,null),component:z.b,to:"".concat(k.url,"/new")},"NEW")),i.a.createElement(o.a,{item:!0},i.a.createElement(_.a,{type:"button",color:"primary",variant:"contained",size:"medium",startIcon:i.a.createElement(y.a,null),disabled:!ie.length,component:z.b,to:"".concat(k.url,"/").concat(ie[0],"/edit")},"Edit")),i.a.createElement(o.a,{item:!0},i.a.createElement(L.a,{disabled:!ie.length,reportName:"Rental Units Records",reportTitle:"Rental Units Data",headCells:Ie,dataToPrint:T.filter((function(e){var t=e.id;return ie.includes(t)}))})),i.a.createElement(o.a,{item:!0},i.a.createElement(j.b,{disabled:!ie.length,reportName:"Rental Units Records",reportTitle:"Rental Units Data",headCells:Ie,dataToPrint:T.filter((function(e){var t=e.id;return ie.includes(t)}))})),i.a.createElement(o.a,{item:!0},i.a.createElement(G.a,{baseObjectToAddProperties:{property_id:x.id},savingUrl:"property_units",text:"Upload Units"}))),i.a.createElement(o.a,{item:!0,xs:12},i.a.createElement(u.a,{border:1,borderRadius:"borderRadius",borderColor:"grey.400"},i.a.createElement("form",{className:I.form,id:"propertySearchForm",onSubmit:function(e){e.preventDefault();var t=T.filter((function(e){var t=e.ref;return!K||t===K})).filter((function(e){var t=e.unit_type;return!X||t===X})).filter((function(e){var t=e.lease_id;return"all"===te||("occupied"===te?t:!t)}));B(t)}},i.a.createElement(o.a,{container:!0,spacing:2,justify:"center",direction:"row"},i.a.createElement(o.a,{item:!0,xs:12,md:!0},i.a.createElement(s.a,{fullWidth:!0,select:!0,variant:"outlined",name:"unit_type",label:"Unit Type",id:"unit_type",onChange:function(e){Z(e.target.value)},value:X},Pe.map((function(e,t){return i.a.createElement(m.a,{key:t,value:e},e)})))),i.a.createElement(o.a,{item:!0,xs:12,md:!0},i.a.createElement(s.a,{fullWidth:!0,variant:"outlined",id:"property_ref",name:"property_ref",label:"Unit Ref",value:K,onChange:function(e){V(e.target.value)}})),i.a.createElement(o.a,{item:!0,xs:12,md:!0},i.a.createElement(s.a,{fullWidth:!0,select:!0,variant:"outlined",id:"occupied_status",name:"occupied_status",label:"Occupied Status",value:te,onChange:function(e){ae(e.target.value)}},i.a.createElement(m.a,{key:1,value:"all"},"All"),i.a.createElement(m.a,{key:2,value:"occupied"},"Occupied"),i.a.createElement(m.a,{key:3,value:"vacant"},"Vacant")))),i.a.createElement(o.a,{container:!0,spacing:2,item:!0,justify:"flex-end",alignItems:"center",direction:"row",key:1},i.a.createElement(o.a,{item:!0},i.a.createElement(_.a,{type:"submit",form:"propertySearchForm",color:"primary",variant:"contained",size:"medium",startIcon:i.a.createElement(h.a,null)},"SEARCH")),i.a.createElement(o.a,{item:!0},i.a.createElement(_.a,{onClick:function(e){!function(e){e.preventDefault(),B(T),V(""),Z(""),ae("all")}(e)},type:"reset",form:"propertySearchForm",color:"primary",variant:"contained",size:"medium",startIcon:i.a.createElement(v.a,null)},"RESET")))))),i.a.createElement(o.a,{item:!0,xs:12},i.a.createElement(W.a,{selected:ie,setSelected:le,rows:N,headCells:Ie,deleteUrl:"property_units",handleDelete:P})))))};Ae=Object(w.b)((function(e,t){var a=e.propertyUnits.filter((function(e){return e.property_id===t.match.params.propertyId})).map((function(e){return e.id})),n=e.leases.filter((function(e){return e.property_id===t.match.params.propertyId})).filter((function(e){return!0!==e.terminated}));return{transactions:e.transactions.filter((function(e){var t=e.unit_id;return a.includes(t)})),expenses:e.expenses.filter((function(e){return e.property_id===t.match.params.propertyId})),propertyToShowDetails:e.properties.find((function(e){return e.id===t.match.params.propertyId}))||{},propertyUnits:e.propertyUnits.filter((function(e){var t=e.id;return a.includes(t)})).map((function(t){var a=n.find((function(e){return e.unit_id===t.id}))||{},r=e.contacts.find((function(e){var t=e.id;return!!Array.isArray(a.tenants)&&a.tenants.includes(t)}));return Object.assign({},t,{tenant_name:r?"".concat(r.first_name," ").concat(r.last_name):"-",tenant_id_number:r?r.id_number:"-",lease_id:a.id,rent_amount:a.rent_amount})})),propertyActiveLeasesNumber:n.length,propertySettings:e.propertySettings.find((function(e){return e.property_id===t.match.params.propertyId}))||{},users:e.users}}),(function(e){return{handleItemSubmit:function(t,a){return e(Object(k.h)(t,a))},handleItemDelete:function(t,a){return e(Object(k.g)(t,a))}}}))(Ae);t.default=Object(B.g)(Ae)}}]);
//# sourceMappingURL=30.6f1d53e0.chunk.js.map