(this.webpackJsonppropetypro=this.webpackJsonppropetypro||[]).push([[44],{549:function(e,t,a){"use strict";a.d(t,"b",(function(){return E})),a.d(t,"e",(function(){return y})),a.d(t,"d",(function(){return v})),a.d(t,"p",(function(){return O})),a.d(t,"m",(function(){return j})),a.d(t,"n",(function(){return x})),a.d(t,"j",(function(){return C})),a.d(t,"i",(function(){return w})),a.d(t,"l",(function(){return T})),a.d(t,"o",(function(){return k})),a.d(t,"f",(function(){return N})),a.d(t,"h",(function(){return B})),a.d(t,"q",(function(){return W})),a.d(t,"c",(function(){return I})),a.d(t,"g",(function(){return S})),a.d(t,"k",(function(){return q})),a.d(t,"a",(function(){return P}));var n=a(512),r=a(513),i=a(514),c=a(515),l=a(572),o=a(573),m=a(574),u=a(575),s=Object(n.a)({start:Object(r.a)(Object(i.a)()),end:Object(c.a)(Object(i.a)())}),d=["Mr","Prof","Hon","Sir","Mrs","Miss","Dr","Madam","Other"],_=["Male","Female","Unspecified"],p=["Security Deposit Refund","Water Deposit Refund","Management Fees","Utilities","Taxes","Mortgage","Office","Maintenance & Cleaning","Advertising","Insurance","Legal & Other Professional Fees","Auto & Travel","Supplies","Other Refund","Repairs","Other"],g=["Bed Sitter","One Bedroom","Two Bedroom","Single Room","Double Room","Shop","Other"],h=["Fixed","Fixed w/rollover"],b=["Electric","Sewer","Water"],f=["Daily","Weekly","Monthly","Quarterly","Half-Yearly","Yearly"];function E(){return d}function y(){return _}function v(){return p}function O(){return g}function j(){for(var e=[],t=1;t<=5;t++)e.push(t);return e.concat("5+")}function x(){for(var e=[],t=1;t<=5;t++)e.push(t);return e}function C(){return b}function w(){return h}function T(){return f}function k(){return[{id:"month-to-date",text:"Month To Date"},{id:"last-month",text:"Last Month"},{id:"3-months-to-date",text:"3 Months To Date"},{id:"year-to-date",text:"Year To Date"},{id:"last-year",text:"Last Year"}]}function N(){return[Object(l.a)(Object(o.a)(Object(i.a)(),1)),Object(m.a)(Object(o.a)(Object(i.a)(),1))]}function B(){return[Object(r.a)(Object(u.a)(Object(i.a)(),1)),Object(c.a)(Object(u.a)(Object(i.a)(),1))]}function W(){return[Object(r.a)(Object(i.a)()),Object(i.a)()]}function I(){return[Object(l.a)(Object(i.a)()),Object(m.a)(Object(i.a)())]}function S(){return[Object(l.a)(Object(o.a)(Object(i.a)(),2)),Object(m.a)(Object(i.a)())]}function q(){return s}var P=new Intl.NumberFormat(void 0,{style:"decimal",currency:"KES"})},556:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a(0),r=a.n(n),i=a(199),c=a(526),l=a(129),o=a(527),m=a(529),u=a(453),s=a(64),d=Object(i.a)((function(e){return{root:{display:"flex",alignItems:"center",height:80,width:120},wrapper:{margin:e.spacing(1),position:"relative",height:50,width:50},buttonProgress:{color:l.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function _(e){var t=e.open,a=e.dialogTitle,n=d();return r.a.createElement(o.a,{maxWidth:"md","aria-labelledby":"simple-dialog-title",open:t},r.a.createElement(m.a,null,r.a.createElement(u.a,{container:!0,alignItems:"center",direction:"column"},r.a.createElement(u.a,{item:!0,lg:!0},r.a.createElement(s.a,null,a||"Saving...")),r.a.createElement(u.a,{item:!0,lg:!0},r.a.createElement("div",{className:n.root},r.a.createElement("div",{className:n.wrapper},t&&r.a.createElement(c.a,{size:50,className:n.buttonProgress})))))))}},580:function(e,t,a){"use strict";var n=a(44),r=a(0),i=a.n(r),c=a(453),l=a(525),o=a(527),m=a(529),u=a(587);a(588);t.a=function(e){var t=e.open,a=e.selectedFile,s=e.setCroppedImageData,d=e.cropHeight,_=e.cropWidth,p=Object(r.useState)(),g=Object(n.a)(p,2),h=g[0],b=g[1],f=Object(r.useState)(),E=Object(n.a)(f,2),y=E[0],v=E[1],O=a,j=new FileReader;j.onloadend=function(){v(j.result)},j.readAsDataURL(O);var x=function(){s("")};return i.a.createElement(o.a,{open:t,onClose:x,"aria-labelledby":"form-dialog-title"},i.a.createElement(m.a,null,i.a.createElement(c.a,{container:!0,spacing:2},i.a.createElement(c.a,{item:!0},i.a.createElement(u.a,{style:{height:"100%",width:"100%"},initialAspectRatio:_===d?1:16/9,src:y,viewMode:.5,guides:!0,minCropBoxHeight:d,minCropBoxWidth:_,background:!1,responsive:!0,autoCropArea:.5,checkOrientation:!1,onInitialized:function(e){b(e)},cropBoxResizable:!1,data:{height:d,width:_}})),i.a.createElement(c.a,{item:!0,container:!0,justify:"center",direction:"row",spacing:2},i.a.createElement(c.a,{item:!0},i.a.createElement(l.a,{color:"secondary",variant:"contained",size:"medium",onClick:function(){return x()},disableElevation:!0},"Cancel")),i.a.createElement(c.a,{item:!0},i.a.createElement(l.a,{color:"primary",variant:"contained",size:"medium",onClick:function(){return function(){if("undefined"!==typeof h){var e=h.getCroppedCanvas().toDataURL();O.data=e,s(O)}}()}},"Crop Image"))))))}},702:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(453),c=a(203),l=a(202),o=a(41),m=a(10),u=a.n(m),s=a(20),d=a(534),_=a(542),p=a(450),g=a(589),h=a.n(g),b=a(208),f=a(64),E=a(525),y=a(541),v=a(524),O=a(557),j=a.n(O),x=a(558),C=a.n(x),w=a(55),T=a(37),k=a(25),N=a(46),B=a(549),W=a(580),I=a(19),S=a(556),q=Object(B.b)(),P=Object(B.e)(),D=I.e().shape({first_name:I.g().trim().required("First Name is required"),last_name:I.g().trim().required("Last Name is required"),title:I.g().trim().required("Title is required"),gender:I.g().trim().required("Gender is required"),id_number:I.g().trim().required("ID Number is required"),personal_phone_number:I.g().trim().min(10,"Phone Number must be >= 10").required("Phone Number is Required"),contact_email:I.g().trim().email(),alternate_email:I.g().trim().email(),present_address:I.g().trim().default(""),emergency_contact_email:I.g().trim().email(),emergency_contact_name:I.g().trim().default(""),emergency_contact_phone_number:I.g().trim().default(""),emergency_contact_relationship:I.g().trim().default("")}),F=function(e){var t=e.history,a=e.handleItemSubmit,n=Object(N.a)(),c=e.contactToEdit||{},l={id:c.id,gender:c.gender||"",assigned_to:c.assigned_to||"",contact_avatar_url:c.contact_avatar_url||"",id_number:c.id_number||"",title:c.title||"",present_address:c.present_address||"",contact_email:c.contact_email||"",alternate_email:c.alternate_email||"",personal_phone_number:c.personal_phone_number||"",work_phone_number:c.work_phone_number||"",emergency_contact_email:c.emergency_contact_email||"",emergency_contact_name:c.emergency_contact_name||"",emergency_contact_phone_number:c.emergency_contact_phone_number||"",emergency_contact_relationship:c.emergency_contact_relationship||"",first_name:c.first_name||"",last_name:c.last_name||"",contact_image:""};return r.a.createElement(w.b,{initialValues:l,enableReinitialize:!0,validationSchema:D,onSubmit:function(){var e=Object(s.a)(u.a.mark((function e(n,r){var i,c,l,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.resetForm,c=r.setStatus,e.prev=1,l={id:n.id,title:n.title,gender:n.gender,first_name:n.first_name,last_name:n.last_name,id_number:n.id_number,assigned_to:n.assigned_to,present_address:n.present_address,contact_email:n.contact_email,alternate_email:n.alternate_email,personal_phone_number:n.personal_phone_number,work_phone_number:n.work_phone_number,emergency_contact_name:n.emergency_contact_name,emergency_contact_relationship:n.emergency_contact_relationship,emergency_contact_phone_number:n.emergency_contact_phone_number,emergency_contact_email:n.emergency_contact_email},!n.contact_image||!n.contact_image.data){e.next=11;break}if(!n.contact_avatar_url){e.next=7;break}return e.next=7,Object(T.c)(n.contact_avatar_url);case 7:return e.next=9,Object(T.t)(n.contact_image);case 9:o=e.sent,l.contact_avatar_url=o;case 11:return e.next=13,a(l,"contacts");case 13:i({}),n.id&&t.goBack(),c({sent:!0,msg:"Details saved successfully!"}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),c({sent:!1,msg:"Error! ".concat(e.t0,".")});case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var a=e.values,c=e.status,l=e.touched,o=e.handleSubmit,m=e.setFieldValue,u=e.errors,s=e.handleChange,g=e.handleBlur,O=e.isSubmitting;return r.a.createElement("form",{className:n.form,method:"post",noValidate:!0,id:"contactInputForm",onSubmit:o},r.a.createElement(i.a,{container:!0,direction:"column",justify:"flex-start"},c&&c.msg&&r.a.createElement(b.a,{variant:c.sent?"success":"error",message:c.msg}),O&&r.a.createElement(S.a,{open:!0}),r.a.createElement(i.a,{container:!0,spacing:4,direction:"row"},r.a.createElement(i.a,{md:6,lg:6,container:!0,item:!0,direction:"column",spacing:2},r.a.createElement(i.a,{item:!0},r.a.createElement(f.a,{variant:"h6"},"Personal Info"),r.a.createElement(d.a,null,r.a.createElement(f.a,{variant:"subtitle2"},"Contact Image"))),r.a.createElement(i.a,{item:!0,container:!0,direction:"row",justify:"flex-start",spacing:4,alignItems:"center"},r.a.createElement(i.a,{key:1,item:!0},a.file_to_load_url&&r.a.createElement(W.a,{open:!0,selectedFile:a.file_to_load_url,setCroppedImageData:function(e){m("file_to_load_url",""),m("contact_image",e)},cropHeight:160,cropWidth:160}),r.a.createElement(_.a,{alt:"Contact Image",src:a.contact_image?a.contact_image.data:a.contact_avatar_url,className:n.largeAvatar})),r.a.createElement(i.a,{key:2,item:!0},r.a.createElement(d.a,null,r.a.createElement("input",{onChange:function(e){var t=e.currentTarget.files[0];m("file_to_load_url",t)},accept:"image/*",className:n.fileInputDisplayNone,id:"contact-image-input",type:"file"}),r.a.createElement("label",{htmlFor:"contact-image-input"},r.a.createElement(p.a,{color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(h.a,null))),r.a.createElement(d.a,null,a.contact_avatar_url||a.contact_image?"Change Photo":"Add Photo")))),r.a.createElement(i.a,{item:!0},r.a.createElement(y.a,{fullWidth:!0,variant:"outlined",select:!0,name:"title",label:"Title",id:"title",required:!0,onBlur:g,onChange:s,value:a.title,error:u.title&&l.title,helperText:l.title&&u.title},q.map((function(e,t){return r.a.createElement(v.a,{key:t,value:e},e)})))),r.a.createElement(i.a,{item:!0},r.a.createElement(y.a,{fullWidth:!0,variant:"outlined",id:"first_name",name:"first_name",label:"First Name",required:!0,value:a.first_name,onChange:s,onBlur:g,error:u.first_name&&l.first_name,helperText:l.first_name&&u.first_name})),r.a.createElement(i.a,{item:!0},r.a.createElement(y.a,{fullWidth:!0,variant:"outlined",id:"last_name",name:"last_name",label:"Last Name",required:!0,value:a.last_name,onChange:s,onBlur:g,error:u.last_name&&l.last_name,helperText:l.last_name&&u.last_name})),r.a.createElement(i.a,{item:!0},r.a.createElement(y.a,{fullWidth:!0,variant:"outlined",select:!0,name:"gender",label:"Gender",id:"gender",required:!0,onBlur:g,onChange:s,value:a.gender,error:u.gender&&l.gender,helperText:l.gender&&u.gender},P.map((function(e,t){return r.a.createElement(v.a,{key:t,value:e},e)})))),r.a.createElement(i.a,{item:!0},r.a.createElement(y.a,{fullWidth:!0,variant:"outlined",id:"id_number",label:"ID No",type:"text",name:"id_number",required:!0,value:a.id_number,onChange:s,onBlur:g,error:u.id_number&&l.id_number,helperText:l.id_number&&u.id_number}))),r.a.createElement(i.a,{md:6,lg:6,container:!0,item:!0,direction:"column",spacing:1},r.a.createElement(i.a,{item:!0},r.a.createElement(f.a,{variant:"h6"},"Contact Details")),r.a.createElement(i.a,{item:!0},r.a.createElement(f.a,{variant:"subtitle2"}," Phone Numbers ")),r.a.createElement(i.a,{item:!0,container:!0,direction:"row",spacing:2},r.a.createElement(i.a,{item:!0,sm:!0},r.a.createElement(y.a,{fullWidth:!0,variant:"outlined",id:"personal_phone_number",name:"personal_phone_number",label:"Personal Phone Number",required:!0,onChange:s,onBlur:g,error:u.personal_phone_number&&l.personal_phone_number,helperText:"Personal Phone Number",value:a.personal_phone_number})),r.a.createElement(i.a,{item:!0,sm:!0},r.a.createElement(y.a,{fullWidth:!0,variant:"outlined",id:"work_phone_number",name:"work_phone_number",label:"Work Phone Number",onChange:s,onBlur:g,helperText:"Work Phone Number",value:a.work_phone_number}))),r.a.createElement(i.a,{item:!0},r.a.createElement(f.a,{variant:"subtitle2"},"Emails")),r.a.createElement(i.a,{item:!0,container:!0,direction:"row",spacing:2},r.a.createElement(i.a,{item:!0,sm:!0},r.a.createElement(y.a,{fullWidth:!0,type:"email",variant:"outlined",id:"contact_email",name:"contact_email",label:"Primary Email",value:a.contact_email,onChange:s,onBlur:g,error:u.contact_email&&l.contact_email,helperText:l.contact_email&&u.contact_email})),r.a.createElement(i.a,{item:!0,sm:!0},r.a.createElement(y.a,{fullWidth:!0,type:"email",variant:"outlined",id:"alternate_email",name:"alternate_email",label:"Alternate Email",value:a.alternate_email,onChange:s,onBlur:g,error:u.alternate_email&&l.alternate_email,helperText:l.alternate_email&&u.alternate_email}))),r.a.createElement(i.a,{item:!0},r.a.createElement(f.a,{variant:"subtitle2"},"Addresses")),r.a.createElement(i.a,{item:!0},r.a.createElement(y.a,{fullWidth:!0,variant:"outlined",id:"present_address",name:"present_address",label:"Present Address",value:a.present_address,onChange:s,onBlur:g,error:u.present_address&&l.present_address,helperText:l.present_address&&u.present_address})),r.a.createElement(i.a,{item:!0},r.a.createElement(f.a,{variant:"subtitle2"},"Emergency Contact")),r.a.createElement(i.a,{item:!0,container:!0,direction:"column",spacing:2},r.a.createElement(i.a,{item:!0,sm:!0},r.a.createElement(y.a,{fullWidth:!0,type:"text",variant:"outlined",id:"emergency_contact_name",name:"emergency_contact_name",label:"Contact Name",value:a.emergency_contact_name,onChange:s,onBlur:g,error:u.emergency_contact_name&&l.emergency_contact_name,helperText:l.emergency_contact_name&&u.emergency_contact_name})),r.a.createElement(i.a,{item:!0,sm:!0},r.a.createElement(y.a,{fullWidth:!0,type:"text",variant:"outlined",id:"emergency_contact_relationship",name:"emergency_contact_relationship",label:"Relationship to Tenant",value:a.emergency_contact_relationship,onChange:s,onBlur:g,error:u.emergency_contact_relationship&&l.emergency_contact_relationship,helperText:l.emergency_contact_relationship&&u.emergency_contact_relationship}))),r.a.createElement(i.a,{item:!0,container:!0,direction:"row",spacing:2},r.a.createElement(i.a,{item:!0,sm:!0},r.a.createElement(y.a,{fullWidth:!0,type:"text",variant:"outlined",id:"emergency_contact_phone_number",name:"emergency_contact_phone_number",label:"Phone Number",value:a.emergency_contact_phone_number,onChange:s,onBlur:g,error:u.emergency_contact_phone_number&&l.emergency_contact_phone_number,helperText:l.emergency_contact_phone_number&&u.emergency_contact_phone_number})),r.a.createElement(i.a,{item:!0,sm:!0},r.a.createElement(y.a,{fullWidth:!0,type:"email",variant:"outlined",id:"emergency_contact_email",name:"emergency_contact_email",label:"Contact Email",value:a.emergency_contact_email,onChange:s,onBlur:g,error:u.emergency_contact_email&&l.emergency_contact_email,helperText:l.emergency_contact_email&&u.emergency_contact_email}))))),r.a.createElement(i.a,{item:!0,container:!0,direction:"row",className:n.buttonBox},r.a.createElement(i.a,{item:!0},r.a.createElement(E.a,{color:"secondary",variant:"contained",size:"medium",startIcon:r.a.createElement(C.a,null),onClick:function(){return t.goBack()},disableElevation:!0},"Cancel")),r.a.createElement(i.a,{item:!0},r.a.createElement(E.a,{type:"submit",color:"primary",variant:"contained",size:"medium",startIcon:r.a.createElement(j.a,null),form:"contactInputForm",disabled:O},"Save")))))}))};F=Object(o.b)(null,(function(e){return{handleItemSubmit:function(t,a){return e(Object(T.f)(t,a))}}}))(F);var R=Object(k.g)(F),M=function(e){var t=e.contactToEdit,a=t.id?"Edit Contact":"New Contact";return r.a.createElement(l.a,{pageTitle:"Contact Details"},r.a.createElement(i.a,{container:!0,justify:"center",direction:"column"},r.a.createElement(i.a,{item:!0,key:2},r.a.createElement(c.a,{text:a})),r.a.createElement(i.a,{container:!0,direction:"column",justify:"center",item:!0,key:3},r.a.createElement(R,{contactToEdit:t}))))};M=Object(o.b)((function(e,t){return{contactToEdit:e.contacts.find((function(e){return e.id===t.match.params.contactId}))||{}}}))(M);t.default=Object(k.g)(M)}}]);
//# sourceMappingURL=44.0da1d22d.chunk.js.map