{"version":3,"sources":["assets/commonAssets.js","components/CustomCircularProgress.js","components/ImageCropper.js","components/property/PropertyUnitInputForm.js","Routes/PropertyUnitPage.js"],"names":["monthsInYear","eachMonthOfInterval","start","startOfYear","startOfToday","end","endOfYear","TITLES_LIST","GENDERS_LIST","EXPENSES_CATEGORIES","UNIT_TYPES","LEASE_OPTIONS","METER_TYPES","PAYMENT_FREQUENCY_OPTIONS","getContactTitles","getGendersList","getExpensesCategories","getUnitTypes","getPropertyBaths","baths","i","push","concat","getPropertyBeds","beds","getMeterTypes","getLeaseOptions","getPaymentOptions","getTransactionsFilterOptions","id","text","getLastMonthFromToDates","startOfMonth","subMonths","endOfMonth","getLastYearFromToDates","subYears","getYearToDateFromToDates","getCurrentMonthFromToDates","getLastThreeMonthsFromToDates","getMonthsInYear","currencyFormatter","Intl","NumberFormat","undefined","style","currency","useStyles","makeStyles","theme","root","display","alignItems","height","width","wrapper","margin","spacing","position","buttonProgress","color","green","top","left","marginTop","marginLeft","CustomCircularProgress","open","dialogTitle","classes","maxWidth","aria-labelledby","container","direction","item","lg","className","size","ImageCropper","selectedFile","setCroppedImageData","cropHeight","cropWidth","useState","cropper","setCropper","image","setImage","fileToLoad","reader","FileReader","onloadend","result","readAsDataURL","handleClose","onClose","initialAspectRatio","src","viewMode","guides","minCropBoxHeight","minCropBoxWidth","background","responsive","autoCropArea","checkOrientation","onInitialized","instance","cropBoxResizable","data","justify","variant","onClick","disableElevation","croppedImageData","getCroppedCanvas","toDataURL","getCropData","PROPERTY_BEDS","PROPERTY_BATHS","PropertyUnitSchema","Yup","shape","property_id","trim","required","unit_type","ref","sqm","typeError","min","default","withRouter","props","commonStyles","properties","history","handleItemSubmit","propertyUnitToEdit","propertyValues","address","unit_image_url","file_to_load_url","initialValues","enableReinitialize","validationSchema","onSubmit","values","a","resetForm","setStatus","property_unit","unit_image","deleteUploadedFileByUrl","uploadFilesToFirebase","fileUploadPath","sent","msg","status","handleSubmit","touched","errors","handleChange","handleBlur","setFieldValue","isSubmitting","form","method","Grid","CustomSnackbar","message","Typography","xs","md","TextField","fullWidth","select","name","label","onBlur","onChange","value","error","helperText","map","property","index","MenuItem","key","type","property_bed","property_bath","croppedImage","Avatar","alt","largeAvatar","Box","event","currentTarget","files","accept","fileInputDisplayNone","htmlFor","IconButton","aria-label","component","marginBottom","Button","buttonBox","startIcon","goBack","disabled","PropertyUnitPage","pageTitle","PageHeading","connect","state","ownProps","propertyUnits","find","match","params","propertyUnitId","propertyId","dispatch","url","handleItemFormSubmit"],"mappings":"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","file":"static/js/48.87d0f969.chunk.js","sourcesContent":["import { endOfMonth, endOfYear, startOfToday, eachMonthOfInterval, startOfMonth, startOfYear, subMonths, subYears } from \"date-fns\";\n\nconst monthsInYear = eachMonthOfInterval({\n\tstart: startOfYear(startOfToday()),\n\tend: endOfYear(startOfToday()),\n})\n//general contact titles\nconst TITLES_LIST = [\"Mr\", \"Prof\", \"Hon\", \"Sir\", \"Mrs\", \"Miss\", \"Dr\", \"Madam\", \"Other\"]\nconst GENDERS_LIST = [\"Male\", \"Female\", \"Unspecified\"];\nconst EXPENSES_CATEGORIES = [\n\t'Security Deposit Refund',\n\t'Water Deposit Refund',\n\t'Management Fees',\n\t'Utilities',\n\t'Taxes',\n\t'Mortgage',\n\t'Office',\n\t'Maintenance & Cleaning',\n\t'Advertising',\n\t'Insurance',\n\t'Legal & Other Professional Fees',\n\t'Auto & Travel',\n\t'Supplies',\n\t'Other Refund',\n\t'Repairs',\n\t'Other'\n]\nconst PROPRERTY_TYPES = [\n\t\"Residential\",\n\t\"Condo/Townhouse\",\n\t\"Multi-family\",\n\t\"Single-family\",\n]\nconst UNIT_TYPES = [\n\t\"Bed Sitter\",\n\t\"One Bedroom\",\n\t\"Two Bedroom\",\n\t\"Single Room\",\n\t\"Double Room\",\n\t\"Shop\",\n\t\"Other\",\n];\nconst LEASE_OPTIONS = [\n\t\"Fixed\",\n\t\"Fixed w/rollover\",\n];\nconst METER_TYPES = [\"Electric\", \"Sewer\", \"Water\"];\nconst FREQUENCY_OPTIONS = [\"Per Day\", \"Week\", \"Month\", \"Quarter\", \"Half Year\", \"Year\"];\nconst PAYMENT_FREQUENCY_OPTIONS = [\"Daily\", \"Weekly\", \"Monthly\", \"Quarterly\", \"Half-Yearly\", \"Yearly\"];\n\n//functions to get the above values\nexport function getContactTitles() {\n\treturn TITLES_LIST;\n}\n\nexport function getGendersList() {\n\treturn GENDERS_LIST;\n}\n\nexport function getExpensesCategories() {\n\treturn EXPENSES_CATEGORIES;\n}\n\n//general property types\nexport function getPropertyTypes() {\n\treturn PROPRERTY_TYPES;\n}\n\n//general unit types\nexport function getUnitTypes() {\n\treturn UNIT_TYPES;\n}\n\nexport function getPropertyBaths() {\n\tconst baths = [];\n\tfor (let i = 1; i <= 5; i++) {\n\t\tbaths.push(i);\n\t}\n\treturn baths.concat(\"5+\");\n}\n\nexport function getPropertyBeds() {\n\tconst beds = [];\n\tfor (let i = 1; i <= 5; i++) {\n\t\tbeds.push(i);\n\t}\n\treturn beds;\n}\n\nexport function getFrequencyOptions() {\n\treturn FREQUENCY_OPTIONS;\n}\n\nexport function getMeterTypes() {\n\treturn METER_TYPES;\n}\n\nexport function getLeaseOptions() {\n\treturn LEASE_OPTIONS;\n}\n\nexport function getPaymentOptions() {\n\treturn PAYMENT_FREQUENCY_OPTIONS;\n}\n\nexport function getTransactionsFilterOptions() {\n\treturn [\n\t\t{ id: 'month-to-date', text: 'Month To Date' }, { id: 'last-month', text: 'Last Month' },\n\t\t{ id: '3-months-to-date', text: '3 Months To Date' }, { id: 'year-to-date', text: 'Year To Date' },\n\t\t{ id: 'last-year', text: 'Last Year' },];\n}\n\nexport function getLastMonthFromToDates() {\n\treturn [startOfMonth(subMonths(startOfToday(), 1)), endOfMonth(subMonths(startOfToday(), 1))]\n}\n\nexport function getLastYearFromToDates() {\n\treturn [startOfYear(subYears(startOfToday(), 1)), endOfYear(subYears(startOfToday(), 1))]\n}\n\nexport function getYearToDateFromToDates() {\n\treturn [startOfYear(startOfToday()), startOfToday()]\n}\n\nexport function getCurrentMonthFromToDates() {\n\treturn [startOfMonth(startOfToday()), endOfMonth(startOfToday())]\n}\n\nexport function getLastThreeMonthsFromToDates() {\n\treturn [startOfMonth(subMonths(startOfToday(), 2)), endOfMonth(startOfToday())]\n}\n\nexport function getMonthsInYear() {\n\treturn monthsInYear\n}\n\n// Create our number formatter.\nexport const currencyFormatter = new Intl.NumberFormat(undefined, {\n\tstyle: 'decimal',\n\tcurrency: 'KES',\n});\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { green } from '@material-ui/core/colors';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        alignItems: 'center',\n        height: 80,\n        width: 120,\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: 'relative',\n        height: 50,\n        width: 50,\n    },\n    buttonProgress: {\n        color: green[500],\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    },\n}));\n\nexport default function CustomCircularProgress({ open, dialogTitle }) {\n    const classes = useStyles();\n    \n    return (\n        <Dialog maxWidth={\"md\"} aria-labelledby=\"simple-dialog-title\" open={open}>\n            <DialogContent>\n                <Grid container alignItems=\"center\" direction=\"column\">\n                    <Grid item lg>\n                        <Typography>{dialogTitle || \"Saving...\"}</Typography>\n                    </Grid>\n                    <Grid item lg>\n                        <div className={classes.root}>\n                            <div className={classes.wrapper}>\n                                {open && <CircularProgress size={50} className={classes.buttonProgress} />}\n                            </div>\n                        </div>\n                    </Grid>\n                </Grid>\n            </DialogContent>\n        </Dialog>\n\n    );\n}\n","import React, { useState } from 'react'\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Cropper from \"react-cropper\";\nimport \"cropperjs/dist/cropper.css\";\nimport PropTypes from 'prop-types';\n\nconst ImageCropper = ({ open, selectedFile, setCroppedImageData, cropHeight, cropWidth }) => {\n\n    const [cropper, setCropper] = useState()\n    const [image, setImage] = useState()\n\n    const fileToLoad = selectedFile;\n\n    const reader = new FileReader();\n    reader.onloadend = () => {\n        setImage(reader.result)\n    };\n    reader.readAsDataURL(fileToLoad);\n\n    const getCropData = () => {\n        if (typeof cropper !== \"undefined\") {\n            const croppedImageData = cropper.getCroppedCanvas().toDataURL()\n            fileToLoad.data = croppedImageData\n            setCroppedImageData(fileToLoad)\n\n        }\n    };\n\n    const handleClose = () => {\n        setCroppedImageData(\"\")\n    }\n\n    return (\n        <Dialog\n            open={open}\n            onClose={handleClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogContent>\n                <Grid container spacing={2}>\n                    <Grid item>\n                        <Cropper\n                            style={{ height: \"100%\", width: \"100%\" }}\n                            initialAspectRatio={cropWidth === cropHeight ? 1 : (16 / 9)}\n                            src={image}\n                            viewMode={0.5}\n                            guides={true}\n                            minCropBoxHeight={cropHeight}\n                            minCropBoxWidth={cropWidth}\n                            background={false}\n                            responsive={true}\n                            autoCropArea={0.5}\n                            checkOrientation={false}\n                            onInitialized={(instance) => {\n                                setCropper(instance);\n                            }}\n                            cropBoxResizable={false}\n                            data={{height: cropHeight, width: cropWidth}}\n                        />\n                    </Grid>\n                    <Grid item container justify=\"center\" direction=\"row\" spacing={2}>\n                        <Grid item>\n                            <Button\n                                color=\"secondary\"\n                                variant=\"contained\"\n                                size=\"medium\"\n                                onClick={() => handleClose()}\n                                disableElevation\n                            >\n                                Cancel\n\t\t\t\t\t        </Button>\n                        </Grid>\n                        <Grid item>\n                            <Button\n                                color=\"primary\"\n                                variant=\"contained\"\n                                size=\"medium\"\n                                onClick={() => getCropData()}\n                            >\n                                Crop Image\n\t\t\t\t\t        </Button>\n                        </Grid>\n                    </Grid>\n                </Grid>\n            </DialogContent>\n        </Dialog >\n    )\n}\n\nImageCropper.propTypes = {\n    cropHeight: PropTypes.number.isRequired,\n    cropWidth: PropTypes.number.isRequired,\n}\n\nexport default ImageCropper;","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Box from \"@material-ui/core/Box\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport CustomSnackbar from '../CustomSnackbar'\nimport { Formik } from \"formik\";\nimport { uploadFilesToFirebase, deleteUploadedFileByUrl } from \"../../actions/actions\";\nimport { commonStyles } from \"../commonStyles\";\nimport { withRouter } from \"react-router-dom\";\nimport {\n\tgetUnitTypes,\n\tgetPropertyBeds,\n\tgetPropertyBaths,\n} from \"../../assets/commonAssets.js\";\nimport ImageCropper from '../ImageCropper';\nimport CustomCircularProgress from \"../CustomCircularProgress\";\nimport * as Yup from \"yup\";\n\nconst UNIT_TYPES = getUnitTypes();\nconst PROPERTY_BEDS = getPropertyBeds();\nconst PROPERTY_BATHS = getPropertyBaths();\n\nconst PropertyUnitSchema = Yup.object().shape({\n\tproperty_id: Yup.string().trim().required(\"Property is Required\"),\n\tunit_type: Yup.string().trim().required(\"Unit Type is Required\"),\n\tbaths: Yup.string().trim(),\n\tbeds: Yup.string().trim().required(\"Beds is required\"),\n\tref: Yup.string().trim().required(\"Unit Ref Required\"),\n\tsqm: Yup.number().typeError('Square meters must be a number').min(0).default(0),\n});\n\n\nlet PropertyUnitInputForm = (props) => {\n\tconst classes = commonStyles();\n\tconst { properties, history, handleItemSubmit } = props\n\tlet propertyUnitToEdit = props.propertyUnitToEdit || {};\n\t//get both unit values and latest lease information\n\tconst propertyValues = {\n\t\tid: propertyUnitToEdit.id,\n\t\tref: propertyUnitToEdit.ref || \"\",\n\t\tproperty_id: propertyUnitToEdit.property_id || \"\",\n\t\taddress: propertyUnitToEdit.address || \"\",\n\t\tunit_type: propertyUnitToEdit.unit_type || \"\",\n\t\tbeds: propertyUnitToEdit.beds || \"\",\n\t\tbaths: propertyUnitToEdit.baths || \"\",\n\t\tsqm: propertyUnitToEdit.sqm || '',\n\t\tunit_image_url: propertyUnitToEdit.unit_image_url || '',\n\t\tfile_to_load_url: '',\n\t};\n\n\treturn (\n\t\t<Formik\n\t\t\tinitialValues={propertyValues}\n\t\t\tenableReinitialize validationSchema={PropertyUnitSchema}\n\t\t\tonSubmit={async (values, { resetForm, setStatus }) => {\n\t\t\t\ttry {\n\t\t\t\t\tlet property_unit = {\n\t\t\t\t\t\tid: values.id,\n\t\t\t\t\t\tproperty_id: values.property_id,\n\t\t\t\t\t\tref: values.ref,\n\t\t\t\t\t\taddress: values.ref,\n\t\t\t\t\t\tunit_type: values.unit_type,\n\t\t\t\t\t\tbeds: values.beds,\n\t\t\t\t\t\tbaths: values.baths,\n\t\t\t\t\t\tsqm: values.sqm,\n\t\t\t\t\t};\n\t\t\t\t\t//check if the unit has an image to upload\n\t\t\t\t\tif (values.unit_image && values.unit_image.data) {\n\t\t\t\t\t\t//if the user had previously uploaded an image for unit\n\t\t\t\t\t\t// then delete it here and replace the url with new uploaded image\n\t\t\t\t\t\tif (values.unit_image_url) {\n\t\t\t\t\t\t\t//delete file from storage\n\t\t\t\t\t\t\tawait deleteUploadedFileByUrl(values.unit_image_url);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//upload the file to the database and assign the resulting file \n\t\t\t\t\t\t// upload path to property_unit\n\t\t\t\t\t\tconst fileUploadPath = await uploadFilesToFirebase(values.unit_image)\n\t\t\t\t\t\tproperty_unit.unit_image_url = fileUploadPath\n\t\t\t\t\t}\n\t\t\t\t\t//save the unit details\n\t\t\t\t\tawait handleItemSubmit(property_unit, 'property_units')\n\t\t\t\t\tresetForm({});\n\t\t\t\t\tsetStatus({ sent: true, msg: \"Unit saved successfully!\" })\n\t\t\t\t} catch (error) {\n\t\t\t\t\tsetStatus({ sent: false, msg: `Error! ${error}.` })\n\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t{({\n\t\t\t\tvalues,\n\t\t\t\tstatus,\n\t\t\t\thandleSubmit,\n\t\t\t\ttouched,\n\t\t\t\terrors,\n\t\t\t\thandleChange,\n\t\t\t\thandleBlur,\n\t\t\t\tsetFieldValue,\n\t\t\t\tisSubmitting,\n\t\t\t}) => (\n\t\t\t\t<form\n\t\t\t\t\tclassName={classes.form}\n\t\t\t\t\tmethod=\"post\"\n\t\t\t\t\tid=\"propertyUnitInputForm\"\n\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstatus && status.msg && (\n\t\t\t\t\t\t\t\t<CustomSnackbar\n\t\t\t\t\t\t\t\t\tvariant={status.sent ? \"success\" : \"error\"}\n\t\t\t\t\t\t\t\t\tmessage={status.msg}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tisSubmitting && (<CustomCircularProgress open={true} />)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Grid container item spacing={2} direction=\"column\">\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle2\">\n\t\t\t\t\t\t\t\t\tUnit Details\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid container item spacing={2} direction=\"row\">\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\t\tname=\"property_id\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Property With Unit\"\n\t\t\t\t\t\t\t\t\t\tid=\"property_id\"\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tvalue={values.property_id}\n\t\t\t\t\t\t\t\t\t\terror={errors.property_id && touched.property_id}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.property_id && errors.property_id}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{properties.map((property, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={property.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t{property.ref}\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tname=\"ref\"\n\t\t\t\t\t\t\t\t\t\tid=\"ref\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Unit Ref\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.ref}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={errors.ref && touched.ref}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.ref && errors.ref}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid container item spacing={2} direction=\"row\">\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\t\tname=\"unit_type\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Unit Type\"\n\t\t\t\t\t\t\t\t\t\tid=\"unit_type\"\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tvalue={values.unit_type}\n\t\t\t\t\t\t\t\t\t\terror={errors.unit_type && touched.unit_type}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.unit_type && errors.unit_type}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{UNIT_TYPES.map((unit_type, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={unit_type}>\n\t\t\t\t\t\t\t\t\t\t\t\t{unit_type}\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\t\tname=\"beds\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Beds\"\n\t\t\t\t\t\t\t\t\t\tid=\"beds\"\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tvalue={values.beds}\n\t\t\t\t\t\t\t\t\t\terror={errors.beds && touched.beds}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.beds && errors.beds}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{PROPERTY_BEDS.map((property_bed, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={property_bed}>\n\t\t\t\t\t\t\t\t\t\t\t\t{property_bed}\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid container item spacing={2} direction=\"row\">\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\t\tname=\"baths\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Baths\"\n\t\t\t\t\t\t\t\t\t\tid=\"baths\"\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tvalue={values.baths}\n\t\t\t\t\t\t\t\t\t\terror={errors.baths && touched.baths}\n\t\t\t\t\t\t\t\t\t\thelperText={\"Baths in Unit\"}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{PROPERTY_BATHS.map((property_bath, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={property_bath}>\n\t\t\t\t\t\t\t\t\t\t\t\t{property_bath}\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tname=\"sqm\"\n\t\t\t\t\t\t\t\t\t\tid=\"sqm\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Square meters\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.sqm}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={errors.sqm && touched.sqm}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.sqm && errors.sqm}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t\t\t\tspacing={4}\n\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid key={1} item xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalues.file_to_load_url &&\n\t\t\t\t\t\t\t\t\t\t<ImageCropper open={true} selectedFile={values.file_to_load_url}\n\t\t\t\t\t\t\t\t\t\t\tsetCroppedImageData={(croppedImage) => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('file_to_load_url', '');\n\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('unit_image', croppedImage);\n\t\t\t\t\t\t\t\t\t\t\t}} cropHeight={200} cropWidth={300} />\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"100%\", height: '300px' }}\n\t\t\t\t\t\t\t\t\t\talt=\"Unit Image\"\n\t\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t\tvalues.unit_image ?\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.unit_image.data\n\t\t\t\t\t\t\t\t\t\t\t\t: values.unit_image_url\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.largeAvatar} variant=\"rounded\"\n\t\t\t\t\t\t\t\t\t>Image</Avatar>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid key={2} xs={12} item md>\n\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t<input onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\tconst selectedFile = event.currentTarget.files[0]\n\t\t\t\t\t\t\t\t\t\t\t//remove the object then push a copy of it with added image object\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"file_to_load_url\", selectedFile);\n\t\t\t\t\t\t\t\t\t\t}} accept=\"image/*\" className={classes.fileInputDisplayNone} id={\"unit-image-input\"} type=\"file\" />\n\t\t\t\t\t\t\t\t\t\t<label htmlFor={\"unit-image-input\"}>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\n\t\t\t\t\t\t\t\t\t\t\t\t<PhotoCamera />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<Box marginBottom=\"1\">{values.unit_image_url || values.unit_image ? \"Change Image\" : \"Add Image\"}</Box>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tvalues.unit_image_url ? <Button variant=\"contained\" onClick={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\tawait deleteUploadedFileByUrl(values.unit_image_url)\n\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('unit_image_url', '')\n\t\t\t\t\t\t\t\t\t\t\t}}>Delete Image</Button> : null\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\tclassName={classes.buttonBox}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\tstartIcon={<CancelIcon />}\n\t\t\t\t\t\t\t\t\tonClick={() => history.goBack()}\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\tstartIcon={<SaveIcon />}\n\t\t\t\t\t\t\t\t\tform=\"propertyUnitInputForm\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</Formik>\n\t);\n};\n\nexport default withRouter(PropertyUnitInputForm);\n","import React from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport PageHeading from \"../components/PageHeading\";\nimport Layout from \"../components/PrivateLayout\";\nimport { connect } from \"react-redux\";\nimport PropertyUnitInputForm from \"../components/property/PropertyUnitInputForm\";\nimport { withRouter } from \"react-router-dom\";\nimport { handleItemFormSubmit } from \"../actions/actions\";\n\nlet PropertyUnitPage = ({ propertyUnitToEdit, properties, handleItemSubmit }) => {\n\n\tlet pageTitle = propertyUnitToEdit.id ? \"Edit Unit\" : \"Add Unit\";\n\n\treturn (\n\t\t<Layout pageTitle={pageTitle}>\n\t\t\t<Grid container justify=\"center\" direction=\"column\">\n\t\t\t\t<Grid item key={2}>\n\t\t\t\t\t<PageHeading text={pageTitle} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid\n\t\t\t\t\titem\n\t\t\t\t>\n\t\t\t\t\t<PropertyUnitInputForm handleItemSubmit={handleItemSubmit}\n\t\t\t\t\t\tpropertyUnitToEdit={propertyUnitToEdit} properties={properties} />\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Layout>\n\t);\n};\n\nconst mapStateToProps = (state, ownProps) => {\n\tlet propertyUnitToEdit = state.propertyUnits.find(({ id }) => id === ownProps.match.params.propertyUnitId);\n\tif (!propertyUnitToEdit) {\n\t\tconst propertyToAddUnit = state.properties.find(({ id }) => id === ownProps.match.params.propertyId) || {};\n\t\tpropertyUnitToEdit = {\n\t\t\tproperty_id: propertyToAddUnit.id\n\t\t}\n\t}\n\n\treturn {\n\t\tpropertyUnitToEdit: propertyUnitToEdit,\n\t\tproperties: state.properties,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\thandleItemSubmit: (item, url) => dispatch(handleItemFormSubmit(item, url)),\n\t};\n};\n\nPropertyUnitPage = connect(mapStateToProps, mapDispatchToProps)(PropertyUnitPage);\n\nexport default withRouter(PropertyUnitPage);\n"],"sourceRoot":""}